ID,Title,Question,Top Answers,Score,Tags,Date
64631438,install zabbix server on nixos,"what i have i have a server raspberry pi connected to a fritzboxrouter via ethernet with a fresh nixos installation on it. i can connect to it via ssh ssh adminnixos.fritz.box. i already have some experience with nixos, but not much. what i want i would like it to run a zabbix server on it and connect have a web interface to connect to for example at nixos.fritz.boxzabbix, but i dont really care where. what i tried i found that there are multiple packages for zabbix on packages on pkgsserversmonitoringzabbix for zabbixserver, web, agent and proxy. modules on nixosmodulesservicesmonitoring for zabbixserver,agent and proxy. also nix search zabbix gave me hints on zabbixcli and zabbixctl, which i belive are there for managing an existing zabbix installation and therefore not helpfull for my problem. i looked up zabbix in the options for configuration.nix and found a lot. most promissing looking was services.zabbixserver.enable. i set that to true in my config and rebuilt it. this seems to have worked systemctl status zabbixserver.service zabbixserver.service zabbix server loaded loaded nixstoredxm7imx0ryfxdyqq5bj42klprycnpznaunitzabbixserver.servicezabbixserver.service enabgt active active running since sat 20201031 174559 utc 17h ago process 14883 execstartprenixstore1py4ma02cnarrnx2yhz1gnjgpv4m9v06unitscriptzabbixserverprestartbinzabgt main pid 14896 zabbixserver ip 41.4k in, 62.1k out tasks 38 limit 4481 memory 33.0m ... sudo netstat nap grep zabbix sudo password for admin tcp 0 0 0.0.0.010051 0.0.0.0 listen 14896zabbixserver ... but i still dont know how to connect to a web interface. i tried to enable zabbixweb services.zabbixweb.enable to true but ran into an error and i dont know how to resolve it sudo nixosrebuild switch building nix... building the system configuration... error the option services.zabbixweb.virtualhost is used but not defined. i looked through hints on zabbix in the following manuals, but didnt find any hints on zabbix there. nixmanual nixpkgsmanual nixosmanual which contains a lot of applicationspecific help, for example for nextcloud what i wish for i would like to have a minimal configuration.nix that allows to run zabbix server and connect to its webinterface with a browser. thanks a lot in advance","the error message indicates that services.zabbixweb.virtualhost is used but not defined. the solution to this is most likely to define a value for that option. you can find the documentation for services.zabbixweb.virtualhost here in that file you will see many other options are defined, and you will probably need to set many of them too. || thanks to david grayson whos answer i marked as solving to be fair to him i figured that this is the minimal setup to log in as zabbix.localhost with the zabbix default credentials. services.zabbixserver.enable true services.zabbixweb enable true virtualhost hostname quotzabbix.localhostquot adminaddr quotwebmasterlocalhostquot also nice to add for having a client on the server technically not needed on the server, but good for testing. services.zabbixagent enable true server quotlocalhostquot",1,server;raspberry-pi;zabbix;nix;nixos,2020-11-01
