ID,Title,Question,Top Answers,Score,Tags,Date
79591153,"why can39t i saturate the tcp backlog with syn flood in docker, but it works fine on physical hardware?","problem im investigating syn flood attacks for a university project, but im facing an interesting challenge the same attack that successfully saturates a raspberry pi fails completely in a docker environment. despite extensive testing and configuration adjustments, i cannot replicate in docker the network saturation effects that are easily observable on physical hardware. test environment details setup 1 docker environment where attack fails host machine macbook air m2 arm64 docker network custom bridge network etunet target container ubuntu 22.04 with apache2 exposed on port 80 attacker container python 3.12 devcontainer with scapy, hping3, pytest installed both containers are in the same docker network all tests are launched from vs code via pytest in the attacker container setup 2 physical machine where attack succeeds target raspberry pi 5 16gb ram running apache2 directly on the os attacker same python devcontainer as above tests executed identically through the same code important the raspberry pi tests are also launched from the same devcontainer, just targeting a different ip what works on the raspberry pi when attacking the raspberry pi from my devcontainer the synrecv queue quickly fills up to 64 entries or 511 depending on configuration tcp retransmissions are visible in metrics http requests fail with connection refused or timeout errors attack is effective using both hping3 and custom python scripts using scapy server configuration tcpsyncookies0, tcpmaxsynbacklog64, somaxconn64 heres the successful test output running pytest with args ...testsynfloodcustomwith test syn flood python on 192.168.1.4080 http before attack status 200, time 0.02106 launching custom python flood 100000 packets http during attack error quot port80 max retries exceeded with url caused by newconnectionerrorlturllib3.connection. object at 0xffffb0063aa0gt failed to establish a new connection errno 111 connection refusedquot http request failed effect confirmed 1 passed in 11.57s important note after my initial tests, i restored the raspberry pi to default security parameters net.ipv4.tcpsyncookies 1 enabled net.ipv4.tcpmaxsynbacklog 1024 net.core.somaxconn 4096 even with these default, more secure settings, the attack continues to work effectively on the raspberry pi, successfully preventing http connections during the flood. what fails in docker the exact same attack code launched against the docker container synrecv queue never increases stays at 0 or 1 connections http requests always succeed without any slowdown setting tcpsyncookies0 and minimizing tcpmaxsynbacklog and somaxconn has no effect important detail while the attack doesnt impact the servers ability to accept connections, the kernel metrics do show that the syn packets are being received and processed. specifically, the embryonicrsts counter in procnetnetstat increments significantly over 6 million rsts observed during testing. this indicates that the docker container is receiving the syn packets and rejecting them, but somehow this process doesnt consume the resources needed to saturate the backlog queue. ive tried the following approaches hping3 s flood p 80 randsource lttargetipgt hping3 s p 80 i u10 faster lttargetipgt custom python scapy script sending syn packets with random source ipsports running from multiple threads with different attack variants setting docker to run with privileged and capaddnetadmin,netraw explicitly minimizing all related settings sysctl w net.ipv4.tcpmaxsynbacklog1, sysctl w net.ipv4.tcpsyncookies0, sysctl w net.core.somaxconn1 gt in all cases, despite millions of rst packets being generated, the backlog never saturates and http requests always succeed. hypotheses i suspect the docker networking stack, particularly on macos with docker desktop, processes syn packets differently than physical hardware dockers bridge network may be filtering or handling halfopen connections at a lower level the virtualization layer on macos m2 might protect against backlog saturation the kernel inside the container may have different behavior for connection handling network namespaces in docker might handle connection tracking differently docker might be rejecting the syn packets before they can consume tcp backlog resources questions is it fundamentally possible to saturate the tcp backlog synrecv queue in a docker container? are there specific docker network configurations needed for syn floods to work properly? could the host os macos arm be affecting the containers network behavior? are there any workarounds to force docker to more accurately simulate the behavior of a physical network interface? could there be specific protections in docker networking that prevent this type of attack from working as expected? ive spent several days investigating this and would appreciate insights from anyone with experience in docker networking internals or lowlevel tcp attacks in containerized environments.",,0,docker;apache;raspberry-pi;syn,2025-04-24
79590657,flutter app connect to raspberry pi 4 model b,"how can i connect a flutter app using flutterblueplus to a raspberry pi 4 model b? i need to send data from the flutter app to the raspberry pi over bluetooth low energy ble, and when the pi receives the data, it should display it. how can i set up the connection and sendreceive data between flutter and the pi?",,-1,flutter;raspberry-pi;bluetooth,2025-04-24
79587498,bmi088 sensor returning wrong sensor id,"basically i have the bmi088 connected like this to my rp2040 enter image description here enter image description here im using i2c1 as u can see and i cant get the sensor to work. my code is pretty big but this is the key. wire1 starts correctly or so it appears. but when i call bmi088accelbegin it return 1 suggesting it is by incorrect sensor id by the library int bmi088accelbegin if usespi setting cs pin to output pinmodecspin,output digitalwritecspin,high begin spi communication spigtbegin else starting the i2c bus i2cgtbegin setting the i2c clock i2cgtsetclocki2crate check device id if !iscorrectid return 1 soft reset softreset enable the accel if !setpowertrue return 2 enter active mode if !setmodetrue return 3 self test if !selftest return 4 soft reset softreset enable the accel if !setpowertrue return 5 enter active mode if !setmodetrue return 6 delay50 set default range if !setrangerange24g return 7 set default odr if !setodrodr1600hzbw280hz return 8 check config errors if isconfigerr return 9 check fatal errors if isfatalerr return 10 return 1 if i edit it and print the id it says it is 255. no idea why my sensor id is 255 any idea? try example code of the library, didnt work either also because im using i2c1 not 0 changed the code to fit i2c1 but still didnt work. i cant drop al the code here but it is like this xtaskcreateaffinityset core0task, quotcore0taskquot, core0stacksize, null, core0priority, 1 ltlt 0, run on core 0 null void core0taskvoid pvparameters ... bmi088sensor bmi088 new bmi088sensorwire1, bmiogyraddr, bmioacceladdr ... imumanager.addsensorbmi088 ... initsuccess amp imumanager.begin ... inside imusensor for auto sensor sensors serial.printquotinitializing imu sensor quot serial.printsensorindex serial.printquot quot serial.printsensorgtgetname serial.printlnquot...quot sensorstatus result sensorgtbegin if result sensorstatusok serial.printlnquotimu sensor initialization succeededquot anyinitialized true else serial.printquotimu sensor initialization failed with status quot serial.printlnstaticcastltintgtresult inside the bmio88 begin sensorstatus bmi088sensorbegin int initstatus accel.begin serial.printquotbmi088 accelerometer initialization status quot serial.printlninitstatus if initstatus ! 1 status sensorstatusinitializationerror accelinitialized false return status accelinitialized true int gyrostatus gyro.begin serial.printquotbmi088 gyroscope initialization status quot serial.printlngyrostatus if gyrostatus ! 1 we can still work with just the accelerometer gyroinitialized false else gyroinitialized true set default configurations accel.setodrbmi088accelodr400hzbw40hz accel.setrangebmi088accelrange3g accelrange 3.0f if gyroinitialized gyro.setodrbmi088gyroodr2000hzbw532hz gyro.setrangebmi088gyrorange500dps status accelinitialized ? sensorstatusok sensorstatusinitializationerror return status runned i2c scanner all the other sensors pop up not this one and the conections are as show above",,-1,c++;arduino;raspberry-pi;raspberry-pi-pico,2025-04-22
79586113,github requires password while ssh key is configured,"the platform is raspberry pi not sure what file was changed. few days ago when i tried to push to github it required password. im sure that ive added my public key to github and sshagent has this key. its not a problem of some specific repos. ssh t gitgithub.com requires password as well. following is the result of ssh tv gitgithub.com sry for the picture, stackoverflow treated it as spam","solved, the direct reason is that github is directed to localhost. further reason is that dns server is set to an known device on local network. fixed when setting dns server to 8.8.8.8",-2,linux;git;ssh;raspberry-pi,2025-04-22
79584004,feasibility of a local realtime bluetooth intercom system on raspberry pi 5 audio management and multiple connections encountered issues,"im working on a concept for a local, realtime bluetooth intercom system based on a raspberry pi 5. the main idea is to simultaneously connect multiple bluetooth headsets with builtin microphones to a raspberry pi 5 using only its integrated bluetooth to establish shared bidirectional audio communication. ive managed to establish connections and get audio flowing with three headsets simultaneously, but im encountering unexpected errors and unstable behavior. as a novice in this area, id like to ask for your expertise on the technical feasibility and potential solutions to the following issues. my current implementation involves these core libraries dbusbluez for bluetooth communications glibgobject for event loop management via threading pulseaudio via pulsectl for audio routing and management asyncio for asynchronous operations and concurrency despite using these, im facing the following challenges simultaneous management of multiple stable bidirectional bluetooth audio connections hsphfp profile or equivalent with the raspberry pi 5s integrated bluetooth. while ive successfully connected three headsets using bluez, the connections seem fragile and prone to unexpected disconnections. are there known limitations regarding the number of simultaneous bidirectional audio connections and the stability of these connections using the raspberry pi 5s integrated bluetooth when managed via bluez? recommendations for optimizing stability within this setup would be greatly appreciated. realtime audio routing and mixing for multiple bluetooth audio streams on raspberry pi 5 using pulseaudio via pulsectl. ive attempted to configure pulseaudio to route audio from each headset to a shared stream, but im running into problems such as unwanted audio feedback loops loopback. one headset hearing its own audio in its earpieces. difficulties in correctly mixing the incoming audio streams for simultaneous broadcasting to the other headsets using pulsectl. given my use of pulseaudio and pulsectl for audio management, are there specific patterns or configurations known to work well for this type of realtime bidirectional audio routing with multiple bluetooth sources? any insights into common pitfalls or best practices when using pulsectl in this context would be very helpful. im looking to assess the technical viability of such a system and understand how to resolve these stability and audio configuration problems within my current technological choices. any information, example configurations using these libraries, or troubleshooting tips would be greatly appreciated.",,0,raspberry-pi;bluetooth;bluez;pipewire,2025-04-21
79578917,gpio pin cleanup,"i have used python for a while now, however, i am new to using a raspberry pi and things such as gpio pins. i recently bought a freenove ultrasonic starter kit to help me learn. they have a tutorial included that i am following. in the program i keep getting this error message lgpio.error gpio busy i have tried loads of things. i know it could be a few things in a previous project i didnt cleanup the gpio pins properly or i exported the pins and didnt reverse it. i have tried numerous commands and script to cleanup the code but it wont work. i also rebooted the raspberry pi5 a few times. here is the code i used for my project from gpiozero import led, button import time led led17 define led pin according to bcm numbering button button18 define button pin according to bcm numbering def onbuttonpressed when button is pressed, this function will be executed led.toggle if led.islit printquotled turned on gtgtgtquot else printquotled turned off ltltltquot def loop button detect button.whenpressed onbuttonpressed while true time.sleep1 def destroy led.close button.close if name main program entrance printprogram is starting... try loop except keyboardinterrupt press ctrlc to end the program. destroy printquotending programquot","the error is in your quotloopquot function. first of all you are assigning your quotonbuttonpressedquot function to the class function quotwhenpressedquot of button, which you have assigned your button variable to. then you put quotsleep1quot in a loop which pauses the main thread you are trying to execute your program on. the correct approach to listening to your button input would be something like this def loop while true ifbutton.whenpressed onbuttonpressed time.sleep1 note because of missing context here i am assuming that quotbutton.whenpressedquot returns something like quottruequot or quotfalsequot.",0,python;raspberry-pi;gpio;gpiozero,2025-04-17
79577450,pynput on raspberry pi 4 is not receiving keystrokes,"i am trying to get pynput working on my raspberry pi 4. i tried using the example quotmonitoring keyboardquot script from pynput and i am getting exactly the same issue as in this post. i am using the same scripts that are used in the problem and solution sections. python script locked by thread. in both cases, the terminal does not recognize the key strokes e.g. when i press q, nothing happens. when i cancel the script, it says wait gotit waiter.acquiretrue,timeout what am i doing wrong and how can i further diagnose the issue? i dont really understand how to resolve this part of thread. specs raspberry pi4 running raspberry pi os with desktop pynput version 1.8.1",,0,multithreading;raspberry-pi;pynput,2025-04-16
79572586,raspberry pi how to use custom chip select with spidev without interfering with the default ce pins,"i currently have a board attached to my raspberrypi with 2 spi devices on it. i looked at the source code of the library of this board found at the two devices use spiadc.open0,0 and spidac.open0,1 i am adding a third spi device call it ina. i have used gpio 23 as the cs pin for that. but to use functions like xfer2 i need to use ina.open, otherwise i get errors. i attempted ina.open0,2 but got the error filenotfounderror errno 2 no such file or directory i have only seen examples with spidev.open0,0 and spidev0,1, so i dont know if there is a limit. i attempted to use ina.open0,0 and ina.nocs hoping this would not interfere with spiadc. but as expected it did. i have pulled gpio23, which i was using as the cs line for the ina, low manually and then attempted xfer2 with ina inacsline.setvalue0 rec ina.xfer2sendtx inacsline.setvalue1 i have verified with the oscilloscope that when using ina.xfer2 also the cs line of spiadc is pulled low as it is also at 0,0. hence my question, how do i open an spidev connection with a specified a custom specified pin as cs. or, if i pull the cs low for the third chip manually, how do i use ina.xfer2 which it seems requires ina.open, without it interfering with the other spi devices cs line.",,0,python;raspberry-pi;spi,2025-04-14
79570105,can i use dronekit to control pixhawk?,"i am using pixhawk 6c hardware with firmware version pixhawk13.2, a raspberry pi 3b as the onboard computer, and dronekit as the software. i am trying to control the flight using only the laser sensor and the px4 flow optical flow sensor. currently, i can use the remote controller to make the drone hover stably in the air. however, when controlling the aircraft with dronekit, i can switch the flight mode using vehicle.setmode, but after sending the setpositiontargetlocalned message to set the drones vx, vy, vz, i cannot control the drone to move forward, backward, left, or right. can i use dronekit to control pixhawk? do i have to use mavros?",,0,raspberry-pi;dronekit-python;px4,2025-04-12
79568637,reproducing the raspberry pi environment on a m4 silicon mac,"the short story is that i need to develop apps for the pi and i would like to have a similar environment on my mac to test configuration of the systemd services, setting up and running python the way i need it, etc.. i found out that the raspberry pi desktop distro 20220701raspiosbullseyei386 isnt of help because its x86. i managed to run the arm64 version on qemu, but through emulation not virtualisation, so its too slow to be usable. same with the i386 distribution above. ive seen apple virtualisation framework and rosetta mentioned a few times but i could not get it to boot using utm or parallels 20.2, no matter how i tried. i was thinking about starting with debian, and id like some pointers for what i need to install in order to reproduce a good testing environment. a starter is to install lxde for example. but is there a list?",,0,raspberry-pi;debian;virtual-machine;raspbian,2025-04-11
79566022,ioctluvciocctrlset failed 1 and devvideox becomes inaccessible until reboot synexens cs20 on raspberry pi 4b,"im using the synexens cs20 duallens tof lidar sensor with the synexenssdk v4.2.1.0, armv8 on a raspberry pi 4 model b running ubuntu 24.04 64bit. the device works fine once after a cold boot, but then fails on all subsequent runs with the following error ioctluvciocctrlset failed 1 open video device failed ive ensured that i properly stop and release the device using the sdks recommended calls sdk documentation stopstreaming closedevice uninitsdk but despite this, the device ends up in a lockedbusy state. only a full cold reboot makes it functional again. what ive tried unbinding and rebinding usb echo 11.1 sudo tee sysbususbdriversusbunbind echo 11.1 sudo tee sysbususbdriversusbbind reloading kernel modules sudo modprobe r uvcvideo ampamp sudo modprobe uvcvideo changing permissions of devvideox resetting usb port power using uhubctl sudo uhubctl l 11 a off sleep 2 sudo uhubctl l 11 a on confirmed libsonixcamera.so is correctly linked checked dmesg for uvcrelated errors e.g., status 71 after the first run v4l2ctl cannot open the device. the sdk reports finddevice errorcode0. device is still visible in lsusb and devvideox exists, but all access fails. goal i want to stream depth data reliably from the cs20 device in a realtime loop, with the ability to gracefully shut down and restart the application without having to reboot the entire system each time. questions is there a kernellevel way to forcefully release the video device? is it a driver bug in uvcvideo or something sdkspecific? any known workaround or patch for arm64based systems like raspberry pi? any help, insights, or alternative ideas would be greatly appreciated! specs device synexens cs20 dual board raspberry pi 4b 8gb os ubuntu 24.04 also tested on 22.04 sdk synexenssdk 4.2.1.0 armv8 kernel 5.15.x 64bit important links sdk link",i figured out the issue. the problem was less power supply so i added 12v power hub and connected my lidar to the hub. solved the issue!,2,linux;raspberry-pi;ubuntu-22.04;ioctl;lidar,2025-04-10
79566010,want to capture video from live gamer ultra gc553 on raspberry pi 5,"environment raspberry pi 5 geekworm usbc power adapter pd 27w typec compatible with raspberry pi 5 pi 4 raspberry pi os 12.10 live gamer ultra gc553 nintendo switch goal i want to analyze gameplay footage from the nintendo switch using opencv in python on the raspberry pi 5 by capturing it through the live gamer ultra gc553. questions ultimately, is it possible to capture video from the live gamer ultra gc553 on the raspberry pi 5? how can i resolve the following issue? the issue i ran the following python code on the raspberry pi import cv2 camid 0 cap cv2.videocapturecamid cap.setcv2.cappropframewidth, 1280 cap.setcv2.cappropframeheight, 720 while true ret, frame cap.read printframe if not ret printquotfailed to capture imagequot break cv2.imshowquotcameraquot, frame if cv2.waitkey1 amp 0xff ordq break the output was none failed to capture image when i changed camid to 1 or higher, i got the following error warn00.014 global capv4l.cpp913 open videoiov4l2devvideo1 cant open camera by index error00.100 global obsensoruvcstreamchannel.cpp158 getstreamchannelgroup camera index out of range none failed to capture image what ive tried after connecting the gc553 to the raspberry pi 5, the device lights up blue, so the usb connection seems fine. then, i ran the following command to check if the gc553 is recognized v4l2ctl listdevices heres the output pispbe platform1000880000.pispbe devvideo20 devvideo21 ... devvideo35 devmedia0 devmedia1 rpihevcdec platformrpihevcdec devvideo19 devmedia2 live gamer ultravideo live ga usbxhcihcd.11 devvideo0 devvideo1 devmedia3 so the gc553 is listed as devvideo0 and devvideo1. then, i tried to preview the video using ffplay ffplay devvideo0 but i got the following error xxxraspberrypi ffplay devvideo0 ffplay version 5.1.60deb12u1rpt3 copyright c 20032024 the ffmpeg developers built with gcc 12 debian 12.2.014 configuration prefixusr extraversion0deb12u1rpt3 toolchainhardened incdirusrincludeaarch64linuxgnu enablegpl disablestripping disablemmal enablegnutls enableladspa enablelibaom enablelibass enablelibbluray enablelibbs2b enablelibcaca enablelibcdio enablelibcodec2 enablelibdav1d enablelibflite enablelibfontconfig enablelibfreetype enablelibfribidi enablelibglslang enablelibgme enablelibgsm enablelibjack enablelibmp3lame enablelibmysofa enablelibopenjpeg enablelibopenmpt enablelibopus enablelibpulse enablelibrabbitmq enablelibrist enablelibrubberband enablelibshine enablelibsnappy enablelibsoxr enablelibspeex enablelibsrt enablelibssh enablelibsvtav1 enablelibtheora enablelibtwolame enablelibvidstab enablelibvorbis enablelibvpx enablelibwebp enablelibx265 enablelibxml2 enablelibxvid enablelibzimg enablelibzmq enablelibzvbi enablelv2 enableomx enableopenal enableopencl enableopengl enablesand enablesdl2 disablesndio enablelibjxl enableneon enablev4l2request enablelibudev enableepoxy libdirusrlibaarch64linuxgnu archarm64 enablepocketsphinx enablelibrsvg enablelibdc1394 enablelibdrm enablevoutdrm enablelibiec61883 enablechromaprint enablefrei0r enablelibx264 enablelibplacebo enablelibrav1e enableshared libavutil 57. 28.100 57. 28.100 libavcodec 59. 37.100 59. 37.100 libavformat 59. 27.100 59. 27.100 libavdevice 59. 7.100 59. 7.100 libavfilter 8. 44.100 8. 44.100 libswscale 6. 7.100 6. 7.100 libswresample 4. 7.100 4. 7.100 libpostproc 56. 6.100 56. 6.100 video4linux2,v4l2 0x7ffeb0000c20 ioctlvidiocstreamon no such file or directory devvideo0 no such file or directory any ideas on how to solve this or whether capturing gc553 video on raspberry pi 5 is even possible? thanks in advance!",,0,python-3.x;raspberry-pi;video-capture;raspberry-pi5,2025-04-10
79559242,tfliteruntime valueerror didn39t find op for builtin opcode 39fullyconnected39 version 391239. an older version of this builtin might be supported,i have trained and quantised my models on tensorflow2.19.0 instead of a previous version and now am facing troubles in using the quantised models for inference on my raspberry pi raspbian gnulinux 11 bullseye. the latest version of tfliteruntime seems to be 2.13.0 and i get the following error when i run invoke the interpreter interpreter tflite.interpretermodelcontenttflitemodel valueerror didnt find op for builtin opcode fullyconnected version 12. an older version of this builtin might be supported. are you using an old tflite binary with a newer model? i do understand that this issue can be resolved if i downgrade my tensorflow to 2.13 and trainquantise my models but i have 30 models which will take around 2 weeks to train and quantise on my resources. is there a way i can use the latest tfliteinterpreter on my raspberry pi? any help in this regard would be great! pc,,0,tensorflow;machine-learning;raspberry-pi;image-classification;tflite,2025-04-07
79553837,tensorflow lite vs tflite,"my understanding is that tflite was developed to avoid installing the full package of tensorflow in embedded system such raspberry pi, saving processing and power resources. following the directions from the documentation is linked to but the examples shows the usage of tensorflow full package. additionally, tensorflow api shows tf.lite so what would be the point of installing tflite if the whole tensorflow package needs to be installed? what am i missing or misunderstanding? to use tensorflow lite, the full tensorflow package needs to be installed anyway? if so, what resources would be host saved?","the expected flow for your use case is to use tensorflow to train your model on hardware with sufficient processing power and then, once the model is trained, convert it to tflite and install an interpreter tfliteruntime on your raspberry pi tensorflow contains the ability to convert .tf files into .tflite by using the tflite package you have linked. files which are then understood by tfliteruntime see google pypi github",-1,tensorflow;raspberry-pi;tensorflow-lite,2025-04-03
79549568,sg90 does not work in loop raspberrypi,"iam using rfid to verify a card and then based on that sg90 is rotated from dotenv import loaddotenv import os from read import readid import requests from time import sleep import rpi.gpio as gpio loaddotenv roomid os.getenvroomid name, password os.getenvname, os.getenvpassword url os.getenvurl gpio.setmodegpio.board gpio.setup18, gpio.out pwm gpio.pwm18, 50 pwm.start0 def opendoors pwm.changedutycycle5 sleep0.5 pwm.changedutycycle0 sleep2 pwm.changedutycycle10 sleep0.5 pwm.changedutycycle0 token requests.posturllogin, name name, password password, headersquotcontenttypequot quotapplicationxwwwformurlencodedquot.jsontoken headers quotauthorizationquot fquotbearer tokenquot, quotcontenttypequot quotapplicationxwwwformurlencodedquot while true id readid response requests.posturlquotlogquot, employeeid id, roomid roomid, headersheaders if response.statuscode 200 printquotaccess successful, door opening...quot opendoors sleep2 else printquotaccess deniedquot sleep5 the function opendoors works fine outside the loop, but for some reason the motor does not rotate when it is inside the loop, if there are any print statements in the functions they execute but the motor wont rotate",,0,python;raspberry-pi;embedded;servo,2025-04-02
79549253,how can i receive data from socketcan in a xinetd fashion on raspberry pi?,"im trying to get going with socketcan. however, i want to have a extremely stable and functioning can backbone, and have something proven, that upon receiving a frame on quotcan0quot, will launch my script with that frame on the command line arguments or stdin, and then my script can process that frame. including, for example sending out packets on can interface or similiar. basically how xinetd works. however, trying to use xinetd with socketcan seems not to be possible as xinetd is ipbased and can doesnt use ip. so how can i process packets fron can0 in a xinetd fashion?",,0,raspberry-pi;socketcan;xinetd,2025-04-01
79540404,calculating spo2 with max30101 sensor in python on raspberry pi 4,"i have recently purchased a max30101 breakout board sensor and have been using it with a raspberry pi 4 and python. i have been using the sparkfunqwiicmax3010x library provided by sparkfun to communicate with the sensor and collect data. the github page for the python sparkfunqwiicmax3010x library includes an example for calculating heart rate but not spo2. the arduino library includes an example for calculating heart rate and spo2. i was wondering if there is an algorithm available or if it is possible to calculate spo2 accurately in python on the raspberry pi 4. i have seen an algorithm in the user guide of the max30101 sensor but have not been able to accurately get an spo2 reading with it in python in the following code. the spo2 value sometimes goes in the negatives and will give extremely different consecutive values. import time import numpy as np import qwiicmax3010x initialize the max30101 sensor sensor qwiicmax3010x.qwiicmax3010x sensor.begin sensor.setup sensor.setpulseamplitudegreen0 function to read raw values from the sensor def readrawvaluesnumsamples100 redvalues irvalues for in rangenumsamples red sensor.getred ir sensor.getir redvalues.appendred irvalues.appendir time.sleep0.01 adjust the delay as needed sensor.shutdown return np.arrayredvalues, np.arrayirvalues function to calculate ac and dc components def calculateacdcrawvalues dc np.meanrawvalues dc component ac rawvalues dc ac component return ac, dc def calculatespo2redac, reddc, irac, irdc r np.meanredac reddc np.meanirac irdc spo2 104 17 r return spo2 main loop try while true read raw values redraw, irraw readrawvaluesnumsamples100 calculate ac and dc components redac, reddc calculateacdcredraw irac, irdc calculateacdcirraw spo2 calculatespo2redac, reddc, irac, irdc printquotspo2 quot, spo2 wait for a bit before the next reading time.sleep1 adjust the sleep time as needed except keyboardinterrupt printquotprogram stopped.quot","calculating r the way you do is incorrect. by the very nature of redac its mean is almost zero it is not exactly zero because of rounding errors. same for iric. dividing two such values results in a huge meaningless error, precisely what you observe. notice that in the maxim paper you linked they do not divide averages. they divide instant readings, normalized by the averages. so the first thing you shall try is to calculate instant values of ri redacireddc iraciirdc and average them over the observation window. in the ideal case youll get reasonable results. then youd have to deal with the noise. the signals you sample are far from ideal, and it is not coincidental that the arduino code does not resemble the simple formula. most of the spo2 computation is fighting noise.",3,python;algorithm;performance;math;raspberry-pi,2025-03-28
79535509,"after running a pyqt5 application for an extended period, some buttons stop responding","im running this on a raspberry pi. the application transitions through pages in the following order page1 page2 page3. on page1, pressing a button takes you to page2. on page2, pressing a button starts communication. if the communication is successful, it moves to page3. on page3, after 20 seconds, it automatically returns to page1. on page1, there is periodic communication once every few tens of seconds, and the received text is displayed scrolling at the bottom of the screen. regardless of the current page, the app automatically returns to page1 after 10 seconds. everything works fine at first, but after about two weeks of continuous operation, the button on page1 stops responding. however, even when the button is unresponsive, the text at the bottom of the screen still scrolls with the received communication data, so i dont think the app is completely frozen. ive been thinking about the cause for a while, but i still cant figure it out. import sys import requests from pyqt5.qtcore import qt, qtimer, qrect, qevent from pyqt5.qtgui import qfont, qpixmap, qpainter, qpen, qbrush, qkeyevent from pyqt5.qtwidgets import qapplication, qmainwindow, qstackedwidget, qwidget, qlabel, qpushbutton, qvboxlayout, qhboxlayout, qmessagebox, class mainwindowqmainwindow def initself super.init self.stackedwidget qstackedwidgetself self.setcentralwidgetself.stackedwidget self.screenwidth qapplication.desktop.width self.screenheight qapplication.desktop.height self.pages for pageclass in page1, page2, page3 pageinstance pageclassself self.pagespageclass.name pageinstance self.stackedwidget.addwidgetpageinstance self.showpagequotpage1quot self.inputdata quotquot self.remainingtime 20 self.inactivitytimer qtimerself self.inactivitytimer.timeout.connectself.countdown self.inactivitytimer.start1000 self.installeventfilterself def showpageself, pagename page self.pages.getpagename if page is not none self.stackedwidget.setcurrentwidgetpage self.resettimer if pagename quotpage2quot self.inputdata quotquot self.pagesquotpage2quot.resetpage def resettimerself self.remainingtime 20 def countdownself if self.remainingtime gt 0 self.remainingtime 1 else self.showpagequotpage1quot def returntopage1self self.showpagequotpage1quot def eventfilterself, obj, event if event.type qevent.keypress self.resettimer keyevent event currentpage self.stackedwidget.currentwidget if currentpage self.pagesquotpage2quot if keyevent.key in qt.keyreturn, qt.keyenter p2 self.pagesquotpage2quot p2.processtextself.inputdata self.inputdata quotquot else ch keyevent.text if ch self.inputdata ch return super.eventfilterobj, event elif event.type qevent.mousebuttonpress self.resettimer return super.eventfilterobj, event def closeappself qapplication.quit class basepageqwidget def initself, mainwindow mainwindow super.init self.mainwindow mainwindow self.setstylesheetquotbackgroundcolor whitequot class page1basepage def initself, mainwindow mainwindow super.initmainwindow self.vlayout qvboxlayoutself self.setlayoutself.vlayout self.backgroundlabel qlabelself self.backgroundlabel.setgeometry 0, 0, mainwindow.screenwidth, mainwindow.screenheight self.backgroundlabel.setstylesheetquotbackgroundcolor whitequot self.backgroundlabel.setscaledcontentstrue self.msglabel qlabelquotpage1quot, self self.msglabel.setstylesheetquotbackgroundcolor transparent fontsize 54pxquot self.msglabel.setalignmentqt.aligncenter self.startbutton qpushbuttonquotstartquot, self self.startbutton.setstylesheet quotquotquot fontsize 54px width 300px height 100px backgroundcolor 8b0000 color white border none borderradius 20px quotquotquot self.startbutton.clicked.connectlambda self.mainwindow.showpagequotpage2quot self.vlayout.addwidgetself.msglabel, 0, qt.aligncenter self.vlayout.addwidgetself.startbutton, 0, qt.aligncenter self.newscontainer qwidgetself self.newscontainer.setgeometry 0, self.mainwindow.screenheight 150, self.mainwindow.screenwidth, 80 self.newscontainer.setstylesheetquotbackgroundcolor transparentquot self.newslabel qlabelself.newscontainer self.newslabel.setgeometry0, 0, 100, 80 self.newslabel.setstylesheetquotbackgroundcolor transparent fontsize 54pxquot self.newslabel.setalignmentqt.alignvcenter qt.alignleft self.newstext quottestquot self.textx 0 self.textwidth 0 self.movespeed 2 self.updatenewstext self.scrolltimer qtimerself self.scrolltimer.timeout.connectself.starttextscroll self.scrolltimer.start30 def updatenewstextself try resp requests.post quot timeout3, if resp.ok data resp.json self.newstext data.getquotnewsquot, quotfailedquot else self.newstext quotfailedquot except exception as e self.newstext quotfailedquot self.newslabel.settextself.newstext self.newslabel.adjustsize fontmetrics self.newslabel.fontmetrics self.textwidth fontmetrics.widthself.newstext self.newslabel.setfixedwidthself.textwidth self.textx self.textwidth self.newslabel.moveself.textx, 0 def starttextscrollself if self.textx self.textwidth lt 0 self.updatenewstext self.textx self.mainwindow.screenwidth return self.textx self.movespeed self.newslabel.moveself.textx, 0 class page2basepage def initself, mainwindow mainwindow super.initmainwindow layout qvboxlayoutself self.setlayoutlayout self.isprocessing false self.label qlabelquotpage2nplease enter text.quot, self self.label.setstylesheetquotbackgroundcolor transparent fontsize 54pxquot layout.addwidgetself.label, 0, qt.aligncenter def processtextself, text if self.isprocessing return self.isprocessing true try response requests.post quot timeout3, if response.statuscode 200 result response.text.splitquot,quot if result0 quotsuccessquot requests.get quot timeout3, self.mainwindow.showpagequotpage3quot except exception as e self.label quotplease enter it againquot self.isprocessing false self.mainwindow.showpagequotpage3quot def resetpageself self.label.settextquotplease enter textquot self.mainwindow.barcodedata quotquot class page3basepage def initself, mainwindow mainwindow super.initmainwindow layout qvboxlayoutself self.setlayoutlayout self.label qlabelquotpage3quot, self self.label.setstylesheetquotbackgroundcolor transparent fontsize 54pxquot layout.addwidgetself.label, 0, qt.aligncenter def showeventself, event super.showeventevent self.movetopage1 def movetopage1self qtimer.singleshot10000, self.mainwindow.returntopage1 def main app qapplicationsys.argv window mainwindow window.show sys.exitapp.exec if name quotmainquot main",,0,python;raspberry-pi,2025-03-26
79532497,how can i send data as a string from an android device to a raspberry pi from the press of a button using ble?,"i programmed an android app in android studio using kotlin and i am able to establish a connection with a raspberry pi 5 using ble. i have the android device as the peripheral and it is successfully advertising its service and characteristics. they will connect to each other, but i cant get any data to be transferred between them. i have tried everything i can possibly think of to solve my issue. i created a write and read characteristic in android studio and i want to send the string over the read characteristic when the rapsberry pi requests to read over that characteristic. i want the user to be able to press any button and then for that corresponding string associated with the button to send to the service terminal of the raspberry pi. this is the ble code from kotlin class bleadvertiserprivate val context context private val bluetoothmanager bluetoothmanager context.getsystemservicebluetoothmanagerclass.java gets the bluetoothmanager system service. private val bluetoothadapter bluetoothadapter bluetoothmanager.adapter gets the bluetoothadapter instance. private var bluetoothleadvertiser bluetoothleadvertiser? bluetoothadapter.bluetoothleadvertiser creates the bluetoothleadvertiser variable. var bluetoothgattserver bluetoothgattserver? null private val connecteddevices mutablesetofltbluetoothdevicegt companion object private const val tag quotbleadvertiserquot val appuuid uuid uuid.fromstringquot0000110100001000800000805f9b34fbquot.lowercase val rxappuuid uuid uuid.fromstringquot0000220100001000800000805f9b34fbquot.lowercase val txappuuid uuid uuid.fromstringquot0000220200001000800000805f9b34fbquot.lowercase fun setupgattserver boolean log.dtag, quotsetupgattserver is being called!quot if bluetoothgattserver ! null log.dtag, quotsetupgattserver has already been called! skipping setup process.quot return true bluetoothgattserver bluetoothmanager.opengattservercontext, gattservercallback starts the gatt server. if bluetoothgattserver null log.etag, quot failed to open gatt server!quot handlerlooper.getmainlooper.postdelayed bluetoothgattserver bluetoothmanager.opengattservercontext, gattservercallback if bluetoothgattserver null log.etag, quot gatt server still null after retry! restarting ble...quot restartble else log.dtag, quot gatt server opened successfully after retry.quot , 3000 retry after 3 seconds return false else log.dtag, quot gatt server opened successfully.quot create the service object. val elevatorservice bluetoothgattserviceappuuid, bluetoothgattservice.servicetypeprimary create read request characteristic. pi writes data here, android reads it. val rxcharacteristic bluetoothgattcharacteristic rxappuuid, bluetoothgattcharacteristic.propertyread or bluetoothgattcharacteristic.propertynotify, bluetoothgattcharacteristic.permissionread set initial value rxcharacteristic.value bytearrayof0x12, 0x34 create write request characteristic. pi writes 2 here. val txcharacteristic bluetoothgattcharacteristic txappuuid, bluetoothgattcharacteristic.propertywrite or bluetoothgattcharacteristic.propertynotify or bluetoothgattcharacteristic.propertywritenoresponse, bluetoothgattcharacteristic.permissionwrite or bluetoothgattcharacteristic.permissionread elevatorservice.addcharacteristicrxcharacteristic adds the write characteristic to the service. log.dtag, quotadding characteristic to service. rxcharacteristic.uuidquot elevatorservice.addcharacteristictxcharacteristic adds the read characteristic to the service. log.dtag, quotadding characteristic to service. txcharacteristic.uuidquot val result bluetoothgattserver?.addserviceelevatorservice adds the service to the gatt server. if result true log.dtag, quot service successfully added elevatorservice.uuidquot else log.etag, quot failed to add service to gatt server!quot handlerlooper.getmainlooper.postdelayed if bluetoothgattserver?.services.isnullorempty log.etag, quot no services registered in gatt server! delayed checkquot else log.dtag, quot services successfully registered. delayed checkquot bluetoothgattserver?.services?.foreach s gt log.dtag, quot service registered s.uuidquot s.characteristics.foreach c gt log.dtag, quot characteristic c.uuid properties c.propertiesquot , 2000 wait for 2 seconds. return result true create the gatt server callback. val gattservercallback object bluetoothgattservercallback override fun onconnectionstatechangedevice bluetoothdevice?, status int, newstate int super.onconnectionstatechangedevice, status, newstate if device null log.etag, quotonconnectionstatechange device is null!quot return val statedescription when newstate bluetoothprofile.stateconnected gt quotconnectedquot bluetoothprofile.statedisconnected gt quotdisconnectedquot bluetoothprofile.stateconnecting gt quotconnectingquot bluetoothprofile.statedisconnecting gt quotdisconnectingquot else gt quotunknownquot log.dtag, quot connection state changed statedescription for device.addressquot when newstate bluetoothprofile.stateconnected gt log.dtag, quotdevice successfully connected device.addressquot connecteddevices.adddevice store connected device bluetoothprofile.statedisconnected gt log.dtag, quotdevice disconnected device.addressquot connecteddevices.removedevice remove disconnected device override fun oncharacteristicwriterequest device bluetoothdevice?, requestid int, characteristic bluetoothgattcharacteristic?, preparedwrite boolean, responseneeded boolean, offset int, value bytearray? super.oncharacteristicwriterequest device, requestid, characteristic, preparedwrite, responseneeded, offset, value if characteristic?.uuid txappuuid val receivedcommand value?.tostringcharsets.utf8 ? quotunknownquot log.dtag, quot received command from pi receivedcommandquot send acknowledgment response if required if responseneeded bluetoothgattserver?.sendresponsedevice, requestid, bluetoothgatt.gattsuccess, offset, value respond by setting rx characteristic value val responsedata quotack receivedcommandquot.tobytearraycharsets.utf8 val rxcharacteristic bluetoothgattserver?.getserviceappuuid?.getcharacteristicrxappuuid rxcharacteristic?.value responsedata notify pi that new data is available rxcharacteristic?.let device?.let dev gt bluetoothgattserver?.notifycharacteristicchangeddev, it, false log.dtag, quot sent ack response to pi receivedcommandquot override fun oncharacteristicreadrequest device bluetoothdevice?, requestid int, offset int, characteristic bluetoothgattcharacteristic? log.dtag, quot read request received for characteristic?.uuidquot if characteristic?.uuid rxappuuid val responsedata characteristic.value ? bytearrayof0x12, 0x34 log.dtag, quot pi read from rxappuuid responsedata.contenttostringquot bluetoothgattserver?.sendresponsedevice, requestid, bluetoothgatt.gattsuccess, 0, responsedata else log.etag, quot unknown characteristic for read request characteristic?.uuidquot bluetoothgattserver?.sendresponsedevice, requestid, bluetoothgatt.gattfailure, 0, null override fun onserviceaddedstatus int, service bluetoothgattservice? super.onserviceaddedstatus, service log.dtag, quotservice added service?.uuid status statusquot function used to start advertising the device. fun startadvertising log.dtag, quotstarting ble advertising...quot make sure the gatt services are properly set up first. if !setupgattserver log.etag, quotfailed to set up gatt server! not advertising.quot return handlerlooper.getmainlooper.postdelayed check bluetooth adapter status before starting server. if bluetoothadapter null !bluetoothadapter.isenabled log.etag, quotbluetooth is disabled. cannot start advertising.quot if bluetoothadapter null !bluetoothadapter.ismultipleadvertisementsupported log.etag, quotble not supported on this devicequot val advertisesettings advertisesettings.builder .setadvertisemodeadvertisesettings.advertisemodelowlatency .settxpowerleveladvertisesettings.advertisetxpowerhigh .setconnectabletrue .build val advertisedata advertisedata.builder .setincludedevicenametrue .addserviceuuidparceluuidappuuid this ensures that the service uuid is advertised .build bluetoothleadvertiser?.startadvertising advertisesettings, advertisedata, advertisecallback starts advertising. log.dtag, quotstarting ble advertising.quot , 2000 delay of 2 seconds to give the gatt server time to be ready. fun stopadvertising bluetoothleadvertiser?.stopadvertisingadvertisecallback stops advertising. log.dtag, quotstopping ble advertising.quot private val advertisecallback object advertisecallback override fun onstartsuccesssettingsineffect advertisesettings? super.onstartsuccesssettingsineffect log.dtag, quotble advertising started successfully.quot startgattserver starts the gatt server. override fun onstartfailureerrorcode int super.onstartfailureerrorcode log.etag, quotble advertising failed with error code errorcode.quot fun senddatatopidata string boolean log.dtag, quot attempting to send dataquot if connecteddevices.isempty log.etag, quotno connected devices tracked manually. checking bluetooth manager...quot val detecteddevices bluetoothmanager.getconnecteddevicesbluetoothprofile.gatt if detecteddevices.isnotempty log.dtag, quot bluetooth manager reports detecteddevices.size connected devices. updating manual list.quot connecteddevices.addalldetecteddevices else log.etag, quotstill no devices detected. cannot send dataquot return false ensure the gatt server is still valid if bluetoothgattserver null log.etag, quotgatt server is null! restarting ble...quot val success setupgattserver if !success return false get updated gatt service val service bluetoothgattserver?.getserviceappuuid if service null log.etag, quot service appuuid not found! retrying...quot bluetoothgattserver?.services?.foreach log.etag, quotregistered service it.uuidquot handlerlooper.getmainlooper.postdelayed val recheckedservice bluetoothgattserver?.getserviceappuuid if recheckedservice null log.etag, quot service still missing! restarting ble...quot restartble , 2000 wait 2 seconds before retrying return false else log.dtag, quotservice appuuid found.quot val characteristic service.getcharacteristicrxappuuid if characteristic null log.etag, quot characteristic not found! restarting ble...!quot restartble return false else log.dtag, quotcharacteristic rxappuuid found.quot ensure that a device is connected before writing. val devicestosend connecteddevices.tolist if devicestosend.isempty log.etag, quot no connected devices tracked manually. cannot send dataquot return false devicestosend.foreach device gt bluetoothgattserver?.notifycharacteristicchangeddevice, characteristic, false log.dtag, quot sent to device.address dataquot characteristic.value data.tobytearray notify all connected devices. connecteddevices.foreach device gt bluetoothgattserver?.notifycharacteristicchangeddevice, characteristic, false log.dtag, quot sent to device.address dataquot return true fun restartble log.dtag, quotrestarting ble services...quot stopadvertising stop advertising. bluetoothgattserver?.clearservices clear old services. startadvertising restart advertising. log.dtag, quotble services restarted.quot this is the python code !usrbinenv python3 import rclpy from rclpy.node import node from stdmsgs.msg import int16, string from bluetoothappmsgs.srv import sendvalue, connectdevice ros2 services import asyncio from bleak import bleakscanner, bleakclient import struct import time uuids from the android ble server. androiddevicename quotchristophers a14quot android device name androidmacaddress quot94e129e20b51quot android mac address. serviceuuid quot0000110100001000800000805f9b34fbquot.lower txcharuuid quot0000220200001000800000805f9b34fbquot.lower rxcharuuid quot0000220100001000800000805f9b34fbquot.lower async def finddevice quotquotquotscans for the android ble device and returns its address.quotquotquot printquotscanning for ble devices...quot while true keep scanning until device is found try devices await bleakscanner.discover if not devices printquotno ble devices found. retrying in 5 seconds...quot await asyncio.sleep5 continue for device in devices printfquotfound device.name device.addressquot if device.name androiddevicename printfquotfound target device device.name at device.addressquot return device.address except exception as e printfquoterror scanning for ble device e. retrying in 5 seconds...quot await asyncio.sleep5 async def connecttodevicedeviceaddress quotquotquotkeeps the connection alive and continuously retries service discovery.quotquotquot printquotattempting to connect to android device...quot printfquotconnecting to deviceaddress...quot client bleakclientdeviceaddress try await client.connect explicitly try to connect. if not client.isconnected printquotconnection failed!quot await asyncio.sleep5 return printquotsuccessfully connected to the android device!quot keep the connection alive and retry service discovery. attempts 0 while client.isconnected and attempts lt 10 printfquotattempt attempts 1 discovering services...quot services await client.getservices foundservices service.uuid for service in services if serviceuuid in foundservices printfquotfound expected service serviceuuid.quot return else printfquotexpected service serviceuuid not found! retrying...quot await asyncio.sleep2 attempts 1 printquotservice discovery failed. disconnecting...quot finally await client.disconnect explicitly disconnect when connection fails. printquotdisconnected from the device.quot async def communicatewithandroiddeviceaddress quotquotquotconnects to the android ble device and exchanges data.quotquotquot while true keep retrying connection if it fails try async with bleakclientdeviceaddress as client printquotconnected to android ble device!quot wait before attempting to find services. printquotwaiting 5 seconds for services to initialize...quot await asyncio.sleep5 ensure that the gatt service and characteristics exist. services await client.getservices printquotavailable servicesquot foundservices for service in services printfquot service.uuidquot foundservices.appendservice.uuid for characteristic in service.characteristics printfquot characteristic.uuid properties characteristic.propertiesquot validate service presence. if serviceuuid not in foundservices printfquoterror service serviceuuid not found!quot return get the expected service. printfquotwaiting 5 seconds for services to initialize...quot await asyncio.sleep5 service client.services.getserviceserviceuuid printfquotfound service serviceuuid!quot print all characteristics of the found service. for char in service.characteristics printfquot characteristic char.uuid properties char.propertiesquot check if characteristics exist if txcharuuid not in char.uuid for char in service.characteristics printquottx characteristic not found!quot return if rxcharuuid not in char.uuid for char in service.characteristics printquotrx characteristic not found!quot return discover services. await client.services ensure the services are loaded. printquotservices discovered!quot async def notificationhandlersender, data receivedcommand data.decodequotutf8quot printfquotreceived command from android receivedcommand.quot printfquotsubscribing to the notifications for the rx characteristic rxcharuuid...quot await client.startnotifyrxcharuuid, notificationhandler keep the connection open indefinitely. while client.isconnected await asyncio.sleep1 keeps the event loop alive. except exception as e printfquotconnection failed e. retrying...quot await asyncio.sleep5 retry after delay continue async def main quotquotquotmain function to find and connect to the android ble device.quotquotquot deviceaddress await finddevice if deviceaddress await connecttodevicedeviceaddress await communicatewithandroiddeviceaddress if name quotmainquot asyncio.runmain",,-1,python;raspberry-pi;bluetooth-lowenergy,2025-03-25
79531119,i2c slave respond to registry read on raspberry pi with python using pigpio package,"i need to respond to a specific registry read over i2c on an rpi. currently, following the usual instructions for the pigpio package here i can see the reads to the device address. i cannot however in the documentation see how to respond to a specific registry read on the device the master device outside of my control will read the slave rpi, on address 0x20. it will then look to access the register 0x1c5h for example to read any data stored there. i cannot see how to detect which register is being read see how to respond appropriately i.e. with the data that should be quotstoredquot at that address code used so far ignore the prints for debug!. from decimal import decimal import bitstring import time import pigpio i2caddr 0x50 device address def i2cid, tick global pi s, b, d pi.bsci2ci2caddr printbitstring.bitarrayd.bin print anything written s, b, d pi.bsci2ci2caddr, 1240 respond to read convert decimal to bytes def decimaltobytesnum x decimalstrnum a x decimal1 decimal7 s stra b s.encodeascii return b pi pigpio.pi if not pi.connected exit e pi.eventcallbackpigpio.eventbsc, i2c pi.bsci2ci2caddr configure bsc as i2c slave time.sleep600 e.cancel pi.bsci2c0 disable bsc peripheral pi.stop",,0,python;raspberry-pi;i2c,2025-03-24
79527693,how to run an onnx model on raspberry pi 4 model b running a x64 bit os?,"i have trained a dl model on matlab and exported it as an onnx file, now i need to run it on a raspberry pi 4 model b with raspberry pi os x64 bit aarch64 and python 3.11.2, i have followed many guides but there is always a problem or something missing please any one can help me with steps to install onnx runtime and run the code that loads the onnx model i have tried installing it using git clone but it fails due to running an old cmake version, i couldnt update the cmake also someone suggested using a virtual environment and it succeeded in installing a new cmake version but also struggles again installing the onnx runtime, any help? below are some examples of errors i get pip install onnxruntime error no matching distribution found for onnxruntime error could not find a version that satisfies the requirement onnxruntime1.15.0 from versions none error no matching distribution found for onnxruntime1.15.0 pip install looking in indexes error onnxruntime1.15.0cp39cp39linuxaarch64.whl is not a supported wheel on this platform. .build.sh config release buildsharedlib parallel minimalbuild cmake error at cmakelists.txt6 cmakeminimumrequired cmake 3.28 or higher is required. you are running version 3.25.1 venv omarzpiraspberrypionnxruntimebuild cmake .. dcmakebuildtyperelease dcmakeexelinkerflagsquotlatomicquot cmake warning ignoring extra path from command line quot..quot cmake error the source directory quothomeomarzpionnxruntimequot does not appear to contain cmakelists.txt. specify help for usage, or press the help button on the cmake gui.",,0,python;raspberry-pi;64-bit;onnx;onnxruntime,2025-03-22
79526969,rplidar works from usb but does not work from raspberyy pi gpio,"i have a problem, the lidar works through a ttl converter from usb to rasperri pi, but does not work through a gpio. i use ros kinetic and raspberry pi 4. package for rplidar. at quotrplidarc1.launchquot file i replaced quotserialportquots value from devttyusb0 to devttys0.i followed all these instructions for my ros kinetic. i remember once everything worked, but when i turned off the robot and left, and then came back and turned it on, nothing worked. if i try to start rplidar with quotroslaunch rplidarros rplidarc1.launchquot, ill be stuck here.enter image description here every time i check all connections. multimeter shows 4.69 volts on red and blue lidar wire. i read documentation and it says there that the minimum voltage should be 4.8 volts. how can i fix this problem?",,1,c++;raspberry-pi;ros;lidar,2025-03-22
79523535,trouble installing awswrangler on raspberry pi,"as the title suggests, im having trouble installing awswrangler on my pi 4 raspbian 10 buster. i tried a few things, such as updating and upgrading my pi, as well as making sure python3 is uptodate. it doesnt seem to matter if i use pip or pip3, i keep getting stuck at building wheel for numpy pyproject.toml... im not receiving any errors, it just spins there been 20 minutes now. ive tried updating both pip and pip3 to no avail. ive also installed numpy, which seems to be uptodate. im open to any and all suggestions at this time. best, joe",,0,pandas;pip;raspberry-pi;raspbian,2025-03-20
79522831,how come its strange color of the camera?,"why is it strange color when the camera turn on? i have my raspberry pie 5 connected to a global shutter camera. trying to setup my camera. from picamera2 import picamera2 import cv2 picam2 picamera2 picam2.configurepicam2.createpreviewconfigurationmainquotformatquot quotrgb888quot, quotsizequot 640, 480 picam2.start while true frame picam2.capturearray frame cv2.cvtcolorframe, cv2.colorrgb2bgr fixar frger cv2.imshowquotrpicam testquot, frame if cv2.waitkey1 amp 0xff ordquotqquot break picam2.stop cv2.destroyallwindows i think the configuration is wrong?",,0,python;linux;raspberry-pi;camera,2025-03-20
79516001,getting a gst error even though gst is downloaded,getting this error raise valueerrornamespace s not available namespace valueerror namespace gst not available meanwhile python3gst1.0 is already the newest version 1.22.02,,0,python;raspberry-pi;virtualenv,2025-03-18
79513801,incoming serial data length varying inconsistently in c,"i am sending 11byte data with random value from raspberry pi to the computer. i encoded the data with start byte and end byte . and when i try to receive and parse the data from my computer using c application the length of sensor data is varying for every read. i try to parse and read individual data from the packet received but due to varying data length i cant be able to read the data correctly. raspberry pi code import serial from time import sleep import random import struct port serial.serialquotdevttyusb0quot, baudrate115200, timeout3.0 while true num random.randrange0,101 port.writechr36.encode head port.writechr79.encode port.writechr10.encode data0 port.writechr20.encode data1 port.writestruct.packb, num data2 port.writechr127.encode data1 port.writechr75.encode data4 port.writechr30.encode data5 port.writechr20.encode data6 port.writechr10.encode data7 port.writechr35.encode tail sleep5 c data receiving code string s void serialonreceivedhandlerobject sender, serialdatareceivedeventargs e string str serial.readexisting s encoding.getencodingquotiso88591quot.getstringstr console.writelinequotstring lengthquot s.length if s.length 11 ampamp s.startswithquotquot ampamp s.endswithquotquot console.writelinequotstring dataquot s else console.writelinequotno data received........quot sometimes it reads 11byte data correctly but most of the times it show no data received. the data length received is keep on varying.","i figured, my comments actually should be an answer, so here we go a few things to address here, ill go through them one by one. serial io is not messagebased it is streambased. that is what you read is a stream of bytes. this implies that you cannot expect to read complete messages according to some application specific protocol. you need to make sure you have complete messages by explicitly coding to your protocol. usually this is done by reading into an accumulating buffer until one or more complete messages are detected. if and when so, the message is to be cropped out and passed on while the buffer is cleaned not too much, though and then back to reading again. btw you could increase the probability to reading a full message in one go by flushing the sender after the message is complete. constantlength vs variablelength message fields if a field in the message can have a variable number of bytes, you can deal with it in several different ways if the difference is small like a few bytes you can quotalignquot the data to the longest possible value specified in the protocol. if the variation is significantly large enough, you may want to either have a second field that ecodes the length of the variablelength field or introduce subdelimiters. delimiter bytes you are using quotquot and quotquot. this is not inherently wrong, but id like to make you aware that there are message delimiters in ascii which extends to unicode and also iso88591 already. if that protocol is being written by you, you can take advantage of those without giving up the quotquot and quotquot characters as content. message length variance in your case the behavior you are seeing is either probably caused by point one of this answer , or but due to my lack of python expertise i may be wrong here it may be that the line port.writestruct.packb, num data2 introduces different sizes of that field. i did not check python docs, though. edit i checked should be an unsigned integer with constant size. see",0,c#;python-3.x;raspberry-pi;serial-port,2025-03-17
79512230,"using gpio pin and neopixel raspberry pi 5, failed to open pio device error 22","i have switched from my raspberry pi 4 to raspberry pi 5 for computational power means for part of a project. i have encountered many errors trying to use neopixels on the pi5 was working fine on the pi4, and none of the links on the internet have helped, so i will list the main things i have tried in search of an answer pi5neo with example code. it was opening the spi device but nothing was happening on the neopixels. the first adafruit solution after updating firmware and installing pi5 blinka, ls l devpio0 still produced no such file or directory the second adafruit solution no issues were raised in the terminal but nothing happened on the pixels. when i run ls l devspi i get crwrw 1 root spi 153, 0 mar 16 1710 devspidev0.0 crwrw 1 root spi 153, 1 mar 16 1710 devspidev0.1 crwrw 1 root spi 153, 2 mar 16 1710 devspidev10.0 code used import time import board import neopixelspi as neopixel numpixels 512 pixelorder neopixel.grb colors 0xff0000, 0x00ff00, 0x0000ff delay 0.05 spi board.spi pixels neopixel.neopixelspi spi, numpixels, pixelorderpixelorder, autowritefalse while true for color in colors for i in rangenumpixels pixelsi color pixels.show time.sleepdelay pixels.fill0 import board import neopixelwrite import digitalio pin digitalio.digitalinoutboard.d18 pin.direction digitalio.direction.output pixeloff bytearray0, 0, 0 neopixelwrite.neopixelwritepin, pixeloff running using the neopixel blinka pi5 library with the below sample code import neopixel import time import math hell 0.2 pixels neopixel.neopixelboard.d18, 512 gpio589 setup order neopixel.rgb first lights pixels135 hell255,hell255,hell255 pixels375 hell255,hell255,hell255 it came up with the error file quothomecomarocketoldscriptsneossetup.pyquot, line 97, in ltmodulegt neopixelwrite.neopixelwritepin, pixeloff file quothomecomarocketnewenvlibpython3.11sitepackagesneopixelwrite.pyquot, line 49, in neopixelwrite return neopixel.neopixelwritegpio, buf runtimeerror failed to open pio device error 22 i understand based on this link not able to access gpio pins on my raspberry pi 5 that i perhaps should not be using board.d18 to address the gpio18 but rather something including the number gpio589, but board.dict didnt show anything of the sort. what to do?",,0,python;raspberry-pi;gpiozero;neopixel,2025-03-16
79511733,why won39t detectmultiscale work in opencv node.js?,"i am new to opencv, trying to draw bounding boxes around humans in an image. the main issue i am having is that detectmultiscale seems to throw an error no matter what i do. if i have only 1 argument, it says there are an invalid number of arguments. if i use 1.1 and 3 for the 2nd and 3rd argument, it says argument 2 needs to be a rectvector. if i use a rectvector, it simply outputs quotabort6620504quot as the error. i am trying to run this code on a raspberry pi using node.js. i have confirmed that opencv is working i can perform simpler operations with it. here is the code var src cv.matfromimagedataim.bitmap detect human let classifier new cv.cascadeclassifier await classifier.loadhaarcascadefullbody.xml cv.cvtcolorsrc, src, cv.colorbgr2gray const rectvector new cv.rectvector const humans classifier.detectmultiscalesrc, rectvector, 3.objects if !facerects.length console.logno humans detected else console.loghumans detected draw bounding boxes around detected humans humans.foreachrect gt const x, y, width, height rect cv.rectanglesrc, new cv.pointx, y, new cv.pointx width, y height, 255, 0, 0, 255, 2 please let me know what you think, thanks.",,0,javascript;node.js;opencv;raspberry-pi,2025-03-15
79507916,modemmanager opens all modem port exclusively,"i have an embedded system comprising of a raspberrypi compute module and a quectel eg25g lte modem. i have installed raspberrypi os bookworm on it and have used modemmanagernetworkmanager to successfully configure the modem. the modem presents itself to linux as 4 usb serial ports, devttyusb03, a cdcwdm0 device and a wwan0 network device. what i dont understand is why modemmanager opens exclusively all of the serial ports to the modem? the modem has 2 serial ports ttyusb2 amp ttyusb3 that accept at commands. i want to use one to change some settings in the modem related to gps but in its default configuration modemmanager is bound to all the ports and i cannot open any of them from a script. i have been able to add a udev rule to tell modemmanager to ignore the ttyusb3 port however i am unsure if this will break something else in modemmanager. for reference the udev rule i am using is disable modem manager atsecondary on port attrsidvendorquot2c7cquot, attrsidproductquot0125quot, env.mmusbifnumquot03quot, subsystemquotttyquot, envidmmportignorequot1quot symlinkquotatsecn",,0,raspberry-pi;networkmanager;quectel,2025-03-14
79502998,qt application fails to load xcb platform plugin on raspberry pi 5 with pyside2,"i am running a pyside2 qt5 application on a raspberry pi 5 with raspberry pi os lite 64bit, november 2024 release. when i try to run my script python main.py, i get the following error got keys from plugin meta data quotxcbquot qfactoryloaderqfactoryloader checking directory path quotusrbinplatformsquot ... loaded library quothomemindrontm.locallibpython3.11sitepackagescv2qtpluginsplatformslibqxcb.soquot qobjectmovetothread current thread 0x2e862dc0 is not the objects thread 0x2e867840. cannot move to target thread 0x2e862dc0 qt.qpa.plugin could not load the qt platform plugin quotxcbquot in quothomemindrontm.locallibpython3.11sitepackagescv2qtpluginsquot even though it was found. this application failed to start because no qt platform plugin could be initialized. reinstalling the application may fix this problem. available platform plugins are xcb, eglfs, linuxfb, minimal, minimalegl, offscreen, vnc, waylandegl, wayland, waylandxcompositeegl, waylandxcompositeglx. aborted system information device raspberry pi 5 os raspberry pi os lite 64bit, november 2024 python 3.11 qt version 5 installed via system packages pyside2 version latest from pip what i have tried forcing the correct qt path export qtqpaplatformpluginpathusrlibaarch64linuxgnuqt5pluginsplatforms export qtpluginpathusrlibaarch64linuxgnuqt5plugins export qtqpaplatformxcb python main.py running without opencvs path pythonpathquotquot python main.py reinstalling opencv without qt support pip uninstall opencvpython pip install opencvpythonheadless checking missing dependencies ldd usrlibaarch64linuxgnuqt5pluginsplatformslibqxcb.so reinstalling qt plugins sudo apt update sudo apt install reinstall qt5qpaplatformplugins this is link to error log error.txt",,0,python;qt;raspberry-pi;pyside2;xcb,2025-03-12
79500129,how can i hook a bt05 bluetooth le device to python bleak on a raspberry pi,"i want to send serial data with a bt05 serial bluetooth le device from a microcontroller to a raspberry pi 5 with linux 6.6.51rptrpi2712. on the raspi i use the latest newest python bleak version to handle this setup. the bt05 is not recognized by bleak. on the raspi i can see the device with bluetoothctrl, it shows up as device 4c2498358f48 bt05 as result of devices connected. bluetoothctrl scan is on, sometimes i get things like chg device 4c2498358f48 rssi 70, so i think the bt05 is advertising but for devices await bleakscanner.discover i get no results. for if await client.isconnected i get bleak.exc.bleakdevicenotfounderror device with address 4c2498358f48 was not found. i run python and bluetoothctl with sudo privileges why doesnt bleak find the device, is it a bleak specific problem? how can i analyze what is missing in the in the bluetooth system, sudo systemctl restart bluetooth does not help. in bluetoothctl i can use menu advertise to configure the advertising of the bt05. i left it untouched, are there necessary changes?",,0,raspberry-pi;bluetooth;bluetooth-lowenergy;python-bleak,2025-03-11
79499886,why is my bluetooth unavailable after exiting terminal?,"im using a raspberry pi 5 ubuntu server os. i want my raspberry pi connect to a bluetooth speaker and play sounds at a 730am, so i wrote a simple python script. my code is very simple, it is scheduled to run at 730am everyday. def playaudioself, filestoplay liststr, during result subprocess.runquotbluetoothctlquot, quotconnectquot, self.devicemac, captureoutputtrue, texttrue logger.debugquotbluetoothctl connect return quot result.stdout result.checkreturncode for file in filestoplay logger.debugquotstart playing quot file playsoundfile, blocktrue self.timercallplaysound, intduring 60, soundfile, blocktrue result subprocess.runquotbluetoothctlquot, quotdisconnectquot, self.devicemac, captureoutputtrue, texttrue logger.debugquotbluetoothctl disconnect return quot result.stdout result.checkreturncode but i found that the code can only work correctly when my terminal is open. every time when i am not in a terminal, it fails at the step of connecting to bluetooth. this code report an error 20250311 073001.854 debug flaskrsbp.alarmclock.alarmserviceplayaudio71 bluetoothctl connect return attempting to connect to 414285d6006e failed to connect org.bluez.error.failed brconnectionprofileunavailable this is the error log of bluetooth ... print by the following command journalctl u bluetooth nopager n 900 mar 10 234057 rsbp bluetoothd554 endpoint unregistered sender1.58 pathmediaendpointa2dpsourceaptxllduplex0 mar 10 234057 rsbp bluetoothd554 endpoint unregistered sender1.58 pathmediaendpointa2dpsourcefaststream mar 10 234057 rsbp bluetoothd554 endpoint unregistered sender1.58 pathmediaendpointa2dpsourcefaststreamduplex mar 10 234057 rsbp bluetoothd554 endpoint unregistered sender1.58 pathmediaendpointa2dpsinkopus05 mar 10 234057 rsbp bluetoothd554 endpoint unregistered sender1.58 pathmediaendpointa2dpsourceopus05 mar 10 234057 rsbp bluetoothd554 endpoint unregistered sender1.58 pathmediaendpointa2dpsinkopus05duplex mar 10 234057 rsbp bluetoothd554 endpoint unregistered sender1.58 pathmediaendpointa2dpsourceopus05duplex this line appears when my code starts executing mar 11 073001 rsbp bluetoothd554 srcservice.cbtdserviceconnect a2dpsink profile connect failed for 414285d6006e protocol not available mar 11 080114 rsbp bluetoothd554 srcprofile.cregisterprofile 1.67 tried to register 0000111e00001000800000805f9b34fb which is already registered mar 11 080114 rsbp bluetoothd554 endpoint registered sender1.67 pathmediaendpointa2dpsourceldac mar 11 080114 rsbp bluetoothd554 endpoint registered sender1.67 pathmediaendpointa2dpsinkaptxhd mar 11 080114 rsbp bluetoothd554 endpoint registered sender1.67 pathmediaendpointa2dpsourceaptxhd mar 11 080114 rsbp bluetoothd554 endpoint registered sender1.67 pathmediaendpointa2dpsinkaptx mar 11 080114 rsbp bluetoothd554 endpoint registered sender1.67 pathmediaendpointa2dpsourceaptx mar 11 080114 rsbp bluetoothd554 endpoint registered sender1.67 pathmediaendpointa2dpsinkopusg mar 11 080114 rsbp bluetoothd554 endpoint registered sender1.67 pathmediaendpointa2dpsourceopusg mar 11 080114 rsbp bluetoothd554 endpoint registered sender1.67 pathmediaendpointa2dpsinksbc mar 11 080114 rsbp bluetoothd554 endpoint registered sender1.67 pathmediaendpointa2dpsourcesbc mar 11 080114 rsbp bluetoothd554 endpoint registered sender1.67 pathmediaendpointa2dpsourceaptxll1 mar 11 080114 rsbp bluetoothd554 endpoint registered sender1.67 pathmediaendpointa2dpsourceaptxll0 mar 11 080114 rsbp bluetoothd554 endpoint registered sender1.67 pathmediaendpointa2dpsourceaptxllduplex1 mar 11 080114 rsbp bluetoothd554 endpoint registered sender1.67 pathmediaendpointa2dpsourceaptxllduplex0 mar 11 080114 rsbp bluetoothd554 endpoint registered sender1.67 pathmediaendpointa2dpsourcefaststream mar 11 080114 rsbp bluetoothd554 endpoint registered sender1.67 pathmediaendpointa2dpsourcefaststreamduplex mar 11 080114 rsbp bluetoothd554 endpoint registered sender1.67 pathmediaendpointa2dpsinkopus05 mar 11 080114 rsbp bluetoothd554 endpoint registered sender1.67 pathmediaendpointa2dpsourceopus05 mar 11 080114 rsbp bluetoothd554 endpoint registered sender1.67 pathmediaendpointa2dpsinkopus05duplex mar 11 080114 rsbp bluetoothd554 endpoint registered sender1.67 pathmediaendpointa2dpsourceopus05duplex mar 11 080119 rsbp bluetoothd554 sdpextractattr unknown data descriptor 0xa5 terminating mar 11 080121 rsbp bluetoothd554 profilesaudioavdtp.cavdtpconnectcb connect to 5088110e2c61 host is down 112 mar 11 080130 rsbp bluetoothd554 endpoint unregistered sender1.67 pathmediaendpointa2dpsourceldac mar 11 080130 rsbp bluetoothd554 endpoint unregistered sender1.67 pathmediaendpointa2dpsinkaptxhd mar 11 080130 rsbp bluetoothd554 endpoint unregistered sender1.67 pathmediaendpointa2dpsourceaptxhd mar 11 080130 rsbp bluetoothd554 endpoint unregistered sender1.67 pathmediaendpointa2dpsinkaptx mar 11 080130 rsbp bluetoothd554 endpoint unregistered sender1.67 pathmediaendpointa2dpsourceaptx mar 11 080130 rsbp bluetoothd554 endpoint unregistered sender1.67 pathmediaendpointa2dpsinkopusg mar 11 080130 rsbp bluetoothd554 endpoint unregistered sender1.67 pathmediaendpointa2dpsourceopusg mar 11 080130 rsbp bluetoothd554 endpoint unregistered sender1.67 pathmediaendpointa2dpsinksbc mar 11 080130 rsbp bluetoothd554 endpoint unregistered sender1.67 pathmediaendpointa2dpsourcesbc mar 11 080130 rsbp bluetoothd554 endpoint unregistered sender1.67 pathmediaendpointa2dpsourceaptxll1 mar 11 080130 rsbp bluetoothd554 endpoint unregistered sender1.67 pathmediaendpointa2dpsourceaptxll0 mar 11 080130 rsbp bluetoothd554 endpoint unregistered sender1.67 pathmediaendpointa2dpsourceaptxllduplex1 mar 11 080130 rsbp bluetoothd554 endpoint unregistered sender1.67 pathmediaendpointa2dpsourceaptxllduplex0 mar 11 080130 rsbp bluetoothd554 endpoint unregistered sender1.67 pathmediaendpointa2dpsourcefaststream mar 11 080130 rsbp bluetoothd554 endpoint unregistered sender1.67 pathmediaendpointa2dpsourcefaststreamduplex mar 11 080130 rsbp bluetoothd554 endpoint unregistered sender1.67 pathmediaendpointa2dpsinkopus05 mar 11 080130 rsbp bluetoothd554 endpoint unregistered sender1.67 pathmediaendpointa2dpsourceopus05 mar 11 080130 rsbp bluetoothd554 endpoint unregistered sender1.67 pathmediaendpointa2dpsinkopus05duplex mar 11 080130 rsbp bluetoothd554 endpoint unregistered sender1.67 pathmediaendpointa2dpsourceopus05duplex mar 11 081019 rsbp bluetoothd554 srcprofile.cregisterprofile 1.72 tried to register 0000111e00001000800000805f9b34fb which is already registered ... the following are similar repetitive contents the above errors will only appear when my user terminal is closed. when i keep a terminal open, it can be executed without errors again. when i manually use the command bluetoothctl connect xxx mpg123 xxx.mp3 in a terminal, it plays the sound fine and everything works well, means that the connection and play are feasible. another phenomenon is that when i log into the terminal, i can hear the prompt tone of the bluetooth connection, and when i log out of the terminal, the connection will be disconnected immediately. it seems that the bluetooth connection status and the bluetooth service availability is related to the user terminal. i start the bluetooth service through service bluetooth start, it should always be on when the user logs out, right? the following is the file etcbluetoothmain.config cat main.conf general enablesource,sink,media,socket defaults to bluez x.yz, if name is not set here and plugin hostname is not loaded. the plugin hostname is loaded by default and overides the name set here so consider modifying etcmachineinfo with variable prettyhostnameltnewnamegt instead. name bluez default device class. only the major and minor device class bits are considered. defaults to 0x000000. class 0x000100 how long to stay in discoverable mode before going back to nondiscoverable the value is in seconds. default is 180, i.e. 3 minutes. 0 disable timer, i.e. stay discoverable forever discoverabletimeout 0 always allow pairing even if there are no agent registered possible values true, false default false alwayspairable false how long to stay in pairable mode before going back to nondiscoverable the value is in seconds. default is 0. 0 disable timer, i.e. stay pairable forever pairabletimeout 0 use vendor id source assigner, vendor, product and version information for did profile support. the values are separated by quotquot and assigner, vid, pid and version. possible vendor id source values bluetooth, usb default or false disabled deviceid bluetooth12345678abcd do reverse service discovery for previously unknown devices that connect to us. for bredr this option is really only needed for qualification since the bite tester doesnt like us doing reverse sdp for some test cases, for le this disables the gatt client functionally so it can be used in system which can only operate as peripheral. defaults to true. reverseservicediscovery true enable name resolving after inquiry. set it to false if you dont need remote devices name and want shorter discovery cycle. defaults to true. nameresolving true enable runtime persistency of debug link keys. default is false which makes debug link keys valid only for the duration of the connection that they were created for. debugkeys false restricts all controllers to the specified transport. default value is quotdualquot, i.e. both bredr and le enabled when supported by the hw. possible values quotdualquot, quotbredrquot, quotlequot controllermode dual maximum number of controllers allowed to be exposed to the system. default0 unlimited maxcontrollers0 enables multi profile specification support. this allows to specify if system supports only multiple profiles single device mpsd configuration or both multiple profiles single device mpsd and multiple profiles multiple devices mpmd configurations. possible values quotoffquot, quotsinglequot, quotmultiplequot multiprofile off permanently enables the fast connectable setting for adapters that support it. when enabled other devices can connect faster to us, however the tradeoff is increased power consumptions. this feature will fully work only on kernel version 4.1 and newer. defaults to false. fastconnectable false default privacy setting. enables use of private address. possible values for le mode quotoffquot, quotnetworkonquot, quotdevicequot possible values for dual mode quotoffquot, quotnetworkonquot, quotdevicequot, quotlimitednetworkquot, quotlimiteddevicequot off local privacy disabled. networkon a device will only accept advertising packets from peer devices that contain private addresses. it may not be compatible with some legacy devices since it requires the use of rpas all the time. device a device in device privacy mode is only concerned about the privacy of the device and will accept advertising packets from peer devices that contain their identity address as well as ones that contain a private address, even if the peer device has distributed its irk in the past. limitednetwork apply limited discoverable mode to advertising, which follows the same policy as to bredr that publishes the identity address when discoverable, and network privacy mode for scanning. limiteddevice apply limited discoverable mode to advertising, which follows the same policy as to bredr that publishes the identity address when discoverable, and device privacy mode for scanning. defaults to quotoffquot privacy off specify the policy to the justworks repairing initiated by peer possible values quotneverquot, quotconfirmquot, quotalwaysquot defaults to quotneverquot justworksrepairing never how long to keep temporary devices around the value is in seconds. default is 30. 0 disable timer, i.e. never keep temporary devices temporarytimeout 30 enables the device to issue an sdp request to update known services when profile is connected. defaults to true. refreshdiscovery true enables dbus experimental interfaces possible values true or false experimental false enables kernel experimental features, alternatively a list of uuids can be given. possible values true,false,ltuuid listgt possible uuids d4992530b9ec469fab016c481c47da1c bluez experimental debug 671b10b542c046969227eb28d1b049d6 bluez experimental simultaneous central and peripheral 15c0a148c27311eab3de0242ac130004 bluez experimental ll privacy 330859bc7506492d93709a6f0614037f bluez experimental bluetooth quality report a6695aceee7f4fb9881a5fac66c629af bluez experimental offload codecs 6fbaf18805e0496a9885d6ddfdb4e03e bluez experimental iso socket defaults to false. kernelexperimental false the duration to avoid retrying to resolve a peers name, if the previous try failed. the value is in seconds. default is 300, i.e. 5 minutes. remotenamerequestretrydelay 300 br the following values are used to load default adapter parameters for bredr. bluez loads the values into the kernel before the adapter is powered if the kernel supports the mgmtloaddefaultparameters command. if a value isnt provided, the kernel will be initialized to its default value. the actual value will vary based on the kernel version and thus arent provided here. the bluetooth core specification should be consulted for the meaning and valid domain of each of these values. bredr page scan activity configuration pagescantype pagescaninterval pagescanwindow bredr inquiry scan activity configuration inquiryscantype inquiryscaninterval inquiryscanwindow bredr link supervision timeout linksupervisiontimeout bredr page timeout pagetimeout bredr sniff intervals minsniffinterval maxsniffinterval le the following values are used to load default adapter parameters for le. bluez loads the values into the kernel before the adapter is powered if the kernel supports the mgmtloaddefaultparameters command. if a value isnt provided, the kernel will be initialized to its default value. the actual value will vary based on the kernel version and thus arent provided here. the bluetooth core specification should be consulted for the meaning and valid domain of each of these values. le advertisement interval used for legacy advertisement interface only minadvertisementinterval maxadvertisementinterval multiadvertisementrotationinterval le scanning parameters used for passive scanning supporting auto connect scenarios scanintervalautoconnect scanwindowautoconnect le scanning parameters used for passive scanning supporting wake from suspend scenarios scanintervalsuspend scanwindowsuspend le scanning parameters used for active scanning supporting discovery proceedure scanintervaldiscovery scanwindowdiscovery le scanning parameters used for passive scanning supporting the advertisement monitor apis scanintervaladvmonitor scanwindowadvmonitor le scanning parameters used for connection establishment. scanintervalconnect scanwindowconnect le default connection parameters. these values are superceeded by any specific values provided via the load connection parameters interface minconnectioninterval maxconnectioninterval connectionlatency connectionsupervisiontimeout autoconnecttimeout scan duration during interleaving scan. only used when scanning for adv monitors. the units are msec. default 300 advmonallowlistscanduration default 500 advmonnofilterscanduration enabledisable advertisement monitor interleave scan for power saving. 0 disable 1 enable defaults to 1 enableadvmoninterleavescan gatt gatt attribute cache. possible values always always cache attributes even for devices not paired, this is recommended as it is best for interoperability, with more consistent reconnection times and enables proper tracking of notifications for all devices. yes only cache attributes of paired devices. no never cache attributes default always cache always minimum required encryption key size for accessing secured characteristics. possible values 0 and 716. 0 means dont care. defaults to 0 keysize 0 exchange mtu size. possible values 23517 defaults to 517 exchangemtu 517 number of att channels possible values 15 1 disables eatt default to 3 channels 3 avdtp avdtp l2cap signalling channel mode. possible values basic use l2cap basic mode ertm use l2cap enhanced retransmission mode sessionmode basic avdtp l2cap transport channel mode. possible values basic use l2cap basic mode streaming use l2cap streaming mode streammode basic policy the reconnectuuids defines the set of remote services that should try to be reconnected to in case of a link loss link supervision timeout. the policy plugin should contain a sane set of values by default, but this list can be overridden here. by setting the list to empty the reconnection feature gets disabled. reconnectuuids0000111200001000800000805f9b34fb,0000111f00001000800000805f9b34fb,0000110a00001000800000805f9b34fb,0000110b00001000800000805f9b34fb reconnectattempts define the number of attempts to reconnect after a link lost. setting the value to 0 disables reconnecting feature. reconnectattempts7 reconnectintervals define the set of intervals in seconds to use in between attempts. if the number of attempts defined in reconnectattempts is bigger than the set of intervals the last interval is repeated until the last attempt. reconnectintervals1,2,4,8,16,32,64 autoenable defines option to enable all controllers when they are found. this includes adapters present on start as well as adapters that are plugged in later on. defaults to true. autoenabletrue audio devices that were disconnected due to suspend will be reconnected on resume. resumedelay determines the delay between when the controller resumes from suspend and a connection attempt is made. a longer delay is better for better coexistence with wifi. the value is in seconds. default 2 resumedelay 2 advmon default rssi sampling period. this is used when a client registers an advertisement monitor and leaves the rssisamplingperiod unset. possible values 0x00 report all advertisements n 0xxx report advertisements every n x 100 msec range 0x01 to 0xfe 0xff report only one advertisement per device during monitoring period default 0xff rssisamplingperiod0xff does anyone know what the reason might be?",,0,ubuntu;audio;raspberry-pi;bluetooth,2025-03-11
79495573,how to change the bluetooth name of the raspberry pico 2w?,"currently, i want to change the name of the pico 2w device displayed on the nrf connect app. i am using micro pico in vscode. i tried many things but the name is always quotnaquot. import bluetooth from time import sleep bluetooth.ble.activetrue ble bluetooth.ble devicename picowdevice advertisingdata bx02x01x06x03x03x0fx18x09 bytesdevicename, utf8 ble.gapadvertise100, advdataadvertisingdata printfquotthe name of the device is currently devicenamequot while true sleep1 i tried to change the name, but it always displayed quotnaquot","the problem is how you constructed the advertisingdata. try this devicename picowdevice advertisingdata bytearray advertisingdata bx02x01x06 flags advertisingdata bytearray1 lendevicename, 0x09 name length and complete local name ad type advertisingdata devicename.encodeutf8 ensures the name is encoded into bytes ble.gapadvertise100, advdatabytesadvertisingdata converts the bytearray to bytes",1,python;raspberry-pi;raspberry-pi-pico,2025-03-09
79492087,tflc02 lidar module not sending data despite powering on,"i am trying to interface the tflc02 lidar module using serial communication, but i am not receiving any data. i have tested it with a raspberry pi, an arduino, and a usbtottl adapter connected to my laptop. the lidar modules infrared light is visible through a mobile camera, indicating that it is powered on, but i get no response when trying to read data from it. i am using the following python script to read data via a usbtottl adapter on my laptop import serial ser serial.serialdevttyusb0, 115200, timeout1 adjust port accordingly while true data ser.readline.decodeutf8, errorsignore.strip if data printquotreceivedquot, data",,0,raspberry-pi;point-cloud-library;lidar;depth-testing,2025-03-07
79489323,how to create a static build on qtcreator linux raspberry pi 5,"i am developing a gui in qt creator using a raspberrypi 5. this gui runs normally on the raspberry i am developing, it opens normally like a regular software. however, when i try to run this same quotsoftwarequot or quotguiquot on another raspberry, it does not open or run. it is as if something is missing. i saw something in other forums about compiling in quotstaticquot mode, but i do not know how to do this. i am compiling directly in qtcreator with a boot2qt 6.8.0 raspberry pi development boards 64bit kit. i am using several libraries in this project, it is a project to generate analog signals through the raspberrys audio output, it is simple, but i cannot run it on other machines... note i am using qt creator student version.. it is a project for my college...",,0,linux;ubuntu;user-interface;raspberry-pi,2025-03-06
79488751,how to resolve missing libc.so.6 dependency on minimal linux guest os in rpi4 hypervisor?,"im working on a project which involves using a rpi4b in order to build an open source hypervisor with two guest os linux and freertos. now all that build process is complete, and im trying to execute a simple c program inside the linux guest os. the linux inside the hypervisor comes with minimal packages, and is a bare linux kernel running. while trying to execute a .c file, i have crosscompiled according to the aarch64 architecture using the command aarch64linuxgnugcc o ipcreader ipcreader.c and transferred the binary file inside the linux file system using scp. however its not being executed, and when i checked the dependencies or packages required to run the binary using the ldd ipcreader command, heres what i found ldd ipcreader checking subdepends for not found libc.so.6 gt not found 0x00000000 libldlinuxaarch64.so.1 gt libldlinuxaarch64.so.1 0x00000000 how can i resolve these missing dependencies on a minimal linux guest os without a package manager?",,0,linux;raspberry-pi;arm;cross-compiling;libc,2025-03-06
79488026,simple python way of using dma on raspi 5,"is there a simple way to use dma to control pins on a raspi 5? i have some code working using pigpio, on a 3 basically 4 channels of pulses to control 4 ws2812 strips... but that doesnt work on the raspi 5.",,0,python;raspberry-pi;raspberry-pi5,2025-03-06
79487598,issues writing to gpio,"im using a raspberry pi 4, php 8 and the gpio php library. the following code throws an error require vendorautoload.php requireonce vendorautoload.php use piphpgpiogpio use piphpgpiopininputpininterface use piphpgpiopinoutputpininterface gpio new gpio buttonpin gpiogtgetinputpin3 the error is php fatal error uncaught runtimeexception fwrite write of 1 bytes failed with errno22 invalid argument stack trace 0 ...piphpgpiosrcfilesystemfilesystem.php46 piphpgpiofilesystemfilesystemgtexceptioniffalse 1 ...piphpgpiosrcpinpin.php165 piphpgpiofilesystemfilesystemgtputcontents 2 ...piphpgpiosrcpinpin.php62 piphpgpiopinpingtwritepinnumbertofile 3 ...piphpgpiosrcpinpin.php43 piphpgpiopinpingtexport 4 ...piphpgpiosrcpininputpin.php19 piphpgpiopinpingtconstruct 5 ...piphpgpiosrcgpio.php34 piphpgpiopininputpingtconstruct 6 station.php11 piphpgpiogpiogtgetinputpin 7 main thrown in ...piphpgpiosrcfilesystemfilesystem.php on line 55 is it because im using php 8? if so, how can i downgrade?",,1,php;raspberry-pi;gpio,2025-03-05
79486939,is there a straightforward way of using getting a gps gonglass ublox 7 dongle alongside a raspberry pi to get a fix on satellite consistently?,"i am trying use a raspberry pi and a sense hat to gather data on a sailing boat. i was hoping to integrate the gps gonglass dongle into this system due to its straightforward usb connection. however connecting it is proving more difficult then initially thought. i have been able to use the uconnect support software to pick up satellite connection on a computer however the raspberry pi just hasnt worked yet. i have downloaded the gpsd librairys aswell as chrony. i then positioned this dongle outside where i managed to get one connection early in the morning only for it to be gone very quickly. i havent gotten a connection since for a number of days. just wondering are these antenae very weak, susceptible to breaking, sensitive to surroundings or could this in fact be an error i made during the installation? if anyone knows any thoughts or advise would be great.",,0,raspberry-pi;connection;gps;dongle,2025-03-05
79485736,raspberry pi 5 automatically adjust virtual environment amp cpu cores without rebooting,"im configuring .bashrc on my raspberry pi 5 to automatically activate a virtual environment and limit the cpu cores from 4 to 1 when i navigate to a specific directory. when i move to a different directory, the virtual environment should deactivate, and the cpu cores should restore from 1 back to 4. the core limitation 4 1 works fine, but the restoration 1 4 does not work when leaving the directory. the condition is that this must be done without rebooting. how can i make the cpu cores restore properly? any help would be appreciated! im adjusting the .bashrc on a raspberry pi so that when i navigate to a specific directory, a virtual environment is activated and the number of cpu cores is limited. then, when i move to a different directory, the virtual environment is deactivated, and the cpu cores are restored. how can i fix this issue? on the raspberry pi 5, which has a total of 4 cpu cores, limiting the cores from 4 to 1 when moving to a specific directory works fine. however, when i navigate away, the cores are not restoring from 1 back to 4. the condition is that this must be done without rebooting, but im not sure how to make it work. please help, experts! venvpathquothomemyvirtualenvquot projectdirquothomeprojectsmyprojectjhprojectquot export prevcpustatequotfullquot setpowersave echo quot enabling power save modequot echo quotpowersavequot sudo tee sysdevicessystemcpucpucpufreqscalinggovernor gt devnull echo quot reducing cpu cores...quot for i in 1 2 3 do if f quotsysdevicessystemcpucpuionlinequot then echo 0 sudo tee sysdevicessystemcpucpuionline gt devnull 2gtamp1 fi done setperformancemode echo quot enabling performance modequot echo quotperformancequot sudo tee sysdevicessystemcpucpucpufreqscalinggovernor gt devnull echo quot restoring all cpu cores...quot for i in 1 2 3 do if f quotsysdevicessystemcpucpuionlinequot then echo 1 sudo tee sysdevicessystemcpucpuionline gt devnull 2gtamp1 fi done checkcdandactivate echo quot current directory pwdquot echo quot previous cpu state prevcpustatequot if quotpwdquot quotprojectdirquot ampamp quotprevcpustatequot ! quotlowquot then if d quotvenvpathquot ampamp z quotvirtualenvquot then echo quot activating virtual environment venvpathquot source quotvenvpathbinactivatequot fi setpowersave export prevcpustatequotlowquot elif quotprevcpustatequot quotlowquot ampamp quotpwdquot ! quotprojectdirquot then echo quot switching to performance modequot if ! z quotvirtualenvquot then echo quot deactivating virtual environmentquot deactivate fi setperformancemode export prevcpustatequotfullquot fi export promptcommandquotcheckcdandactivatequot",i would match pwd against all subdirectories and also resolve all symlinks. checkcdandactivate local pwdpwd projectdir2 pwdreadlink f quotpwdquot ampamp projectdir2readlink f quotprojectdirquot ampamp if quotpwdquot quotprojectdir2quot then setpowersave else setperformancemode fi export promptcommandquotcheckcdandactivatequot,0,linux;bash;raspberry-pi;cpu;virtual-environment,2025-03-05
79481933,no i2c connection found solved,"i am trying to read i2c data from a battery board to an up squared 7100 board. this board uses the same 40 pinhead as the raspberry pi so i would think the i2c connection would work the same way. when testing the battery board on a raspberry pi, i am able to receive i2c data. i am using pin head 3 and 5 and ground when i do the command sudo i2cdetect y r 1 on the raspberry pi i get 0 1 2 3 4 5 6 7 8 9 a b c d e f 00 0b 10 20 30 36 40 50 60 however when i run the same command on the 7100 i get 0 1 2 3 4 5 6 7 8 9 a b c d e f 00 10 20 30 40 50 60 70 i would expect the same 0x36 address to be there on the 7100. why is it not or how can i search for why? when i do the command ls sysbuspcidevicesi2cdesignware.1 grep i2c on the 7100, i get back i2c0",the connection was simply running on a different bus on the 7100. it was running on bus 2. sudo i2cdetect y r 2 showed that there was a device on 0x36,-1,raspberry-pi;microcontroller;i2c,2025-03-03
79481484,how can i connect an lcd to an up squared board using spidev?,"original board raspberry pi 4 model b new board up squared 7100 lcd nhdpcb12832a1zrev2 import rpi.gpio as gpio from asciivalues import ascii168 import iconmanager mapping based on bcm broadcom pinout from lcdcs 8 lcdrst 22 lcda0 23 lcdclk 11 lcdsi 10 class lcd instance none def newcls, args, kwargs quotquotquotensure only one instance of the lcd class exists.quotquotquot if cls.instance is none cls.instance superlcd, cls.newcls cls.instance.initializelcd return cls.instance def delself gpio.cleanup def initializelcdself self.ioinit self.lcdinit gpio.setwarningsfalse def cleanupself gpio.cleanup def ioinitself gpio.setmodegpio.bcm gpio.setuplcdcs, gpio.out gpio.setuplcdrst, gpio.out gpio.setuplcda0, gpio.out gpio.setuplcdclk, gpio.out gpio.setuplcdsi, gpio.out def lcdinitself gpio.outputlcdcs, true gpio.outputlcdrst, false gpio.outputlcdrst, true self.lcdtransferdata0xe2, 0 internal reset self.lcdtransferdata0xa2, 0 sets the lcd drive voltage bias ratio a2 19 bias a3 17 bias st7565v self.lcdtransferdata0xa0, 0 sets the display ram address seg output correspondence a0 normal a1 reverse self.lcdtransferdata0xc8, 0 select com output scan direction c0c7 normal direction c8cf reverse direction self.lcdtransferdata0xa4, 0 display all points onoff a4 normal display a5 all points on self.lcdtransferdata0xa6, 0 sets the lcd display normalinverted a6 normal a7 inverted self.lcdtransferdata0x2f, 0 select internal power supply operating mode 282f operating mode self.lcdtransferdata0x40, 0 display start line set 407f display start address self.lcdtransferdata0x20, 0 v5 voltage regulator internal resistor ratio set contrast 2027 smalllarge self.lcdtransferdata0x81, 0 electronic volume mode set 81 set the v5 output voltage self.lcdtransferdata0x30, 0 electronic volume register set 003f electronic volume register self.lcdtransferdata0b10101111, 0 display onoff 0b10101111 on 0b10101110 off self.lcdclear def displayiconself, xpos, ypos, icon, negativefalse iconmatrix iconmanager.formaticonicon, negative if not isinstanceiconmatrix, list or not allisinstancei, int for i in iconmatrix raise typeerrorquoticonmatrix must be a list of integersquot quadrantoffsets 0, 0, 0, 8, quadrant 1 topleft 1, 0, 8, 16, quadrant 2 bottomleft 0, 8, 16, 24, quadrant 3 topright 1, 8, 24, 32, quadrant 4 bottomright for yoffset, xoffset, startidx, endidx in quadrantoffsets self.lcdsetpageypos yoffset, xpos xoffset transfer the entire quadrant data at once data iconmatrixstartidxendidx self.lcdtransferdatabulkdata def lcdascii168stringself, xpos, ypos, string stringlen lenstring for i in range0, stringlen self.lcdascii168xpos i 8, ypos, ordstringi 32 def lcdascii168self, xpos, ypos, char self.lcdsetpageypos, xpos for i in range0, 8 self.lcdtransferdataascii168chari, 1 self.lcdsetpageypos 1, xpos for i in range8, 16 self.lcdtransferdataascii168chari, 1 def lcdclearself gpio.outputlcdcs, false for i in range0, 8 self.lcdsetpagei, 0 for j in range0, 128 self.lcdtransferdata0x00, 1 gpio.outputlcdcs, true def lcdsetpageself, page, column lsb column amp 0x0f msb column amp 0xf0 msb gtgt 4 msb 0x10 page 0xb0 self.lcdtransferdatapage, 0 self.lcdtransferdatamsb, 0 self.lcdtransferdatalsb, 0 def lcdtransferdataself, value, a0 gpio.outputlcdcs, false gpio.outputlcdclk, true if a0 gpio.outputlcda0, true else gpio.outputlcda0, false self.lcdbytevalue gpio.outputlcdcs, true def lcdtransferdatabulkself, datalist quotquotquottransfers a list of data in bulk, minimizing gpio operations.quotquotquot gpio.outputlcdcs, false gpio.outputlcdclk, true for data in datalist gpio.outputlcda0, true data mode self.lcdbytedata gpio.outputlcdcs, true def lcdbyteself, bits tmp bits for i in range0, 8 gpio.outputlcdclk, false if tmp amp 0x80 gpio.outputlcdsi, true else gpio.outputlcdsi, false tmp tmp ltlt 1 gpio.outputlcdclk, true i am able to send data to display on the lcd using the rpi.gpio package however, i want to run the code on an up squared board and the rpi.gpio package does not work on a nonraspberry pi. i am using an up squared 7100 that has the same 40 pin header as a raspberry pi. i am trying to connect to the lcd using the spidev package",,0,python;raspberry-pi;embedded;microcontroller;lcd,2025-03-03
79479805,miadoreretron64 usb gamepad button mapping,"i am trying to play nintendo64 mupen64plus with this gamepads, but i cant manage to correctly configre them. i am running on raspberry pi 5, recalbox version 9.2.3 by default not all buttons work correctly, so i tried to modify recalboxsharesystemconfigmupen64inputautocfg.ini adding this switch co.,ltd. controller dinput a buttonbutton2 analogdeadzone4096,4096 analogpeak32768,32768 b buttonbutton2 c button dbutton0 c button lbutton3 c button rbutton1 c button ubutton9 dpad dhat0 down dpad lhat0 left dpad rhat0 right dpad uhat0 up l trigbutton4 mempak switch r trigbutton5 rumblepak switch startbutton12 x axisaxis0,0 axis0,0 y axisaxis1,1 axis1,1 z trigbutton6 mousefalse pluggedtrue plugin2 and recalboxsharesystemconfigmupen64mupen64plus.cfg like this switch co.,ltd. controller dinput a button quotbutton1quot analogdeadzone quot4096,4096quot analogpeak quot32768,32768quot b button quotbutton2quot c button d quotbutton0quot c button l quotbutton3quot c button r quotbutton8quot c button u quotbutton9quot dpad d quothat0 downquot dpad l quothat0 leftquot dpad r quothat0 rightquot dpad u quothat0 upquot l trig quotbutton4quot mempak switch quotquot r trig quotbutton5quot rumblepak switch quotquot start quotbutton12quot x axis quotaxis0,0quot y axis quotaxis1,1quot z trig quotbutton6quot device 0 mode 0 mouse false plugged true plugin 2 version 2 and also adding n64.configfiledummy to recalboxsystemrecalbox.conf. nothing works, i tried both file with dummy, without dummy and only one of them in turn, both with and without dummy the controller is not recognized at all. what is the correct way to configure it? thanks in advance",,0,raspberry-pi;controller;raspberry-pi5,2025-03-02
79478323,failed loading libmpg1230.dll,"i am making a python mp3 player for fun im 12 dont judge the code and i get this error file quotdraspmp3main.pyquot, line 38, in playmusic pygame.mixer.music.loados.path.joinroot.drectory, currentsong pygame.error failed loading libmpg1230.dll the specified module could not be found how do i fix it? i tried reinstalling pygame but it did not help. i also reinstalled python and tried to get the github copilot to help. im using vscode. is it my windows or vscode? anything helps what else should i try? my code from tkinter import from tkinter import filedialog import pygame import os root tk root.titlequotraspmp3quot root.geometryquot600x400quot pygame.mixer.init menubar menuroot root.configmenumenubar songs currentsong quotquot paused false def loadmusic global currentsong root.directory filedialog.askdirectory for song in os.listdirroot.directory name, ext os.path.splitextsong if ext quot.mp3quot songs.appendsong for song in songs songlist.insertend, song songlist.selectionset0 currentsong songssonglist.curselection0 def playmusic global currentsong, paused if not paused pygame.mixer.music.loados.path.joinroot.directory, currentsong pygame.mixer.music.play else pygame.mixer.music.unpause paused false def pausemusic global paused pygame.mixer.music.pause paused true def nextmusic global currentsong, paused try songlist.selectionclear0, end nextindex songs.indexcurrentsong 1 if nextindex lt lensongs songlist.selectionsetnextindex currentsong songssonglist.curselection0 playmusic else handle the case when the current song is the last in the list songlist.selectionset0 currentsong songs0 playmusic except indexerror pass def previousmusic global currentsong, paused try songlist.selectionclear0, end previndex songs.indexcurrentsong 1 if previndex gt 0 songlist.selectionsetprevindex currentsong songssonglist.curselection0 playmusic else handle the case when the current song is the first in the list songlist.selectionsetlensongs 1 currentsong songs1 playmusic except indexerror pass organizemenu menumenubar, tearofffalse organizemenu.addcommandlabelquotopen folderquot, commandloadmusic menubar.addcascadelabelquotsongsquot, menuorganizemenu songlist listboxroot, bgquotblackquot, fgquotwhitequot, width100, height15 songlist.pack controlframe frameroot controlframe.pack playbtnimg photoimagefilequotplay.pngquot pausebtnimg photoimagefilequotpause.pngquot nextbtnimg photoimagefilequotnext.pngquot previousbtnimg photoimagefilequotprevious.pngquot playbtn buttoncontrolframe, imageplaybtnimg, borderwidth0, commandplaymusic pausebtn buttoncontrolframe, imagepausebtnimg, borderwidth0, commandpausemusic nextbtn buttoncontrolframe, imagenextbtnimg, borderwidth0, commandnextmusic previousbtn buttoncontrolframe, imagepreviousbtnimg, borderwidth0, commandpreviousmusic playbtn.gridrow0, column1, padx7, pady10 pausebtn.gridrow0, column2, padx7, pady10 nextbtn.gridrow0, column3, padx7, pady10 previousbtn.gridrow0, column0, padx7, pady10 root.mainloop also does anyone have any screen recommendations for raspberry pi? and also a row of four buttons or like a ipod click wheel thing? im trying to make a raspberry pi mp3 player using my old raspberry pi3.im in nz so only things i can get here.",fixed it i just had to delete and reinstall pygame again! thanks for the help!,0,python;linux;visual-studio-code;raspberry-pi,2025-03-01
79478075,writing to two spi devices on the same spi bus screws the output,"i have two devices connected to the same spi bus on a raspberry pi. both devices use the same custom device driver, which exposes them as two separate miscellaneous devices in user space, supporting simple register write operations. in my userspace program, i open both device files and perform ioctl operations on them. however, i observe an issue when i perform 1000 writes to the first device, followed immediately by a few writes to the second device, the second device seems to receive values intended for the first device, despite using separate chip select cs pins. in the device driver, spi writes are performed using spisync. questions behavior of spisync based on the documentation, spisync is a synchronous function. does this mean that the kernel thread performing the write only returns after the data has been fully transmitted on the spi bus? ioctl behavior when a user program calls ioctl for an spi write operation, does it block until the device driver completes the spi transfer, or does it return immediately after copying user data into kernel space? concurrent writes from different processes if another userspace program writes to the second device at the same time, will this result in interleaved spi transfers on the bus? will the spi core handle chip select cs assertion correctly for each transfer to ensure data integrity?",,0,linux-kernel;raspberry-pi;spi,2025-03-01
79475792,guru meditation error core 1 panic39ed loadprohibited. esp32 using local raspberry pi influxdb database,"i encounter this error whenever i try to connect to the influxdb server version 2.x that is locally hosted in my network. ive been looking for a solution but cant find any. i use an esp32 without any pins attached. im also using the default generated example to connect and esp32 by the influxdb tutorial itself see code below. pi8086 is the locally defined address if definedesp32 include ltwifimulti.hgt wifimulti wifimulti define device quotesp32quot elif definedesp8266 include ltesp8266wifimulti.hgt esp8266wifimulti wifimulti define device quotesp8266quot endif include ltinfluxdbclient.hgt include ltinfluxdbcloud.hgt wifi ap ssid define wifissid quotssidquot wifi password define wifipassword quotpasswordquot define influxdburl quot define influxdbtoken quottokenquot define influxdborg quotorgquot define influxdbbucket quotesptestbucketquot time zone info define tzinfo quotutc1quot declare influxdb client instance with preconfigured influxcloud certificate influxdbclient clientinfluxdburl, influxdborg, influxdbbucket, influxdbtoken declare data point point sensorquotwifistatusquot void setup serial.begin115200 setup wifi wifi.modewifista wifimulti.addapwifissid, wifipassword serial.printquotconnecting to wifiquot while wifimulti.run ! wlconnected serial.printquot.quot delay100 serial.println accurate time is necessary for certificate validation and writing in batches we use the ntp servers in your area as provided by syncing progress and the time will be printed to serial. timesynctzinfo, quotpool.ntp.orgquot, quottime.nis.govquot check server connection if client.validateconnection serial.printquotconnected to influxdb quot serial.printlnclient.getserverurl else serial.printquotinfluxdb connection failed quot serial.printlnclient.getlasterrormessage void loop i get the following error before the esp32 reboots itself and all happens again guru meditation error core 1 paniced loadprohibited. exception was unhandled. 144438.943 gt 144438.943 gt core 1 register dump 144438.943 gt pc 0x4008ac05 ps 0x00060430 a0 0x800dc105 a1 0x3ffb2120 144438.990 gt a2 0x00000000 a3 0xfffffffc a4 0x000000ff a5 0x0000ff00 144438.990 gt a6 0x00ff0000 a7 0xff000000 a8 0x00000000 a9 0x3ffb20c0 144438.990 gt a10 0x3ffb212c a11 0x3f4124aa a12 0x00000000 a13 0x00000000 144438.990 gt a14 0x00000011 a15 0x3ffd0674 sar 0x00000020 exccause 0x0000001c 144438.990 gt excvaddr 0x00000000 lbeg 0x4008ac05 lend 0x4008ac15 lcount 0xffffffff 144438.990 gt 144438.990 gt 144438.990 gt backtrace 0x4008ac020x3ffb2120 0x400dc1020x3ffb2130 0x400d66aa0x3ffb2150 0x400d67cb0x3ffb2190 0x400d710e0x3ffb21d0 0x400d28820x3ffb2220 0x400dcb6f0x3ffb2270 0x4008ea2a0x3ffb2290 decoding it with the exception deocder give decoding stack results 0x4008ac02 strlen at buildsidfcrosstoolng.buildhosti686w64mingw32xtensaespelfsrcnewlibnewliblibcmachinextensastrlen.s line 82 0x400dc0ee stringconcatchar at cusersuserappdatalocalarduino15packagesesp32hardwareesp323.1.2coresesp32wstring.cpp line 351 0x400d66ae stdfunction , bool at cusersuserdocumentsarduinolibrariesesp8266influxdbsrc line 194 0x400d67cf const, int, stdfunction at cusersuserdocumentsarduinolibrariesesp8266influxdbsrc line 171 0x400d70fa influxdbclientvalidateconnection at cusersuserappdatalocalarduino15packagesesp32hardwareesp323.1.2coresesp32wstring.h line 144 0x400d2886 setup at cusersuserdocumentsarduinoesp32influxapiesp32influxapi.ino line 53 0x400dcb5b setcpufrequencymhz at cusersuserappdatalocalarduino15packagesesp32hardwareesp323.1.2coresesp32esp32halcpu.c line 170 0x4008ea2a vporttaskwrapper at homerunnerworkesp32arduinolibbuilderesp32arduinolibbuilderespidfcomponentsfreertosfreertoskernelportablextensaport.c line 139 i could think that it, as you can see, got something to do with the strlen function that a string possibly is out of bounce or so which fails the http request and the validation for the influxdbclient. i tried using another url, new tokens, other timesyncs and so on. connecting to the wifi works but it the client.validateconnection function malfunctions in some way. but i cant find anything helpful online and im open for any help!",,0,arduino;raspberry-pi;esp32;influxdb;arduino-esp32,2025-02-28
79474443,can i get rpm pulses from an aux 12v fan on rpi zero?,"i have been checking the forums for this question, but didnt find my answer. i would appreciate if you could please help me with. i have a 3wire 12v dc fan connected to rpi zero w via a relay module. the thrid wire of the fan is producing rpm pulses mentioned in the datasheet which i want to use as an indicator to check the status of the fan, the fan is on or not. i did a search and found it that i shouldnt connect the third wire directly to the gpios because might have a similar voltage as input voltage of the fan. is this correct? if so, how would be the safest way to connect to read the pulses? many thanks","remember that, the example provided information for fan using dc5v 12v 24v. import rpi.gpio as gpio import time pin configuration tach 24 fans tachometer output pin pulse 2 noctua fans puts out two pluses per revolution waittime 1 s time to wait between each refresh setup gpio gpio.setmodegpio.bcm gpio.setwarningsfalse gpio.setuptach, gpio.in, pullupdowngpio.pudup pull up to 3.3v setup variables t time.time rpm 0 caculate pulse frequency and rpm def felln global t global rpm dt time.time t if dt lt 0.005 return reject spuriously short pulses freq 1 dt rpm freq pulse 60 t time.time add event to detect gpio.addeventdetecttach, gpio.falling, fell try while true print quot.f rpmquot rpm rpm 0 time.sleep1 detect every second except keyboardinterrupt trap a ctrlc keyboard interrupt gpio.cleanup resets all gpio ports used by this function reference",-1,raspberry-pi,2025-02-28
79465755,jtag unable to fetch el3 registers in el2 arm64,"i recently started experimenting with some baremetal development on my raspberry pi zero 2w. im trying to get debugging and semihosting to work using a jlink debugger and openocd. i use vscode as my code editor and got the debugger working. after i edited my armstub to start the kernel at el2 it fails to fetch the el3 registers. can anyone tell me why this is happening? debugging in el3 when i try debugging in el2 mode no registers are shown and got a message in debug window that it failed to fetch el3 registers. ive tried setting several bits in the registers of the processor but no luck. armstub8.s remove everything from start until inel2 to boot in el3 define bitx 1 ltlt x .global start drop from el3 to el2 start set up secure configuration register screl3 ns 1 gt switch to nonsecure world rw 1 gt aarch64 execution state irq and fiq 0 gt enable irq and fiq in lower els mov x0, 1 ltlt 0 ns nonsecure orr x0, x0, 1 ltlt 10 rw aarch64 execution orr x0, x0, 1 ltlt 15 set edpd external debug protection disable allow debugging in lower els msr screl3, x0 write to screl3 mrs x0, mdcrel2 read current mdcrel2 value orr x0, x0, 1 ltlt 11 set tdra enable el2 debug register access orr x0, x0, 1 ltlt 10 set tdosa allow debug exceptions orr x0, x0, 1 ltlt 3 set tda allow el1 debug access from el2 msr mdcrel2, x0 write back modified value set up the saved program status register spsrel3 m30 0b1001 el2h mode i 0 gt enable irq f 0 gt enable fiq d 0 gt enable debug exceptions mov x0, 9 ltlt 0 el2h mode orr x0, x0, 7 ltlt 6 msr spsrel3, x0 write to spsrel3 set elrel3 to the kernel entry point in el2 ldr x0, inel2 msr elrel3, x0 execute exception return eret gt switch to el2 eret inel2 disable interrupts msr daifset, 0xf park cores 1, 2, and 3 by placing them into a spin loop mrs x0, mpidrel1 read mpidr multiprocessor id register and x0, x0, 0x3 mask off core id cmp x0, 0 is this core 0? b.eq bootcore0 if core 0, jump to bootcore0 b parkcore otherwise, park the core parkcore wfi wait for interrupt parked b parkcore stay in loop bootcore0 core 0 continues boot ldr x1, 0x80000 load kernel entry address br x1 jump to kernel .ltorg .org 0xf0 .globl stubmagic stubmagic .word 0x5afe570b .org 0xf4 .globl stubversion stubversion .word 0 .org 0xfc .globl kernelentry32 kernelentry32 .word 0x80000 start.s .section quot.text.bootquot .global start start set up the stack pointer ldr x0, mainstack mov sp, x0 zero out the bss section ldr x1, bssstart ldr x2, bssend mov x3, 0 zero value zerobss cmp x1, x2 b.ge jumptokernel str x3, x1, 8 store zero and increment address b zerobss jumptokernel jump to kernelmain bl kernelmain hang wfi wait for interrupt lowpower idle b hang infinite loop kernel.c void kernelmainvoid unsigned int currentel asm volatile quotmrs 0, currentelquot quotrquot currentel currentel currentel gtgt 2 amp 0b11 while 1 link.ld entrystart sections . 0x80000 mainstack . .text keep.text.boot .text .rodata .rodata providedata . .data .data .bss noload align16 bssstart . .bss bssend . discard .comment .gnu .note .ehframe config.txt enablejtaggpio1 arm64bit1 kernelold1 armstubarmstub8.bin kernelkernel8.img openocd command openocd f interfacejlink.cfg f raspi.conf d3 c quotinit arm semihosting enablequot raspi.conf transport select jtag resetconfig trstandsrst adapterkhz 4000 jtagntrstdelay 500 if info exists chipname set chipname chipname else set chipname rpi3 if info exists daptapid set daptapid daptapid else set daptapid 0x4ba00477 jtag newtap chipname tap irlen 4 ircapture 0x1 irmask 0xf expectedid daptapid enable dap create chipname.dap chainposition chipname.tap set targetname chipname.a53 set ctiname chipname.cti set dbgbase 0x80010000 0x80012000 0x80014000 0x80016000 set ctibase 0x80018000 0x80019000 0x8001a000 0x8001b000 set cores 4 for set core 0 core lt cores incr core cti create ctiname.core dap chipname.dap apnum 0 ctibase lindex ctibase core target create targetname.core aarch64 dap chipname.dap coreid core dbgbase lindex dbgbase core cti ctiname.core targetname.core configure event resetassertpost quotaarch64 dbginitquot launch.json quotversionquot quot0.2.0quot, quotconfigurationsquot quotnamequot quotgdb attachquot, quottypequot quotcppdbgquot, quotcwdquot quotworkspacefolderquot, quotrequestquot quotlaunchquot, quotprogramquot quotworkspacefolderkernel8.elfquot, quotmimodequot quotgdbquot, quotmidebuggerpathquot quotctoolsarmgnutoolchainbinaarch64noneelfgdb.exequot, quotmidebuggerargsquot quotkernel8.elfquot, quottargetarchitecturequot quotarm64quot, quotsetupcommandsquot quottextquot quottarget remote 3333quot , quottextquot quotmonitor initquot , quottextquot quotmonitor reset haltquot , quottextquot quotmonitor arm semihosting enablequot , quottextquot quotload cdevbaremetalkernel8.elfquot , quottextquot quotbreak 0x80000quot , quottextquot quotmonitor reg pc 0x80000quot , , edit armstub8.s after removing none existed registers define bitx 1 ltlt x define scrrw bit10 define scrhce bit8 define scrsmd bit7 define scrres15 bit5 define scrres14 bit4 define scrns bit0 define scrval scrrw scrres15 scrres14 scrns define spsrel3d bit9 define spsrel3a bit8 define spsrel3i bit7 define spsrel3f bit6 define spsrel3modeel2h bit3 bit0 define spsrel3val spsrel3d spsrel3a spsrel3i spsrel3f spsrel3modeel2h define hcrrw bit31 define hcrval hcrrw define sctlrreserved bit23 bit22 bit20 bit11 define sctlrval sctlrreserved define mdcrval 0 .global start drop from el3 to el2 start ldr x0, mdcrval msr mdcrel3, x0 ldr x0, mdcrval msr mdcrel2, x0 ldr x0, sctlrval msr sctlrel1, x0 ldr x0, sctlrval msr sctlrel2, x0 ldr x0, hcrval msr hcrel2, x0 ldr x0, scrval msr screl3, x0 ldr x0, spsrel3val msr spsrel3, x0 ldr x0, inel2 msr elrel3, x0 eret inel2 disable interrupts msr daifset, 0xf park cores 1, 2, and 3 by placing them into a spin loop mrs x0, mpidrel1 read mpidr multiprocessor id register and x0, x0, 0x3 mask off core id cmp x0, 0 is this core 0? b.eq bootcore0 if core 0, jump to bootcore0 b parkcore otherwise, park the core parkcore wfi wait for interrupt parked b parkcore stay in loop bootcore0 core 0 continues boot ldr x1, 0x80000 load kernel entry address br x1 jump to kernel .ltorg .org 0xf0 .globl stubmagic stubmagic .word 0x5afe570b .org 0xf4 .globl stubversion stubversion .word 0 .org 0xfc .globl kernelentry32 kernelentry32 .word 0x80000 openocd log debug 120466 44834 armv8.c1883 armv8getgdbreglist creating aarch64 register list for target bcm2837.cpu0 debug 120539 44845 armv8dpm.c661 dpmv8readreg read esrel2, 96000000 debug 120540 44849 gdbserver.c400 gdblogoutgoingpacket bcm2837.cpu0 1 sending packet 000000968f debug 120613 44861 gdbserver.c383 gdblogincomingpacket bcm2837.cpu0 1 received packet p49 debug 120614 44865 armv8.c1883 armv8getgdbreglist creating aarch64 register list for target bcm2837.cpu0 debug 120687 44874 armv8dpm.c661 dpmv8readreg read spsrel2, fa1de37b debug 120688 44877 gdbserver.c400 gdblogoutgoingpacket bcm2837.cpu0 1 sending packet 7be31dfa8d debug 120689 44882 gdbserver.c383 gdblogincomingpacket bcm2837.cpu0 1 received packet p4a debug 120690 44888 armv8.c1883 armv8getgdbreglist creating aarch64 register list for target bcm2837.cpu0 error 120727 44895 armv8dpm.c251 dpmv8execopcode opcode 0xd53e4020, dscr.err1, dscr.el2 debug 120854 44907 armv8dpm.c1327 armv8dpmhandleexception exception taken to el 2, dlr0x58a1fded2e9eba00 dspsr0x000003c9 debug 120855 44913 armv8dpm.c551 armv8dpmmodeswitch restoring mode, cpsr 0x000003c9 debug 120856 44917 armv8dpm.c589 armv8dpmmodeswitch targetel 2, lastel 2 error 120857 44921 armv8dpm.c680 dpmv8readreg failed to read elrel3 register debug 120858 44924 gdbserver.c1488 gdberror reporting 0 to gdb as generic error debug 120859 44928 gdbserver.c400 gdblogoutgoingpacket bcm2837.cpu0 1 sending packet e0eba updated start.s include quotsysregs.hquot .section quot.text.bootquot .global start start ldr x0, sctlrval msr sctlrel1, x0 ldr x0, sctlrval msr sctlrel2, x0 ldr x0, hcrval msr hcrel2, x0 ldr x0, scrval msr screl3, x0 ldr x0, spsrel3val msr spsrel3, x0 ldr x0, inel2 msr elrel3, x0 isb eret inel2 isb mrs x0, mpidrel1 and x0, x0, 0x3 cmp x0, 0 b.eq setupstack b hang setupstack ldr x0, mainstack mov sp, x0 load bss start and end address into registers ldr x1, bssstart ldr x2, bssend mov x3, 0 zerobss cmp x1, x2 b.ge jumptokernel str x3, x1, 8 b zerobss jumptokernel bl main hang wfi b hang","as siguza said it is not possible to debug the el3 registers from el2. but i found a solution for my problem. it is possible to tell gdb which registers to fetch by creating a xml file like this lt?xml versionquot1.0quot?gt lt!doctype target system quotgdbtarget.dtdquotgt lttargetgt ltarchitecturegtaarch64ltarchitecturegt ltfeature namequotorg.gnu.gdb.aarch64.corequotgt ltreg namequotx0quot bitsizequot64quotgt ltreg namequotx1quot bitsizequot64quotgt ltreg namequotx2quot bitsizequot64quotgt ltreg namequotx3quot bitsizequot64quotgt ltreg namequotx4quot bitsizequot64quotgt ltreg namequotx5quot bitsizequot64quotgt ltreg namequotx6quot bitsizequot64quotgt ltreg namequotx7quot bitsizequot64quotgt ltreg namequotx8quot bitsizequot64quotgt ltreg namequotx9quot bitsizequot64quotgt ltreg namequotx10quot bitsizequot64quotgt ltreg namequotx11quot bitsizequot64quotgt ltreg namequotx12quot bitsizequot64quotgt ltreg namequotx13quot bitsizequot64quotgt ltreg namequotx14quot bitsizequot64quotgt ltreg namequotx15quot bitsizequot64quotgt ltreg namequotx16quot bitsizequot64quotgt ltreg namequotx17quot bitsizequot64quotgt ltreg namequotx18quot bitsizequot64quotgt ltreg namequotx19quot bitsizequot64quotgt ltreg namequotx20quot bitsizequot64quotgt ltreg namequotx21quot bitsizequot64quotgt ltreg namequotx22quot bitsizequot64quotgt ltreg namequotx23quot bitsizequot64quotgt ltreg namequotx24quot bitsizequot64quotgt ltreg namequotx25quot bitsizequot64quotgt ltreg namequotx26quot bitsizequot64quotgt ltreg namequotx27quot bitsizequot64quotgt ltreg namequotx28quot bitsizequot64quotgt ltreg namequotx29quot bitsizequot64quotgt ltreg namequotx30quot bitsizequot64quotgt ltreg namequotspquot bitsizequot64quotgt ltreg namequotpcquot bitsizequot64quotgt ltfeaturegt lttargetgt and tell gdb to use the target description using the set tdesc filename lttargetgt.xml command. after adding this command to my launch.json file vscode was able to fetch the specified registers in el3 and el2 mode. launch.json use intellisense to learn about possible attributes. hover to view descriptions of existing attributes. for more information, visit quotversionquot quot0.2.0quot, quotconfigurationsquot quotnamequot quotgdb attachquot, quottypequot quotcppdbgquot, quotcwdquot quotworkspacefolderquot, quotrequestquot quotlaunchquot, quotprogramquot quotworkspacefolderkernel8.elfquot, quotmimodequot quotgdbquot, quotmidebuggerpathquot quotctoolsarmgnutoolchainbinaarch64noneelfgdb.exequot, quotmidebuggerargsquot quotkernel8.elfquot, quottargetarchitecturequot quotarm64quot, quotsetupcommandsquot quottextquot quottarget remote 3333quot , quottextquot quotmonitor initquot , quottextquot quotmonitor reset haltquot , quottextquot quotmonitor arm semihosting enablequot , quottextquot quotload cdevbaremetalkernel8.elfquot , quottextquot quotset tdesc filename cdevbaremetaltarget.xmlquot , quottextquot quotbreak 0x80000quot , quottextquot quotmonitor reg x0 0x1quot , , quotloggingquot quottracequot true, quotengineloggingquot true, quotprogramoutputquot true, quottraceresponsequot true , quotexternalconsolequot false",0,debugging;raspberry-pi;arm64;jtag,2025-02-25
79462252,visual studio fails to execute after publish target,"my solution is a .net 8 project for a raspberry pi. i can publish to a local directory with the arm64 architecture. then in the developer console i can use the scp command to copy the publish directory to the raspberry pi. again project builds and publishes fine, copying manually to the pi works fine. my goal is to just have vs 2022 pro perform the scp command after the publish completes. i tried updating my publish profile pubxml to add the target ltprojectgt ... lttarget namequotscppublishedfilestopidevicequot aftertargetsquotpublishquotgt ltmessage importancequothighquot textquotstarting after publish targetquot gt ltexec commandquotecho copying published files to pi quot gt ltexec commandquotstart cwindowssystem32scp.exe r i cusersmyuser.sshided25519 .piappbinreleasenet8.0publish. useripaddresspiappquot gt lttargetgt ltprojectgt the message line and first exec line with echo are there for testing to see if those are even being hit. i dont see any message or echo in the output window. any ideas how to get the after publish target to fire?",,0,raspberry-pi;visual-studio-2022;scp;visual-studio-publish,2025-02-24
79461836,simple raspberry pi 5 gpio button reading does not work nodejs,"im trying to read a simple momentary push button on a raspberry pi 5 using nodejs. const button new gpio538, in, both button.watcherror, value gt console.logerror console.logvalue process.onsigint, gt button.unexport the script runs without errors but whenever i connect pin 26 and gnd nothing happens. whats going wrong?","finally succeeded using the nodelibgpiod package import pkg from nodelibgpiod const chip, line pkg global.chip new chip4 global.line new linechip, 2 line.requestinputmode const cycle gt const value line.getvalue console.logvalue setintervalcycle, 50",0,node.js;raspberry-pi;gpio,2025-02-23
79461158,javasript request in infinite loop stoped after few minutes,"im using the javascript to read data from digital sensor connected to raspbery pi in this case rotary encoder, but its not that important. this it could be anyone another sensor or controller. in raspbery pi launched the bash script which write sensor value in quotencoder.phpquot file every time when sensor value is changed. this code working perfectly ltscript srcquotajax.googleapis.comajaxlibsjquery1.9.1jquery.min.jsquotgtltscriptgt ltdiv idquotcoordsquotgtltdivgt ltscriptgt async function fetchdata let response await fetchquotencoder.phpquot let text await response.text return new promiseresolve gt settimeout gt resolvetext, 10 async function myfunction while true const data await fetchdata document.getelementbyidquotcoordsquot.innerhtml data myfunction ltscriptgt every time then im rotate encoder im see the sensor value in quotcoordsquot div. but when i modify this code to this switching the tabs on page depending on encoder direction ltscriptgt async function fetchdata let response await fetchquotphpencoder.phpquot let text await response.text return new promiseresolve gt settimeout gt resolvetext, 10 async function myfunction while true const data await fetchdata resp data var readstate resp.substr0, 5 var direction resp.substr6 if typeof laststate undefined laststate quotquot console.logdirection console.logreadstate console.loglaststate if laststate ! readstate ampamp laststate ! quotquot console.logdirection var test document.getelementsbyclassnamequotactivequot0 console.logtest test2 test.innerhtml console.logtest2 var mysubstring test2.substr10, 6 console.logmysubstring if mysubstring quotstnavquot ampamp direction quotccwquot document.getelementbyidquotstscreenquot.classlist.removeactive document.getelementbyidquotsescreenquot.classlist.addactive document.getelementbyidquotstnavelquot.classlist.removeactive document.getelementbyidquotsenavelquot.classlist.addactive document.getelementbyidquotstnavquot.classlist.removeactive document.getelementbyidquotsenavquot.classlist.addactive if mysubstring quotstnavquot ampamp direction quotcwquot document.getelementbyidquotstscreenquot.classlist.removeactive document.getelementbyidquotmascreenquot.classlist.addactive document.getelementbyidquotstnavelquot.classlist.removeactive document.getelementbyidquotmanavelquot.classlist.addactive document.getelementbyidquotstnavquot.classlist.removeactive document.getelementbyidquotmanavquot.classlist.addactive showmap if mysubstring quotsenavquot ampamp direction quotcwquot document.getelementbyidquotsescreenquot.classlist.removeactive document.getelementbyidquotstscreenquot.classlist.addactive document.getelementbyidquotsenavelquot.classlist.removeactive document.getelementbyidquotstnavelquot.classlist.addactive document.getelementbyidquotsenavquot.classlist.removeactive document.getelementbyidquotstnavquot.classlist.addactive if mysubstring quotmanavquot ampamp direction quotcwquot document.getelementbyidquotdascreenquot.classlist.addactive document.getelementbyidquotmascreenquot.classlist.removeactive document.getelementbyidquotdanavelquot.classlist.addactive document.getelementbyidquotmanavelquot.classlist.removeactive document.getelementbyidquotdanavquot.classlist.addactive document.getelementbyidquotmanavquot.classlist.removeactive if mysubstring quotmanavquot ampamp direction quotccwquot document.getelementbyidquotstscreenquot.classlist.addactive document.getelementbyidquotmascreenquot.classlist.removeactive document.getelementbyidquotstnavelquot.classlist.addactive document.getelementbyidquotmanavelquot.classlist.removeactive document.getelementbyidquotstnavquot.classlist.addactive document.getelementbyidquotmanavquot.classlist.removeactive if mysubstring quotdanavquot ampamp direction quotccwquot document.getelementbyidquotdascreenquot.classlist.removeactive document.getelementbyidquotmascreenquot.classlist.addactive document.getelementbyidquotdanavelquot.classlist.removeactive document.getelementbyidquotmanavelquot.classlist.addactive document.getelementbyidquotdanavquot.classlist.removeactive document.getelementbyidquotmanavquot.classlist.addactive if mysubstring quotdanavquot ampamp direction quotcwquot document.getelementbyidquotdascreenquot.classlist.removeactive document.getelementbyidquotrascreenquot.classlist.addactive document.getelementbyidquotdanavelquot.classlist.removeactive document.getelementbyidquotranavelquot.classlist.addactive document.getelementbyidquotdanavquot.classlist.removeactive document.getelementbyidquotranavquot.classlist.addactive if mysubstring quotranavquot ampamp direction quotccwquot document.getelementbyidquotdascreenquot.classlist.addactive document.getelementbyidquotrascreenquot.classlist.removeactive document.getelementbyidquotdanavelquot.classlist.addactive document.getelementbyidquotranavelquot.classlist.removeactive document.getelementbyidquotdanavquot.classlist.addactive document.getelementbyidquotranavquot.classlist.removeactive laststate readstate myfunction ltscriptgt page normally functioning estimated 24 minutes, after this time switching between tabs doesnt happen, as if the function is blocked or freeze. all other dynamic elements on page, continue to work. and page not reloading after pressing refresh or f5 the same if i try to open new tab and enter the page adress. page not loaded until the tab with the nonworking function is closed. update 24.02.2025 i rewrite switchig tab algorithm to ltscriptgt async function fetchdata let response await fetchquotphpencoder.phpquot let text await response.text return new promiseresolve gt settimeout gt resolvetext, 10 async function myfunction while true const data await fetchdata var r data.substr0, 5 var d data.substr6,2 if typeof l undefined l quotquot if l ! r ampamp l ! quotquot var i numberdata.substr6, 2 numberdocument.getelementsbyclassnamequotactivequot0.innerhtml.substr10, 1 div.removeclassactive idquot i quot.addclassactive if i 2 showmap l r myfunction ltscriptgt but it not have effect, page still not working after few minutes.",,2,javascript;loops;asynchronous;raspberry-pi;sensors,2025-02-23
79452525,logging variables in codesys using caafile or similar,"what im after is logging variables, to a text file or csv, continuously, while my task main prg and some subfbs is running, hopefully in a way which doesnt degrade the task performance. so feel free to suggest a different method entirely, or to troubleshoot the below. ive looked into oscat network but i couldnt get the libraries to load correctly and more recent codesys forge posts suggest caa file is the more uptodate, and generic, method for logging. i also tried cmplog but it was very slow and didnt create an external file. what im currently testing in codesys v3.5 sp20. target device is codesyscontrolforraspberrypimcsl, version 4.11.0.0. testing in simulation mode from a windows pc, but the instance will eventually run on a raspberry pi. using caa file version 3.5.19.0. single task, priority 1, cyclic 4 ms. runs a single prg. the codesys project is saved under cusersdocuments to avoid any weirdness with long file names. the prg is a modified for correct function calls version of caas default example program plcprg var xfilestdinit boolfalse uifilestdstate uint0 sfilename file.caa.filename testfile.txt hfile file.caa.handle sfileteststring stringhello caa library user sfilestring string szfilesize1 file.caa.size 0 szfilesize2 file.caa.size 0 filop file.open filwr file.write filrd file.read filcl file.close endvar if not xfilestdinit then filopxexecutefalse filclxexecutefalse filwrxexecutefalse filrdxexecutefalse xfilestdinittrue uifilestdstate0 else case uifilestdstate of 0 create a new file filop.sfilenamesfilename filop.efilemodefile.mode.mrdwr filop.xexclusivetrue filop xexecutetrue if filop.xdone then hfilefilop.hfile uifilestdstate1 endif if filop.xerror then error handling endif 1 write text in the file filwr.hfilehfile filwr.pbufferadrsfileteststring szfilesize1sizeofsfileteststring filwr.szsizeszfilesize1 filwr.uditimeout100000 100ms timeout filwr xexecutetrue if filwr.xdone then uifilestdstate2 endif if filwr.xerror then error handling endif 2 read file testfile.txt filrd.hfilehfile filrd.uditimeout100000 100ms timeout filrd.pbufferadrsfilestring filrd.szbuffer255 filrd xexecutetrue if filrd.xdone then szfilesize2filrd.szsize if szfilesize2 szfilesize1 then uifilestdstate3 else error handling endif endif if filrd.xerror then error handling endif 3 close file testfile.txt filcl.hfilehfile filcl xexecutetrue if filcl.xdone then uifilestdstate4 endif if filcl.xerror then error handling endif 4 end of example endcase endif when i run the above in simulation mode, uifilestdstate begins at 0 and filop xexecute is true but filop.xdone is always false. it looks like filop.eerror asmcreatejobfailed but i cant figure out why. i tried an absolute location instead of a relative one but that didnt solve the issue.",codesys inbuilt logger can be used with following settings. in codesyscontroluser.cfg cmplog logger.0.nameplc.log gt generic logs of the components logger.1.namelogger.log gt user defined logs in codesyscontrol.cfg cmplog logger.0.filter0x0000000f logger.0.enable1 logger.0.maxentries100000 logger.0.maxfilesize10000000 logger.0.maxfiles1 logger.0.backend.0.classid0x00000104 logger.0.type0x314 logger.1.filter0xffffffff logger.1.enable1 logger.1.maxentries100000 logger.1.maxfilesize10000000 logger.1.maxfiles1 logger.1.backend.0.classid0x00000104 logger.1.type0x314,0,logging;raspberry-pi;codesys,2025-02-19
79437929,"working with nodegyp and c, is there a way to make a dependency on a particular library optional?","automatically optional too, simply by testing for the presence of the library, avoiding making the user pass arguments or define environment variables or the like. im working on making a raspberry pi project of mine, a project that depends on gpio, compatible with the raspberry pi 5. the raspberry pi 5, in general, has caused a lot of grief due to a new gpio chipset. having reached the point where id solved all of my own gpio issues, i had left to handle one library of someone elses in need of upgrade. i could, of course, just take my own fork of their project and go my own merry way now that i have working code, but id like to offer what ive done as a pull request. theres one thing now that could be a sticking point, however, which id like to avoid if possible. ive introduced a new dependency on the libgpiod library. im pretty sure the original author wouldnt want to deal with that. id like for this new code to compile on a raspberry pi 3 or 4 without libgpiod having been installed, but take full advantage of libgpiod if present. heres my binding.gyp file quottargetsquot quotvariablesquot quotdhtverbosequot quotfalsequot , quottargetnamequot quotnodedhtsensorquot, quotsourcesquot quotsrcbcm2835bcm2835.cquot, quotsrcnodedhtsensor.cppquot, quotsrcdhtsensor.cppquot, quotsrcutil.cppquot, quotsrcabstractgpio.cppquot, lt my code to handle gpio using either bcm2835 or libgpiod , quotincludedirsquot quotlt!node p quotrequirenodeaddonapi.includequotquot , quotdependenciesquot quotlt!node p quotrequirenodeaddonapi.gypquotquot , libraries lgpiod lt new dependency , quotdefinesquot napidisablecppexceptions , quotconditionsquot quotdhtverbosetruequot, quotdefinesquot quotverbosequot heres the start of my abstractgpio.cpp include quotabstractgpio.hquot include ltalgorithmgt include quotbcm2835bcm2835.hquot include ltfstreamgt include ltgpiod.hgt lt what to do here to make this optional? can nodegyp include ltregexgt conditionally create a symbol for ifndefing here? include ltstdio.hgt include ltstringgt my c skills are rusty at best. until now i hadnt touched my own c code for five years, and five years ago i hadnt touched c for well over a decade. nodegyp? ive merely followed examples and simple recipes at this point. the big trick is that consumers of this library will use this library via npm install nodedhtsensor. i dont want the user to have to worry about libgpiod unless theyre using a raspberry pi and have a good reason to install it. is there some combination of nodegyp options and perhaps, if needed, dummy libgpiod c stubs that wont interfere with the real libgpiod if present that can solve this problem for me? update heres a somewhat, but not fully satisfactory solution, which requires a user to install the module like this npm install nodedhtsensor uselibgpiodtrue ...if they need or want... this does work on a rpi 4 too to use libgpiod, allowing the standard installation without the extra parameter to impose no new library dependencies. quottargetsquot quotvariablesquot quotdhtverbosequot quotfalsequot, quotuselibgpiodquot quotfalsequot , quottargetnamequot quotnodedhtsensorquot, quotsourcesquot quotsrcbcm2835bcm2835.cquot, quotsrcnodedhtsensor.cppquot, quotsrcdhtsensor.cppquot, quotsrcutil.cppquot, quotsrcabstractgpio.cppquot, , quotincludedirsquot quotlt!node p quotrequirenodeaddonapi.includequotquot , quotdependenciesquot quotlt!node p quotrequirenodeaddonapi.gypquotquot , quotdefinesquot napidisablecppexceptions , quotconditionsquot quotdhtverbosetruequot, quotdefinesquot quotverbosequot , quotuselibgpiodtruequot, quotdefinesquot quotuselibgpiodquot , libraries lgpiod what id really like to do, however, if its at all possible, is to replace quotuselibgpiodtruequot with something automatic, the moral equivalent of quotavailablelibgpiodquot or quotexistsusrincludegpiod.hquot, in case any such nodegyp capability exists which simply cant be easily found in the documentation.",,0,c++;raspberry-pi;gpio;node-gyp;libgpiod,2025-02-13
79436899,trouble shooting when using picam2.capturearray to take picture and put them into ram,"i am using my raspberry pi to try to complete the task, which is taking a picture in, then use the function getangle to find the angle of reference of the blue dots in the picture. then, turing the survo motor to aim the angle. however when i run my program i got this error homerickydesktopmodule module6.py238 runtimewarning this channel is already gtin use, continuing anyway. use gpio.setwarningsfalse to disable warnings. gpio.setuppwmpin, gpio.out create pwm instance for pin w freqency 00740.899633954 2414 info camera cameramanager.cpp327 libcamera v0.4.05083cb8101 00740.926652928 2435 warn rpisdn sdn.cpp40 using legacy sdn tuning please consider moving sdn inside rpi.denoise 00740.929008930 2435 info rpi vc4.cpp447 registered camera basesoci2c0muxi2c1ov564736 to unicam device devmedia2 and isp device devmedia0 00740.929134722 2435 info rpi pipelinebase.cpp1121 using configuration file usrsharelibcamerapipelinerpivc4rpiapps.yaml i modified my code to be this from picamera2 import picamera2 import cv2 import numpy as np import time import math import argparse import rpi.gpio as gpio gpio.setmodegpio.board pwmpin 32 define pin, frequency and duty cycle freq 50 dutycycle 7.5 90 degrees at first values 0 100 represents 4, 27 deg gpio.setuppwmpin, gpio.out create pwm instance for pin w freqency pwm gpio.pwmpwmpin, freq picam2 picamera2 parserargparse.argumentparserdescriptionquotlower and upper bound for tryingquot parser.addargumenttim,default10,helpquotlength of time to runquot parser.addargumentdelay,default0.5,helpquottime between image capturesquot parser.addargumentdebug,actionstoretrue,defaultfalse,helpquotdebug modequot argsparser.parseargs def getdutydirection duty118direction 2.5 return duty def getangleimg,debug hsv cv2.cvtcolorimg, cv2.colorbgr2hsv mask cv2.inrangehsv, 90, 20, 130, 110, 255, 255 cv2.imwritemasked.jpg, mask m cv2.momentsmask cx intmquotm10quot mquotm00quot cy intmquotm01quot mquotm00quot if mm000 angle360 printno center of mass found else img2img.copy img2 cv2.circleimg2, cx,cy, 5, 0,0,255, 2 red circle placed on the center of mass cv2.imwritecenterofmass.jpg, img2 angle180math.pimath.atancx0.5img.shape1img.shape0cy calculate angle of reference printfangle in degree angle0.2f if debug true printfcenter of masscx,cy cv2.imshowquotmaskedquot,mask cv2.imshowquotcenterofmassquot,img2 cv2.waitkey1000 cv2.destroyallwindows return angle starttimetime.time nowtimetime.time while nowtimestarttimeltargs.tim imgram picam2.capturearrayquotmainquot take picture into memory cv2.imshowquotpicturequot,imgram cv2.waitkey1000 cv2.destroyallwindows debugargs.debug imgtest cv2.imreadquotbluetape.jpgquot anglegetangleimgram,debug call function if 91 ltanglelt 91 realangle angle90 real angle from horizontal dutycyclegetdutyrealangle pwm.changedutycycledutycycle if debug true printfpwmdutycycle else pass nowtimetime.time time.sleepargs.delay you can see how i add a quotimshowquot in the while loop and a quotprintno center of mass foundquot in the function getangle. i would expect the picture to show up for a second and the screen printing the message of quotno center of mass foundquot cause i just take a picture of the walls and there are no blue dots in the picture. strange enough, it does not print out anything, and no pictures shows up. also, it does not automatically end for after 10s.","resolved, forget to put picam2.start. it should be placed in at the start of the while loop.",0,python;raspberry-pi;picamera,2025-02-13
79435669,bluetooth bluez pairing agent working fine in python but not using dotnet and tmds.dbus,"using a raspberry pi zero 2w, with ubuntu bookworm lite, i have 2 programs, one in python and one in c. they both do the same thing i switch between one and the other for testing implement an agent for bluez and register itself through dbus and handle the pairing functions. the python version properly receives the requestconfirmation call and display the passkey. when the c version is running, there is a dbus error stating that method quotrequestconfirmationquot with signature quotouquot on interface quotorg.bluez.agent1quot doesnt exist. versions debian gnulinux 12 bookworm kernel linux 6.6.51rptrpiv8 arm64 dotnet 9 with tmds.dbus v0.21.2 built on windows for target linux 64 python 3.11.2 bluez 5.66 note both apps are started with sudo to get access to the system dbus here are the 2 implementations the python version !usrbinenv python3 import dbus import dbus.exceptions import dbus.mainloop.glib import dbus.service from gi.repository import glib agentpath quotcomkevinisabellegamepadagentquot class agentdbus.service.object agentinterface quotorg.bluez.agent1quot def initself, bus, pathagentpath dbus.service.object.initself, bus, path dbus.service.methodagentinterface, insignaturequotquot, outsignaturequotquot def releaseself printquotagent releasedquot dbus.service.methodagentinterface, insignaturequotoquot, outsignaturequotuquot def requestpasskeyself, device not used in justworks return a dummy passkey. printquotrequestpasskey for devicequot, device return dbus.uint320 dbus.service.methodagentinterface, insignaturequotouquot, outsignaturequotquot def displaypasskeyself, device, passkey no display needed for justworks. printquotdisplaypasskey for devicequot, device, passkey dbus.service.methodagentinterface, insignaturequotouquot, outsignaturequotquot def requestconfirmationself, device, passkey printquotautoconfirming pairing for devicequot, device, quotwith passkeyquot, passkey simply return without raising an exception. return dbus.service.methodagentinterface, insignaturequotoquot, outsignaturequotsquot def requestpincodeself, device return a dummy pin if requested. printquotrequestpincode for devicequot, device return quot0000quot dbus.service.methodagentinterface, insignaturequotoquot, outsignaturequotquot def requestauthorizationself, device autoauthorize pairing. printquotrequestauthorization for devicequot, device return add the missing method dbus.service.methodagentinterface, insignaturequotosquot, outsignaturequotquot def authorizeserviceself, device, uuid printquotauthorizeservice called for device and service uuid quot.formatdevice, uuid autoauthorize the service request. return def registeragentbus, capabilityquotkeyboarddisplayquot try manager dbus.interface bus.getobjectquotorg.bluezquot, quotorgbluezquot, quotorg.bluez.agentmanager1quot manager.registeragentagentpath, capability manager.requestdefaultagentagentpath printquotagent registered as default with capabilityquot.formatcapability except exception as e printquotfailed to register agentquot, e def main printquotstarting pairing agent...quot dbus.mainloop.glib.dbusgmainloopsetasdefaulttrue bus dbus.systembus register our displayyesno pairing agent agent agentbus registeragentbus, quotkeyboarddisplayquot enable adapter pairing and discovery if not already enabled try adapter bus.getobjectquotorg.bluezquot, quotorgbluezhci0quot propsiface dbus.interfaceadapter, quotorg.freedesktop.dbus.propertiesquot propsiface.setquotorg.bluez.adapter1quot, quotpoweredquot, dbus.booleantrue propsiface.setquotorg.bluez.adapter1quot, quotdiscoverablequot, dbus.booleantrue propsiface.setquotorg.bluez.adapter1quot, quotpairablequot, dbus.booleantrue try propsiface.setquotorg.bluez.adapter1quot, quotminconnectionintervalquot, dbus.uint166 7.5ms propsiface.setquotorg.bluez.adapter1quot, quotmaxconnectionintervalquot, dbus.uint1616 20ms propsiface.setquotorg.bluez.adapter1quot, quotconnectionlatencyquot, dbus.uint160 propsiface.setquotorg.bluez.adapter1quot, quotsupervisiontimeoutquot, dbus.uint16500 5s except exception as e printquotwarning could not set connection parametersquot, e printquotadapter set to powered, discoverable, and pairablequot except exception as e printquoterror setting adapter propertiesquot, e loop glib.mainloop printquotrunning main loopquot loop.run if name quotmainquot main the c version using tmds.dbus namespace agentonly define the dbus interfaces dbusinterfacequotorg.bluez.agent1quot public interface iagent1 idbusobject called when the agent is unregistered. task releaseasync called to request a numeric passkey for pairing. returns a uint between 0 and 999999. taskltuintgt requestpasskeyasyncobjectpath device called to display a passkey expects a uint passkey. task displaypasskeyasyncobjectpath device, uint passkey called to request confirmation of a passkey. here, we expect the passkey to be passed as a string, matching the python quotosquot signature. task requestconfirmationasyncobjectpath device, uint passkey called to request a pin code returns a string pin. taskltstringgt requestpincodeasyncobjectpath device called to request authorization for pairing. task requestauthorizationasyncobjectpath device called to authorize a service request takes a device and a service uuid. task authorizeserviceasyncobjectpath device, string uuid task cancelasync for agent registration dbusinterfacequotorg.bluez.agentmanager1quot public interface iagentmanager1 idbusobject task registeragentasyncobjectpath agentpath, string capability task requestdefaultagentasyncobjectpath agentpath dbusinterfacequotorg.bluez.adapter1quot public interface iadapter1 idbusobject task setasyncstring propertyname, object value implement the service classes agent for pairing dbusinterfacequotorg.bluez.agent1quot public class agent1 iagent1 public objectpath objectpath get public agent1objectpath path objectpath path public task releaseasync console.writelinequotagent releasedquot return task.completedtask public taskltstringgt requestpincodeasyncobjectpath device console.writelinequotrequesting pin code for device quot device return task.fromresultquot0000quot public task displaypincodeasyncobjectpath device, string pincode console.writelinequotdisplaying pin code for device quot device quot pin quot pincode return task.completedtask public taskltuintgt requestpasskeyasyncobjectpath device console.writelinequotrequesting passkey for device quot device return task.fromresultuint123456 public task displaypasskeyasyncobjectpath device, uint passkey console.writelinequotdisplaying passkey for device quot device quot passkey quot passkey return task.completedtask public task requestconfirmationasyncobjectpath device, uint passkey console.writelinequotrequesting confirmation for device quot device quot passkey quot passkey return task.completedtask public task requestauthorizationasyncobjectpath device console.writelinequotrequesting authorization for device quot device return task.completedtask public task authorizeserviceasyncobjectpath device, string uuid console.writelinequotauthorizing service for device quot device quot uuid quot uuid return task.completedtask public task cancelasync console.writelinequotagent request cancelledquot return task.completedtask main program and registration helpers public class program static async task mainstring args console.writelinequotstarting bluez agent...quot var connection new connectionaddress.system await connection.connectasync var agent new agent1new objectpathquotcomkevinisabelleagentquot var capability quotkeyboarddisplayquot await connection.registerobjectasyncagent if args.length gt 0 ampamp args0 quotregisterquot var agentmanager connection.createproxyltiagentmanager1gtquotorg.bluezquot, new objectpathquotorgbluezquot await agentmanager.registeragentasyncagent.objectpath, capability console.writelinequotagent registered with capability quot capability await task.delay1000 await agentmanager.requestdefaultagentasyncagent.objectpath console.writelinequotagent registered as default with capability capabilityquot try var adapterprops connection.createproxyltiadapter1gtquotorg.bluezquot, new objectpathquotorgbluezhci0quot await adapterprops.setasyncquotpoweredquot, true await adapterprops.setasyncquotdiscoverablequot, true await adapterprops.setasyncquotpairablequot, true console.writelinequotadapter set to powered, discoverable, and pairablequot catch exception ex console.writelinequoterror setting adapter properties quot ex.message throw run forever await task.delay1 things i have already checked various types for the uint passkey tried with int, string, ushort, but uint is what is specified in the doc and the error also tells me the proper signature is quotouquot objectpath, uint32 tried creating a simple dbus receiver and sender in c to confirm that i can in fact receive calls in my c dbus code. this works fine. confirmed the agent is properly registered as the default agent looking at dbus messages. tried to introspect the agent using dbusintrospect but it seems this interface is not available outside of bluez because i get the same quotno resultquot whether i use the python agent or the c agent. always the same, the python one is ok, but the c one gets a complain from dbus that the method doesnt exists. here is my dbus logs for the particular error cal 1.25990gt1.273 comkevinisabelleagent org.bluez.agent1.requestconfirmation ou orgbluezhci0devb0a460e78852 262106 err 1.2738gt1.25990 org.freedesktop.dbus.error.unknownmethod s method quotrequestconfirmationquot with signature quotouquot on interface quotorg.bluez.agent1quot doesnt exist and also here is the log when my agent starts and gets registered to bluez sig org.freedesktop.dbus4gt1.277 orgfreedesktopdbus org.freedesktop.dbus.namelost s 1.277 cal 1.2781gtorg.freedesktop.dbus orgfreedesktopdbus org.freedesktop.dbus.hello ret org.freedesktop.dbus1gt1.2781 s 1.278 sig org.freedesktop.dbus511gt orgfreedesktopdbus org.freedesktop.dbus.nameownerchanged sss 1.278 1.278 sig org.freedesktop.dbus2gt1.278 orgfreedesktopdbus org.freedesktop.dbus.nameacquired s 1.278 cal 1.2782gtorg.bluez orgbluez org.bluez.agentmanager1.registeragent os comkevinisabelleagent keyboarddisplay cal 1.25993gtorg.freedesktop.dbus orgfreedesktopdbus org.freedesktop.dbus.addmatch s typesignal,senderorg.freedesktop.dbus,pathorgfreedesktopdbus,interfaceorg.freedesktop.dbus,membernameownerchanged,arg01.278 ret org.freedesktop.dbus28gt1.25993 ret 1.25994gt1.2782 sig 1.25995gt orgbluezhci0 org.freedesktop.dbus.properties.propertieschanged sasvas org.bluez.adapter1 pairable true cal 1.2783gtorg.bluez orgbluez org.bluez.agentmanager1.requestdefaultagent o comkevinisabelleagent ret 1.25996gt1.2783 cal 1.2784gtorg.bluez orgbluezhci0 org.freedesktop.dbus.properties.set ssv org.bluez.adapter1 powered true ret 1.25997gt1.2784 cal 1.2785gtorg.bluez orgbluezhci0 org.freedesktop.dbus.properties.set ssv org.bluez.adapter1 discoverable true ret 1.25998gt1.2785 cal 1.2786gtorg.bluez orgbluezhci0 org.freedesktop.dbus.properties.set ssv org.bluez.adapter1 pairable true sig 1.25999gt orgbluezhci0 org.freedesktop.dbus.properties.propertieschanged sasvas org.bluez.adapter1 discoverable true ret 1.259100gt1.2786 small testing program small program to validate the send and receive c features. i start the server in one console, then the client on another. dbus and logs confims all communication is working fine cal 1.382gtorg.example.helloservice comkevinisabellehello com.kevinisabelle.hello.sayhello ou orgbluezhci0devb0a460e78852 123456 ret 1.373gt1.382 s hello, orgbluezhci0devb0a460e78852! with passkey 123456 source code using tmds.dbus dbusinterfacequotcom.kevinisabelle.helloquot public interface ihello idbusobject taskltstringgt sayhelloasyncobjectpath name, uint passkey public class helloservice ihello set the object path where this service is available. public objectpath objectpath get new objectpathquotcomkevinisabellehelloquot public taskltstringgt sayhelloasyncobjectpath name, uint passkey console.writelinequothello called with name quot name quot passkey quot passkey return task.fromresultquothello, name! with passkey passkeyquot public class program public static async task mainstring args var isserver args.length gt 0 ampamp args0 quotserverquot if isserver await makeserver else await makeclient private static async task makeserver connect to the session bus. var connection new connectionaddress.system await connection.connectasync create and register the service object. var helloservice new helloservice await connection.registerobjectasynchelloservice var agent new testagent await connection.registerobjectasyncagent request a wellknown bus name. var servicename quotorg.example.helloservicequot await connection.registerserviceasyncservicename console.writelinequotservice is running. press ctrlc to exit.quot await task.delay1 keep the service alive. private static async task makeclient connect to the session bus. var connection new connectionaddress.system await connection.connectasync create a proxy to the service object. var hello connection.createproxyltihellogtquotorg.example.helloservicequot, new objectpathquotcomkevinisabellehelloquot call the remote method. var response await hello.sayhelloasyncnew objectpathquotorgbluezhci0devb0a460e78852quot, 123456 console.writelinequotsay hello called quot response","according to multiple research, it seems bluez is very flimsy with anything other than pythondbus. the same problem i got from using tmds.dbus on c was present when using pythons dbusnext. using pythondbus works flawlessly. if someone is an expert on bluezs internal, id be glad to know what makes it less collaborative with other dbus clients. i checked the bluez source code, but couldnt find anything that might cause these problems.",0,c#;raspberry-pi;bluetooth-lowenergy;dbus;bluez,2025-02-13
79434750,cloudinit per device configuration,"i have a question about using cloud init for per device configurations. i am wanting to use this with a fleet of raspberry pi cm5s. right now i can download a distro for the raspberrypi e.g., ubuntu24.04.1preinstalledserverarm64raspi.img and i can mount that image on my mac and edits the userdata file in the systemboot volume. i can then flash that changed image to a cm5 and i am off and running. but if i need to make a change that is unique to each cm5, i need to open the userdata file, make my changes, and the flash that new version. rinse and repeat for each cm5. now, if you are doing this for a few cm5s, something like 110, that is doable. but i have a much larger need. i know i can setup a source so that it will pull the userdata configuration file from an http server. but what i do not know how to do is to hand out specific changes per cm5. is there a way to use some sort of token to say, the config file x goes to cm5.1 and config file y goes to cm5.2. or is this not possible?",,0,ubuntu;raspberry-pi;cloud;cloud-init;flashing,2025-02-13
79432838,"numpy 2.0.2 installation fails on raspberry pi 4b running osmc, python 3.9.2","im trying to install numpy 2.0.2 on a raspberry pi 4b running osmc and python 3.9.2. pip tries to compile numpy locally, and fails. i cant get past this error, and i also failed upgrading python hoping a newer python and numpy will circumvent the issue. any suggestions? error message runtime dependency python found no tried pkgconfig, pkgconfig and sysconfig ..meson.build4112 error python dependency not found full log in pastebin the installation folder thats supposed to contain the meson build log tmppipinstallph6xune8 doesnt exist cd tmppipinstallph6xune8 bash cd tmppipinstallph6xune8 no such file or directory setup details hw raspberry pi 4 model b rev 1.4 os prettynamequotopen source media centerquot namequotosmcquot versionquotoctober 2024quot versionidquot2024.101quot python python 3.9.2 pip 25.0.1 running in a virtual environment things i tried updating tools pip, setuptools, wheel updating compilers and dependencies cc, gcc, softwarepropertiescommon, buildessential, pkgconfig upgrading python so i get a newer version of numpy failed... apt doesnt accept deadsnakes repo due to security issues, building from source also failed",,1,python;numpy;raspberry-pi,2025-02-12
79424763,docker error quotexec usrbinmake exec format errorquot when building for host linuxamd64 on different platform when specifying host platform,"i am struggling to get a repo compiling with docker. i have not made any changes to the source code yet and am just trying to build the master. but i am struggling to build it according to instructions in the repository nickelmenu according to instructions the source code is to be compiled with docker with docker run volumequotpwdpwdquot userquotid userid groupquot workdirquotpwdquot envhome entrypointmake rm it ghcr.iopgaskinnickeltc1.0 all koboroot first i am getting a warning and error saying warning the requested images platform linuxamd64 does not match the detected host platform linuxarm64v8 and no specific platform was requested exec usrbinmake exec format error so i have searched around and found that i need to specify the platform if having different platform architecture on the host. i am trying to run this on a raspi linuxarm64v8 ? but the host is linuxamd64 for image ghcr.iopgaskinnickeltc1.0. so i have tried sudo dockerdefaultplatformquotlinuxamd64quot docker run volumequotpwdpwdquot userquotid userid groupquot workdirquotpwdquot envhome entrypointmake rm it ghcr.iopgaskinnickeltc1.0 all koboroot the warning is now removed but i still get the error exec usrbinmake exec format error i would appreciate if anyone could give me some directions since i am out of ideas. i am using docker version 27.5.1, build 9f9e405 thank you!","the issue is that your hardware where you run docker is based on arm, while the docker image that youre using is based on amd64 aka quotintelquot, aka quotx8664quot. you will have to build your own image, which is explained here, but also note that quotthis crosstoolchain has only been tested on x8664quot.",0,docker;raspberry-pi,2025-02-09
79424582,how to set keyframe interval rpi camera with gstreamer,"we are getting h264 video from rpi camera, but could not set keyframe interval. is there a way? this is our command libcameravid t 0 inline bitrate 2000000 width 1920 height 1080 framerate 30 profile baseline o camera 0 gstlaunch1.0 v fdsrc ! h264parse ! avdech264 ! videoconvert ! textoverlay textquotcamquot halignmentleft valignmentbottom fontdescquotsans, 16quot ! clockoverlay halignmentright valignmenttop fontdescquotsans, 16quot timeformatquotymd hmsquot ! videoconvert ! x264enc bitrate2000 speedpresetultrafast tunezerolatency ! rtph264pay configinterval1 pt96 ! udpsink host127.0.0.1 port5000",you would use keyintmax property of x264enc such as ... ! x264enc keyintmax30 ... for having at least a key frame each 30 frames.,0,raspberry-pi;gstreamer;h.264;libcamera,2025-02-09
79424222,connecting to ios with bluez only gets the gatt profiles if ios is the one initiating the connection,"im on bluez 5.66 using a raspberry pi w an external bluetooth adapter. ive paired my iphone to the pi and the connection is all good. after disconnecting, ifi connect from my iphone to the pi, and watch using bluetoothctl, all the proper gatt services come in like 7905f431b5ce4e99a40f4b1e122d00d0 for ancs. however when reconnecting from the pi using bluetoothctl, the gatt services dont come in. the log doesnt show any errors, i just get no gatt services. has anyone faced this?",,0,iphone;raspberry-pi;bluetooth-lowenergy;bluez;gatt,2025-02-09
79422591,quotimporterror the requests library is not installed from please install the requests package to use the requests transport.quot but it should,"as a personal project, im trying to set up google home on a raspberry pi. fresh install of the most recent 64 bit raspberry pi os, following the instructions at stuck on step 7. when i run this command replacing the json placeholder env googleoauthlibtool clientsecrets quotjsonfilepathquot scope save headless i get this error full traceback below importerror the requests library is not installed from please install the requests package to use the requests transport. i run quotpip install requests breaksystempackagesquot the switches are my attempt to overcome another error about an quotexternallymanagedenvironmentquot, but it tells me that all the requirements are already met. this is true whether or not im in the env environment. full traceback traceback most recent call last file quothomexxxenvlibpython3.11sitepackagesgoogleauthtransportrequests.pyquot, line 26, in ltmodulegt import xxx file quothomexxxenvlibpython3.11sitepackagesrequestsinit.pyquot, line 43, in ltmodulegt import urllib3 file quothomexxxenvlibpython3.11sitepackagesurllib3init.pyquot, line 8, in ltmodulegt from .connectionpool import file quothomexxxenvlibpython3.11sitepackagesurllib3connectionpool.pyquot, line 29, in ltmodulegt from .connection import file quothomexxxenvlibpython3.11sitepackagesurllib3connection.pyquot, line 39, in ltmodulegt from .util.ssl import file quothomexxxenvlibpython3.11sitepackagesurllib3utilinit.pyquot, line 3, in ltmodulegt from .connection import isconnectiondropped file quothomexxxenvlibpython3.11sitepackagesurllib3utilconnection.pyquot, line 3, in ltmodulegt from .wait import waitforread file quothomexxxenvlibpython3.11sitepackagesurllib3utilwait.pyquot, line 1, in ltmodulegt from .selectors import file quothomexxxenvlibpython3.11sitepackagesurllib3utilselectors.pyquot, line 14, in ltmodulegt from collections import namedtuple, mapping importerror cannot import name mapping from collections usrlibpython3.11collectionsinit.py the above exception was the direct cause of the following exception traceback most recent call last file quothomexxxenvbingoogleoauthlibtoolquot, line 5, in ltmodulegt from googleauthoauthlib.tool.main import main file quothomexxxenvlibpython3.11sitepackagesgoogleauthoauthlibinit.pyquot, line 21, in ltmodulegt from .interactive import getusercredentials file quothomexxxenvlibpython3.11sitepackagesgoogleauthoauthlibinteractive.pyquot, line 27, in ltmodulegt import googleauthoauthlib.flow file quothomexxxenvlibpython3.11sitepackagesgoogleauthoauthlibflow.pyquot, line 65, in ltmodulegt import google.auth.transport.requests file quothomexxxenvlibpython3.11sitepackagesgoogleauthtransportrequests.pyquot, line 28, in ltmodulegt raise importerror importerror the requests library is not installed from please install the requests package to use the requests transport. tried to run env googleoauthlibtool clientsecrets quotjsonfilepathquot scope save headless expected to see please go to this url enter the authorization code",your real error is quotimporterror cannot import name mapping from collectionsquot. the error means that you use code intended for python up to 3.9 but not for 3.10 as in 3.10 mapping was moved to subpackage collections.abc. the bottom line is use python 3.9.,0,python-3.x;linux;pip;command-line;raspberry-pi,2025-02-08
79421436,visual studio code freezes after executing program in python,"i have been working with vs code in raspdebian to program in python with no issues since last year. however, today i have launched vs code again and when i execute the same program code i get the follwing message when this window appears, the program is still executing, however i am not able to play with the terminal, for example, to check the logs, which i need for debugging purposes. i am launching the program using the button quotrun python in dedicated terminalquot. i am using a virtual environment, of course. the only thing i have done today was updating raspdebian with latest updates. i have disabled pylance. also i have uninstall vs code and reinstalled it with no success. what could be wrong?. is there anyway i can check what the cause of this error is?.","i guess you are running this on raspberry pi 4 with 2gb right now? i did the same as you before, and it turned out that raspberry pi cannot handle quotheavy codequot. i also think some of the packages inside virtual environment are new and use more ram. i hope this helps. maybe writing a c version could potentially save more ram usage and result in more efficient code.",-1,python;linux;visual-studio-code;terminal;raspberry-pi,2025-02-07
79418131,what is proper code for nrf24lo1 data transmission between arduino and raspberry pi 4,"i have been trying to sent a hi message from my arduino uno to my raspberry pi4 .no matter what i do there will be some kind of error i will face each time , i tried different coding approaches .in some code the hi message will be sent but it wont be received by the raspberry pi. please provide the resources or then code . include ltspi.hgt include ltnrf24l01.hgt include ltrf24.hgt rf24 radio7, 8 const byte rxaddr6 quot00001quot void setup serial.begin9600 radio.begin if!radio.begin serial.printlnquothardware errorquot radio.setretries15, 15 radio.setchannel10 radio.openwritingpiperxaddr radio.stoplistening void loop const char text quothello worldquot bool x radio.writeamptext, sizeoftext ifx serial.printlnquotyesquot else serial.printlnquotnoquot delay1000 serial.printlnquotsent.quot to check whether the data is sent. this is my transmitter code and the output it is showing is hardware problem","if youre using the blavery library for the pi, adding self.spidev.maxspeedhz 4000000 below line 373 in the nrf24 library fixed this issue for me.",0,arduino;raspberry-pi;iot,2025-02-06
79414193,tlethon rpcerror 406 updateapptologin when try to run python script on raspberry pi 1 b,"import asyncio from telethon import telegramclient, events from telethon.errors import sessionpasswordneedederror import logging import json import requests import os from urllib.parse import unquote from pathlib import path logging.basicconfiglevellogging.info, formatasctimes names levelnames messages logger logging.getloggername class telegramdownloader def initself, apiid, apihash, phonenumber self.apiid apiid self.apihash apihash self.phonenumber phonenumber self.client telegramclientfsessionphonenumber, apiid, apihash self.downloadqueue asyncio.queue self.downloadpath quotmediapimrxdownloadquot self.isdownloading false async def connectself await self.client.start if not await self.client.isuserauthorized try await self.client.sendcoderequestself.phonenumber code inputenter the code await self.client.signinself.phonenumber, code except sessionpasswordneedederror password inputtwostep verification is enabled. please enter your password await self.client.signinpasswordpassword async def downloadfileself, url, event try filename unquoteurl.split1.split?0 filepath os.path.joinself.downloadpath, filename await event.respondfquot downloading filenamequot response requests.geturl, streamtrue totalsize intresponse.headers.getcontentlength, 0 with openfilepath, wb as f for chunk in response.itercontentchunksize8192 if chunk f.writechunk await event.respondfquot download completed filenamequot logger.infofquotdownloaded filenamequot except exception as e await event.respondfquot download failed filenamenerror strequot logger.errorfquoterror downloading filename strequot async def processdownloadqueueself while true url, event await self.downloadqueue.get self.isdownloading true await self.downloadfileurl, event self.isdownloading false self.downloadqueue.taskdone async def monitorchannelself, channelid await self.connect start download queue processor asyncio.createtaskself.processdownloadqueue self.client.onevents.newmessagechatschannelid async def handlerevent try message event.message.text if message and quotexample.comquot in message add download to queue await self.downloadqueue.putmessage, event if not self.isdownloading logger.infoquotdownload added to queuequot else await event.respondquot download queued will start after current download completesquot except exception as e logger.errorfquoterror processing message strequot logger.infofquotstarted monitoring channel channelid for download linksquot await self.client.rununtildisconnected def readcredentials try with openquotcredentials.jsonquot, quotrquot as file creds json.loadfile return credsquotapiidquot, credsquotapihashquot, credsquotphonenumberquot except filenotfounderror logger.errorquotcredentials file not found.quot return none, none, none def writecredentialsapiid, apihash, phonenumber creds quotapiidquot apiid, quotapihashquot apihash, quotphonenumberquot phonenumber with openquotcredentials.jsonquot, quotwquot as file json.dumpcreds, file, indent4 async def main apiid, apihash, phonenumber readcredentials if apiid is none or apihash is none or phonenumber is none apiid inputquotenter your api id quot apihash inputquotenter your api hash quot phonenumber inputquotenter your phone number quot writecredentialsapiid, apihash, phonenumber downloader telegramdownloaderapiid, apihash, phonenumber create download directory if it doesnt exist os.makedirsdownloader.downloadpath, existoktrue monitor the specific group groupid quot await downloader.monitorchannelgroupid if name quotmainquot asyncio.runmain when i run the above code on my raspberry pi1 b, bookworm os i got the following error. my telethon is latest one. i am using a sliest changed on on my oracle server and it is working fine for months. what should i do to fix this piraspberrypitelegramforwarder sudo python3 linkdownloader.py 20250204 230203,276 telethon.network.mtprotosender info connecting to 149.154.167.51443tcpfull... 20250204 230208,398 telethon.network.mtprotosender info connection to 149.154.167.51443tcpfull complete! please enter your phone or bot token 20250204 230321,912 telethon.client.users info phone migrated to 5 20250204 230322,181 telethon.client.telegrambaseclient info reconnecting to new data center 5 20250204 230322,494 telethon.network.mtprotosender info disconnecting from 149.154.167.51443tcpfull... 20250204 230322,508 telethon.network.mtprotosender info disconnection from 149.154.167.51443tcpfull complete! 20250204 230322,518 telethon.network.mtprotosender info connecting to 91.108.56.128443tcpfull... 20250204 230326,847 telethon.network.mtprotosender info connection to 91.108.56.128443tcpfull complete! traceback most recent call last file quothomepitelegramforwarderlinkdownloader.pyquot, line 125, in asyncio.runmain file quotusrlibpython3.11asynciorunners.pyquot, line 190, in run return runner.runmain file quotusrlibpython3.11asynciorunners.pyquot, line 118, in run return self.loop.rununtilcompletetask file quotusrlibpython3.11asynciobaseevents.pyquot, line 653, in rununtilcomplete return future.result file quothomepitelegramforwarderlinkdownloader.pyquot, line 122, in main await downloader.monitorchannelgroupid file quothomepitelegramforwarderlinkdownloader.pyquot, line 66, in monitorchannel await self.connect file quothomepitelegramforwarderlinkdownloader.pyquot, line 25, in connect await self.client.start file quotusrlibpython3distpackagestelethonclientauth.pyquot, line 190, in start await self.sendcoderequestphone, forcesmsforcesms file quotusrlibpython3distpackagestelethonclientauth.pyquot, line 519, in sendcoderequest result await selffunctions.auth.sendcoderequest file quotusrlibpython3distpackagestelethonclientusers.pyquot, line 30, in call return await self.callself.sender, request, orderedordered file quotusrlibpython3distpackagestelethonclientusers.pyquot, line 84, in call result await future telethon.errors.rpcbaseerrors.authkeyerror rpcerror 406 updateapptologin caused by sendcoderequest piraspberrypitelegramforwarder","you are not using the latest version. looking at the line numbers, youre using a layer below 152, which telegram deprecated to log into 7 months ago. check the installed version by code as import telethon printtelethon.version if it isnt 1.38.1, update it using the right pip for your python",0,python;authentication;raspberry-pi;telegram;telethon,2025-02-05
79412173,how do i synchronize two databases?,"i need to regularly synchronize two sqlite databases. one on a raspberry pi 4 running node.jsnestjs always on but without internet connection, another provided to the raspberry pi 4 via a usb drive from a dev system. i want to connect the usb drive to the raspberry pi, wait for a while and unplug it knowing it got synchronized. i will run a nestjs cron job checking for the usb drive using libusb. my problem is the synchronization. my ideas running a second nestjs instance which dynamically uses the database whenever it is on and then calls an internal synchronization restendpointcli tool on the raspberry pis main nestjs instance. making the nestjs instance access the second database and run synchronization logic on it. using some magic synchronize sqlite databases command line tool that i do not know.","with sqldiff you could plug in the usb drive and run sqldiff usbmydb.db primary.db gt changes.sql this produces an sql file that if ran on the database file on your usb drive should result in a replicated primary database file. sqlite3 usbmydb.db lt changes.sql should do the trick, but if you change the file on your usb drive it may not work reliably if there are conflicts.",0,sqlite;raspberry-pi;nestjs;synchronization,2025-02-04
79411677,unable to set line 4 to input dht22 in raspberry pi 5,"im creating a weather station using bmp180 and dht22, the bmp180 works. however, the dht22 gives me problems, mainly the quotunable to set line 4 to inputquot problem. at first i can run it once after reboot, but now i cant even run it anymore even if a reboot it, i even did a fresh start by formating my pi os. import adafruitdht as dht import bmp180 as bmp import board import signal import sys import time dhtsensor dht.dht22board.d4 bmpsensor bmp.bmp180board.i2c def exithandlesignal, frame dhtsensor.exit sys.exit0 def readsensor humid dhtsensor.humidity temp dhtsensor.temperature pressure bmpsensor.pressure if humid is not none and temp is not none printfquothumidity humid.2fquot printfquottemperature temp.2fcquot printfquotpressure pressure100.2fquot signal.signalsignal.sigint, exithandle signal.signalsignal.sigterm, exithandle if name quotmainquot try while true readsensor time.sleep10 except keyboardinterrupt pass finally dhtsensor.exit that is my code, i saw in other forums that it is a problem with the looping, that it doesnt properly deinitialize the gpio, however it doesnt work for me, because i cant even run it once for it to get to the deinitialization dhtsensor.exit. keyboard interrupt only works on ctrlc so i also wanted it to deinit on termination via thonny, so i tried the signal lib, which chatgpt helped me with, but it dont work. def exithandlesignal, frame dhtsensor.exit sys.exit0 signal.signalsignal.sigint, exithandle signal.signalsignal.sigterm, exithandle im still very new to this, and i dont know what to do at this point. ps everything is updated, all on latest versions maybe that could be the reason i tried killing libgpiod processes but it still did not work. i looked for alternative libraries however, the adafruitdht lib has no support for pi 5based on my extensive research maybe there is out there but i just cant find it. i also tried pydht2 but it has no documentation so i really dont know how to use it",,0,raspberry-pi;adafruit-circuitpython;raspberry-pi5,2025-02-04
79410633,"subprocess.run isn39t working when using systemctl with raspberry pi 4, but works when calling python script from terminal","im making a little photo booth thing where you can snap a photo of yourself using the pi and a screen i have setup. im using python and opencv and then using systemctl to have it run on startup. im then using wlrctl to move the mouse cursor so its hidden. everything works great when i call the .py file in the terminal, but when i run it using systemctl, the mouse cursor doesnt move everything else still works fine though. ive tried using shelltrue and different environment tags but cant figure it out. im quite new to raspberry pi and linux stuff so im pretty lost here. any help would be great! heres the part of my script with the subprocess def movepointer try subprocess.runquotusrlocalbinwlrctlquot, quotpointerquot, quotmovequot, quot1920quot, quot1080quot, checktrue, texttrue printquotpointer moved to 1920, 1080.quot except subprocess.calledprocesserror as e printfquoterror occurred equot printfquotstderr e.stderrquot printfquotstdout e.stdoutquot movepointer and heres the error i get when i restart the service feb 04 001029 sam python5145 error occurred command usrlocalbinwlrctl, pointer, move, 1920, 1080 died with ltsignals.sigabrt 6gt. feb 04 001029 sam python5145 stderr none feb 04 001029 sam python5145 stdout none and then heres my service file unit descriptionpibooth python script afternetwork.target service typesimple execstartusrbinpython homesknghdesktoppibooth.py restartonabort workingdirectoryhomesknghdesktop environmentquotxauthorityhomeskngh.xauthorityquot environmentquotdisplay0quot environmentquotpathusrbinquot userskngh install wantedbymultiuser.target",,0,python;raspberry-pi;subprocess;systemctl;wayland,2025-02-04
79401958,publishing .net core app on raspberry pi5,"i am this document to setup and deploy my first .net core application onto raspberry pi 5 model b 16gb model. i am using the dotnet publish runtime linuxarm64 selfcontained command to publish as per documentation. i was able to successfully deploy binaries on to pi device using scp r cdatalearningpidotnetcorepi5deploybinreleasenet9.0linuxarm64publish hemantbackyardhomehemantpidotnetcorepi5deploy however, when i tried to execute .dotnetcorepi5deploy.dll on pi device i was greeted with message bash .dotnetcorepi5deploy.dll cannot execute binary file exec format error pi os details cat etcosrelease prettynamequotdebian gnulinux 12 bookwormquot namequotdebian gnulinuxquot versionidquot12quot versionquot12 bookwormquot versioncodenamebookworm iddebian homeurlquot supporturlquot bugreporturlquot dotnet info .net sdk version 9.0.102 commit cb83cd4923 workload version 9.0.100manifests.43af17c7 msbuild version 17.12.18ed8c6aec5 runtime environment os name debian os version 12 os platform linux rid linuxarm64 base path homehemant.dotnetsdk9.0.102 .net workloads installed there are no installed workloads to display. configured to use loose manifests when installing new manifests. host version 9.0.1 architecture arm64 commit c8acea2262 .net sdks installed 9.0.102 homehemant.dotnetsdk .net runtimes installed microsoft.aspnetcore.app 9.0.1 homehemant.dotnetsharedmicrosoft.aspnetcore.app microsoft.netcore.app 9.0.1 homehemant.dotnetsharedmicrosoft.netcore.app other architectures found none environment variables dotnetroot homehemant.dotnet global.json file not found learn more download .net note i was able to createbuild and execute programs directly onto pi using .net core cli. dotnet new console dotnet build dotnet run i am facing this issue only when deploying binaries from my dev machine to pi. any pointers?","your command dotnet publish runtime linuxarm64 creates several files in the output directory, among them the main application dll dotnetcorepi5deploy.dll in your case and a binary stub loader to execute the library dotnetcorepi5deploy without extension. the later is the equivalent to the exe file that would be generated on windows by convention, executable files have no extension on linux. that stub loader is actually a patched version of the dotnet binary. to execute the program, you can thus run .dotnetcorepi5deploy or call dotnet dotnetcorepi5deploy.dll. both do exactly the same. note that when you copy the output folder from windows to the raspberry pi, you need to set the executable bit, so before running .dotnetcorepi5deploy call chmod x dotnetcorepi5deploy once. || i was able to run this using dotnet dotnetcorepi5deploy.dll command. not sure how create native executable for pi device.",2,.net-core;raspberry-pi;cross-platform;iot;azure-iot-edge,2025-01-31
79400505,raspberry pi wifi direct disconnecting after 30seconds,"so i am trying to connect my laptop to a raspberry pi zero w. sometimes it wont connect and when it does, i can ping to the raspberry pi for 30 seconds and then it disconnects. when running ipconfig all on my laptop i see that it got an ip otherwise i wouldnt be able to ping 192.168.66.1 etcwpasupplicantwpasupplicant.conf ctrlinterfacedirvarrunwpasupplicant groupnetdev updateconfig1 devicenamerccar devicetype10050f2041 p2pgointent15 etcdnsmasq.conf interfacep2pwlan00 dhcprange192.168.66.2,192.168.66.254,12h dhcpoption3,192.168.66.1 commands to start wifi direct sudo pkill wpasupplicant sudo wpasupplicant i wlan0 c etcwpasupplicantwpasupplicant.conf d nl80211 b sudo wpacli i wlan0 p2pgroupadd sudo wpacli i p2pwlan00 wpspin any 12345678 sudo ifconfig p2pwlan00 192.168.66.1",,0,raspberry-pi;wifi-direct;dnsmasq;wpa-supplicant,2025-01-30
79389129,running a flask app as systemd service does not open the browser app,"ive created an web app for a rasperry pi 3 which provides a simple input box for entering a url. the python flask app should then open the chromium browser by using a os.system command. when i run this in user mode bash it workes fine! but when i run it as service, the browser does not open at all and i do not see any error message. goal is, to open a url in the browser of the raspi in kiosk mode and the url is entered on a mobile phone or tablett. if there is a better way to reach my goal please let me know here is my python flask code from flask import flask, rendertemplate, request import os app flaskname app.route def index return rendertemplateindex.html app.routeopen, methodspost def openurl url request.form.geturl if url os.systemfquotchromiumbrowser kiosk url ampquot return fquotlth1gtopening url in fullscreen modelth1gtquot else return quotlth1gtno url providedlth1gtquot if name main app.runhost0.0.0.0, port5000 and here my service config descriptionflask web app service afternetwork.target service execstartpython3 webapp.py workingdirectoryhomescoreboard restartalways userscoreboard environmentquotflaskappwebapp.pyquot environmentquotpythonunbuffered1quot install wantedbymultiuser.target i tried several things already using root as user, playing around with the amp deamon nothing worked so far.","your problem is that system services have no concept of the current login session of the user and cannot trivially launch graphical desktop applications. however systemd also has the concept of user services. raspberry pi kiosk mode autologins the quotpiquot user on startup. so if the quotpiquot user has a user service that opens a chromium window, it should work as expected. there is already a perfect answer elsewhere on stack exchange on how to install a user service",1,python;flask;raspberry-pi,2025-01-26
79388967,uart data reception from happymodel ep1 elrs,"the topic of my work is to build a drone controlled by rpi 5 rc, using elrs crossfire. i have a problem reading data on gpio pins 14, 15, txrx. i am using a radiomaster pocket apparatus, it is bundled with a happymodel ep1 receiver, then connected to the rpi via uart. unfortunately whether using python or minicom to read data with baudrate 115200 or 420000 no data comes in. i have the interfaces in the rpi running, additional uarts also tested 2,3,4 too, bluetooth disabled. i tested the receiver on an arduino uno with the following result, i got some junk data, i think related to telemetry, but i know it is receiving something though, i then connected the arduino to the rpi and again silence. i believe the fault lies with the rpi uart port, however i would like to get anything to confirm that the port is working after all, do you have any ideas ? and result dekodowanie danych crsf kana 1 1792 kana means channel etc. kana 2 767 kana 3 1650 kana 4 939 kana 5 1792 kana 6 698 kana 7 991 kana 8 59 kana 9 687 kana 10 1193 kana 11 955 kana 12 406 kana 13 766 kana 14 2042 kana 15 939 kana 16 1792 dekodowanie zakoczone. przepenienie bufora! przepenienie bufora! przepenienie bufora! przepenienie bufora! przepenienie bufora! dekodowanie danych crsf kana 1 757 kana 2 1775 kana 3 862 kana 4 1376 kana 5 1978 kana 6 1774 kana 7 59 kana 8 763 kana 9 1775 kana 10 1630 kana 11 1536 kana 12 767 kana 13 1801 kana 14 859 kana 15 406 kana 16 767 dekodowanie zakoczone. define rxpin 2 define txpin 3 softwareserial receiverserialrxpin, txpin define buffersize 64 uint8t bufferbuffersize uint8t bufferindex 0 funkcja do wywietlania danych kanaw void parsecrsfuint8t data, uint8t length if length lt 22 serial.printlnquotpakiet za krtkiquot return serial.printlnquotdekodowanie danych crsfquot kanay s przesyane od 3. bajtu 0indexed uint16t channels16 for int i 0 i lt 16 i channelsi data3 i 2 data4 i 2 ltlt 8 amp 0x07ff serial.printquotkana quot serial.printi 1 serial.printquot quot serial.printlnchannelsi serial.printlnquotdekodowanie zakoczone.quot funkcja do odczytu i dekodowania danych uart void readcrsf while receiverserial.available gt 0 uint8t byteread receiverserial.read if bufferindex lt buffersize bufferbufferindex byteread if bufferindex gt 3 ampamp bufferindex buffer1 2 sprawdzamy crc na razie pomijamy szczegy parsecrsfbuffer, bufferindex bufferindex 0 reset bufora else serial.printlnquotprzepenienie bufora!quot bufferindex 0 void setup serial.begin115200 uart to pc receiverserial.begin115200 uart do receiver softwareserial serial.printlnquotdekoder crsf ready.quot void loop readcrsf",,0,python;raspberry-pi;uart;rc;dronekit,2025-01-26
79385232,how to directly access bcm2835 registers in c programming for gpio control on a raspberry pi running freebsd 14.2,"i am trying to control gpio pins of a raspberry pi 34 running freebsd, using direct access to the bcm2835 registers. my code is based on mike mccauleys c library. it works fine on linux raspberry pi os, hence debian bookworm, but i fail to get the same code working on freebsd latest freebsd 14.2 image for rpi 34 armv7. my c code builds fine on both oses, but on freebsd it the executable runs but does not actually control the gpio pins. here is a simple piece of code to show what im doing. for simplicity with hardcoded addresses for the raspberry pi 3 program to test direct access to bcm2835 registers to blink a led build as follows gcc wall o gpio gpio.c run as root include ltfcntl.hgt include ltsysmman.hgt include ltunistd.hgt include ltstdint.hgt gpio pin to which a led is connected define gpiopin 23 int main int memfd uint32t periphbase uint32t periphgpio uint32t gpiofunctionregister uint32t gpiofunctionregisterpinmask uint32t functionregistervalue volatile uint32t gpiosetlowerregister volatile uint32t gpioclearlowerregister uint32t gpiopinmask memfd openquotdevmemquot, ordwrosync if !memfd return 1 periphbase uint32t mmap null, any adddress in our space will do 0x01000000, map length on the raspberry pi 3 protreadprotwrite, enable reading amp writting to mapped memory mapshared, shared with other processes memfd, file to map 0x3f000000 offset to bcm peripherals on the raspberry pi 3 closememfd no need to keep memfd open after mmap if periphbase void 1 return 2 calculate addresses to all registers we need calculate address to gpio registers periphgpio periphbase 0x2000004 address of pin function select for pin gpiopin gpiofunctionregister periphgpio gpiopin10 bit mask for the 3 bits within the function select register for pin gpiopin gpiofunctionregisterpinmask 7 ltlt gpiopin103 address of gpio set register for the first 32 pins gpiosetlowerregister periphgpio 7 address of gpio clear register for the first 32 pins gpioclearlowerregister periphgpio 10 bit position in register for pin gpiopin gpiopinmask uint32t1 ltlt gpiopin set the function of pin gpiopin to quotoutputquot get current value of function register functionregistervalue gpiofunctionregister reset function select bits for this pin this selects the quotinputquot function functionregistervalue amp gpiofunctionregisterpinmask set function select bits for this pin to function quot1quot quotoutputquot functionregistervalue uint32t1 ltlt gpiopin103 update function register gpiofunctionregister functionregistervalue set and clear the gpio pin to make the led blink for gpiosetlowerregister gpiopinmask sleep1 gpioclearlowerregister gpiopinmask sleep1 return 0 how do i get this working on freebsd? thanks a lot for your help!",,1,c;raspberry-pi;freebsd;low-level,2025-01-24
79383340,customizing aosp 12 for raspberry pi 4 missing boot.img and flashing issues,"i am working on customizing aosp 12 for raspberry pi 4. i successfully downloaded and built aosp 12, and verified that it works properly using the emulator. however, after making customizations, i encountered an issue with the boot.img file and flashing the images to the sd card. heres what ive done so far downloaded and built aosp 12. verified the build using the emulator it works fine. made customizations and generated the following images system.img userdata.img ramdisk.img note boot.img was not generated. manually created a boot.img file and attempted to flash it along with the other images to the sd card. however, the raspberry pi 4 did not boot successfully. tried two approaches to flash the images combined all four images system.img, userdata.img, ramdisk.img, and boot.img into a single disk image and flashed it to the sd card using balena etcher. created separate partitions on the sd card and flashed each image to its respective partition. neither approach worked, and the raspberry pi 4 failed to boot. expected outcome i expected the raspberry pi 4 to boot successfully after flashing the custom aosp 12 images. however, the device failed to boot, likely due to issues with the boot.img file or the flashing process. questions why is boot.img not being generated during the build process? are there specific steps or configurations i need to enable to generate it? what could be the issue with the manually created boot.img? are there specific requirements for the boot.img file for raspberry pi 4? are there any known issues or additional steps required when flashing aosp 12 to a raspberry pi 4?",,0,image;flash;raspberry-pi;android-source;issue-tracking,2025-01-24
79381263,transfer failed error in gousb how to debug libusb write issue?,"i am working on a program that communicates with a usb device through gousb library. while attempting to send data, i get a quottransfer failedquot error during the write operation. func sendiqdatadevice gousb.outendpoint, data byte error const chunksize512 log.printfquotendpoint address d, max packet size dquot, device.desc.address, device.desc.maxpacketsize log.printfquotsending total data size d bytesquot,lendata for i 0 i lt lendata i chunksize end i chunksize if end gt lendata end lendata chunk dataiend log.printfquotsending chunk d bytes from d to dquot, lenchunk, i, end n, err device.writechunk if err ! nil log.printfquoterror sending chunk at index d vquot, ipacketsize, err if errors.unwraperr ! nil log.printfquotroot cause of transfer error vquot, errors.unwraperr log.printfquotsuccessfully sent d bytesquot, n return nil the gousb library successfully initializes the usb context, device, and endpoints without any errors. the interface and endpoint are successfully opened using intf, err config.interface0, 0 and the endpoint is retrieved using ep, err intf.outendpoint2 i am running the program on a raspberry pi with debian os. whenever i try to send the data, i get this simple message quottransfer failedquot in bash. 20250123 125442 sending chunk 512 bytes from 1047552 to 1048064 20250123 125442 error sending chunk at index 2046 transfer failed 20250123 125442 successfully sent 0 bytes i could not find any other logs and this message alone makes no sense whatsoever. my guess is that it happens because the error is shown by gousb which takes the original error from libusb and wraps it into this from. is it possible to unwrap it somehow?",,2,go;raspberry-pi;usb;libusb,2025-01-23
79380324,how to bind raspberry39s gpio events to invoke tkinter buttons?,"here is the code that works with keyboard events. id like to do the same with gpio state changes instead of keypress events. thks from tkinter import from tkinter import ttk import keyboard root tk def p printhello butquitter ttk.button root , text quotquitterquot , command root.destroy butquitter.pack butdisplay ttk.button root , text quothelloquot , command p butdisplay.pack def keypressevent key event.char if keyq butdisplay.invoke root.bindltkeygt, keypress root.mainloop ps without threading","this code can do the job from tkinter import from tkinter import ttk import rpi.gpio as gpio root tk pin10 gpio.setmodegpio.bcm gpio.setuppin, gpio.in def p printhello butquitter ttk.button root , text quotquitterquot , command root.destroy butquitter.pack butdisplay ttk.button root , text quothelloquot , command p butdisplay.pack def pollfordata datagpio.inputpin if data1 butdisplay.invoke root.after100, pollfordata root.after100, pollfordata root.mainloop",1,python;linux;raspberry-pi;interrupt;ttk,2025-01-23
79368043,sudden picamera2 import failure,"i have a script that utilizes picamera on a raspberry pi 5. its been working great for months, the all of sudden it started throwing errors. here is the start of the script import libraries import os import time import sys import requests from picamera2 import picamera there are a bunch of comment lines before that, documenting the purpose of the script, how it works, etc., but those are the first real lines in the script. the script is now dying on that last import line with this error siggibraspberrypi3dprusacam python prusacam.py traceback most recent call last file quothomesiggibprusacamprusacam.pyquot, line 17, in ltmodulegt from picamera2 import picamera file quotusrlibpython3distpackagespicamera2init.pyquot, line 3, in ltmodulegt import libcamera valueerror source code string cannot contain null bytes siggibraspberrypi3dprusacam python v python 3.11.2 siggibraspberrypi3dprusacam the only thing that has changed lately is a few apt update to keep the system up to date, other than that nothing has changed. there was a power outage the other day but the system appears to be unaffected. anyone have any leads on what might have broken?",,0,raspberry-pi;python-3.11;picamera2,2025-01-18
79367637,combine video and audio stream with go2rtc,"i have a raspberry pi with a camera module and a i2s mems microphone. on this raspberry pi, i am running go2rtc. on my pi, i have 3 streams one video only, one audio only both work fine and a third that combine both... or at least thats what i want to do. unfortunately when i open the 3rd stream on the web ui, i get stuck on loading. here is my config streams picam quotexecrpicamvid t 0 inline o rtsp8554picamffmpegv4l2,formath264,presetultrafast,tunezerolatency,g15,bv3500k,flagsnobuffer,rtsptransporttcp,analyzeduration0,probesize32,fpsmodecfrquot audio quotexecarecord d plughw2 f s16le r 48000 c 1 rtsp8554audioffmpegformats16le,acodecpcms16le,ar48000,ac1,rtsptransporttcpquot picamaudio quotexecffmpeg loglevel debug rtsptransport tcp i rtsplocalhost8554picam rtsptransport tcp i rtsplocalhost8554audio cv copy ca aac strict experimental f rtsp rtsptransport tcp rtsplocalhost8554picamaudioquot webrtc listen 1984 candidates stunstun.l.google.com19302 rtsp listen 8554",,0,raspberry-pi;video-streaming;audio-streaming,2025-01-18
79367611,how to increase the frequency of the cpu from c,"i am writing c code for the raspberry pi 4 arm cortexa72, which relies on precise timing in periods of less than 1s. to get precise timing, i use the following algorithm clockgettimeclockmonotonic,ampttime ntime ttime.tvsec uint64t1000000000l ttime.tvnsec timeperiodinns while1 clockgettimeclockmonotonic,ampctime if ctime.tvsec uint64t1000000000l ctime.tvnsec gt ntime break the precision of the time measurement depends on the time required to execute one loop. to measure this time, i have written the following program include ltstdio.hgt include ltstdint.hgt include lttime.hgt int loopsint micsec struct timespec ctime, ttime uint64t ntime int i i 0 clockgettimeclockmonotonic,ampttime ntime ttime.tvsec uint64t1000000000l ttime.tvnsec 1000micsec while1 clockgettimeclockmonotonic,ampctime if ctime.tvsec uint64t1000000000l ctime.tvnsec gt ntime break i i1 returni void main int j int lismicsec13 1,1e1,1e2,1e3,1e4,1e5,1e6,1e5,1e4,1e3,1e2,1e1,1 int lisloops13 for j0 jlt13 j lisloopsj loopslismicsecj for j0 jlt13 j fprintfstderr, quottime in msd, loops d, one loop time in ns dnquot, lismicsecj, lisloopsj, 1000lismicsecjlisloopsj to my great surprise, the time varied considerably, namely by a factor of four time in ms1, loops 5, one loop time in ns 200 time in ms10, loops 71, one loop time in ns 140 time in ms100, loops 721, one loop time in ns 138 time in ms1000, loops 6426, one loop time in ns 155 time in ms10000, loops 71385, one loop time in ns 140 time in ms100000, loops 1378552, one loop time in ns 72 time in ms1000000, loops 21626183, one loop time in ns 46 time in ms100000, loops 2161626, one loop time in ns 46 time in ms10000, loops 216592, one loop time in ns 46 time in ms1000, loops 21687, one loop time in ns 46 time in ms100, loops 2168, one loop time in ns 46 time in ms10, loops 216, one loop time in ns 46 time in ms1, loops 21, one loop time in ns 47 if i understand it correctly, the cpu reduces the frequency when idle, so the time measurement is less precise, but when it is more heavily utilised, the cpu increases the frequency and the time measurement becomes more precise. is that correct? is there a way to instruct the cpu from c to increase the frequency and make the timing more precise?",,1,c;time;raspberry-pi;cpu;benchmarking,2025-01-18
79367517,zeromq subscribe broken if publisher restarts?,"3 raspberry pis involved here running zmq publish and subscribe. i have one running a pump in the cellar, one as a monitor upstairs showing leds for state of pump. they send heartbeats to each other to make sure both are up and well. the third is a diagnostic spy just subscribing to any sends from the other two. if the monitor restarts, the spy loses its subscription to the monitor messages. on restart of spy all is well and it picks up the messages again. i saw something about this from about 10 years ago does anyone have more recent informationadvice? the only fix i have found so far is a restart of the spy program. i am tempted by some sort of resubscribe but have seen cautions about having to cancel existing subscriptions and keep count of them . this is what the spy does at startup .... using parameters from common code. gt gt def zeromqinit gt incontext1 zmq.context gt zmqdata.insocket1 incontext1.socketzmq.sub gt subscribeto fquottcppumpaddrpumptomonitorportquot gt zmqdata.insocket1.connectsubscribeto subscribe to pump gt zmqdata.insocket1.setsockoptstringzmq.subscribe,quotquot gt gt incontext2 zmq.context gt zmqdata.insocket2 incontext2.socketzmq.sub gt subscribeto fquottcpmonitoraddrmonitortopumpportquot gt zmqdata.insocket2.connectsubscribeto subscribe to monitor gt zmqdata.insocket2.setsockoptstringzmq.subscribe,quotquot gt gt",,0,raspberry-pi;zeromq;publish-subscribe,2025-01-18
79355410,how do i use a button to input morse code?,"so im working on a project for a class where i need to take button presses, as morse code and then translate them to english. i am using a dictionary for this. however i am a little stuck on where to go after the dictionary and variables. my variables are dot time .15 dash time .45 character space .15 letter space .45 space 1.05 i have already imported gpiozero and time. and i know that i need to make some sort of timer to differentiate between dots and dashes, and a timer to differentiate between character space, letter space and a regular space. but im not quite sure how to set all of it up and then translate it to english. edit def usermessage message quotquot currentword quotquot starttime 0 while true if button.ispressed false starttime time.time else if starttime ! 0 endtime time.time pressedtime endtime starttime starttime 0 if pressedtime gt dottime currentword quotquot else currentword quot.quot time.sleepcharacterspace this is the current code i have right now, sorry for my not being clear. the button is on a breadboard connected to a raspberry pi. and what i am trying to do is take inputs from the button in the form of morse code and then have the morse code translated to english. thank you for being patient with me since im new to the platform. i have tried to do functions and referenced multiple github sources that do similar things but they havent worked.","update i should perhaps make it clear that in this setup, i assume that there are no events available through the button that we could attach to which, i guess, is the case for a button connected via a breadboard, as described in the question. event handling would imply a different approach. i see as the main issues of your approach of tracking the signal length, that a the times of spaces character, letter, word are currently not recorded, and b the sleep times between repeatedly querying the button are way too long as to a to distinguish where the sequence of characters ., of your current letter ends and where the sequence of letters of your current word ends, character spaces, letter spaces, and word spaces need to be distinguished. you should therefore not only handle and distinguish the periods of the button being pressed, but also the periods of the button being released not pressed. as to b at present, after each character evaluation, the sleep time is set to characterspace. in my opinion, this is way too long consider that the times of the button presses may not be perfect and that your own code also has its own processing time this will soon get your processing out of sync with the actual signal sequence if it has ever been in sync in the first place. proposed adjustments i think, both issues can be fixed with the following approach sample the button state with a higher frequency say, of the shortest relevant length, thus of the length of dot and character space. record the time intervals of both alternating button states pressed and released. this can be achieved with the following code times record time of all symbols even idx released, odd idx pressed waspreviouslypressed false monitor previous button state starttime time.time while true ispressed button.ispressed button state toggled toggle time state and record time delta if waspreviouslypressed ! ispressed toggletime time.time times.appendtoggletime starttime waspreviouslypressed ispressed starttime toggletime stop listening after long silence i.e. button released if not ispressed and time.time starttime gt 5 maxtimebysymbol.values break wait a tiny bit to spare cpu cycles time.sleep.1 mintimebysymbol.values here, timebysymbol is a dictionary that captures the expected intervals, following your definitions at present we only use its values, but we will later also use its keys quot.quot dot, quotquot dash, quotquot char sep., quot quot letter sep., quot quot space word sep. timebysymbol quot.quot .15, quotquot .45, quotquot .15, quot quot .45, quot quot 1.05 as a result, we get the list times, which captures the time intervals for the alternating buttons states, starting with the released not pressed state. in other words at even indexes of times, we now have the time intervals of spaces, at odd indexes of times, we now have the time intervals of characters. what is now still missing is the decoding of the message. decoding decoding, in my opinion, should be broken down into the following steps 1 decode time intervals to morse characters and spaces, 2 decode morse character sequences to morse letters, 3 decode morse letters to latin letters a, b, c, . as to 1 i would simply map each time interval to its closest match in expected length, after skipping the initial silence and thus evaluating characters as candidates for the even indexes and spaces as candidates for the odd indexes in times1 decodedmorse quotquot for i, t in enumeratetimes1 skip initial silence now even idx pressed, odd idx released, then find and append symbol that is closest in length to the measured length candidates quotquot, quot quot, quot quot if i 2 else quot.quot, quotquot closestsymbol lambda cand abst timebysymbolcand decodedmorse mincandidates, keyclosestsymbol as a result, we should now have the string decodedmorse, which consists of morse characters .,, spaces as morse letter separators, and slashes as word separators. as to 2 and 3 i would define a list of all known morse letters and a sequence of all corresponding latin letters, where the index of the morse letter matches the index of the latin letter alternatively, a dictionary would work. i would then try to find, for each sequence of morse characters, the index of its corresponding morse letter in the list of morse letters, then use this index to get the corresponding latin letter. here we have to take care of some special cases if no morse letter can be found for a given morse character sequence because the sequence is corrupted for some reason, a separate latin character that signifies corruption could be returned instead we will use quotquot below. the morse word separator, which we decoded as in decodedmorse, can be treated as its own morse letter, which is simply being decoded as a space in the latin letter sequence. altogether, this could look as follows abclatin quotabcdefghijklmnopqrstuvwxyz quot only quotabyzquot for simplicity, plus quotquot for space abcmorse quot.quot, quot...quot, quot..quot, quot..quot, quot.quot, quot...quot, quot.quot, quot....quot, quot..quot, quot.quot, quot.quot, quot...quot, quotquot, quot.quot, quotquot, quot..quot, quot.quot, quot..quot, quot...quot, quotquot, quot..quot, quot...quot, quot.quot, quot..quot, quot.quot, quot..quot, quotquot decodedlatin quotquot.joinabclatinabcmorse.indexl if l in abcmorse else quotquot for l in decodedmorse.splitquot quot as a result, we should now have the actual message, decoded as a string of latin letters, in decodedlatin. putting it all together putting it all together, and including a button simulator that runs in its own thread, this could look as follows import threading import time quot.quot dot, quotquot dash, quotquot char sep., quot quot letter sep., quot quot space word sep. timebysymbol quot.quot .15, quotquot .45, quotquot .15, quot quot .45, quot quot 1.05 abclatin quotabcdefghijklmnopqrstuvwxyz quot only quotabyzquot for simplicity, plus quotquot for space abcmorse quot.quot, quot...quot, quot..quot, quot..quot, quot.quot, quot...quot, quot.quot, quot....quot, quot..quot, quot.quot, quot.quot, quot...quot, quotquot, quot.quot, quotquot, quot..quot, quot.quot, quot..quot, quot...quot, quotquot, quot..quot, quot...quot, quot.quot, quot..quot, quot.quot, quot..quot, quotquot todo with givenlatin, provide a sequence of letters and spaces to be encoded to morse and decoded back to latin letters quotabcquot givenlatin quothello worldquot todo with verbose, provide whether the capturing of button states should be printed true or not false verbose true assert setgivenlatin.issubsetsetabclatin check for valid letters givenmorse quot quot.joinabcmorseabclatin.indexl for l in givenlatin.strip.lower printfquotgiven sequence latin givenlatinquot printfquotgiven sequence morse givenmorsequot provide code that simulates the button class buttonthreading.thread def initself, sequence super.initdaemontrue assert setsequence.issubsetquot. quot check for valid characters split the sequence into lists of words of lists of letters self.sequence sub.splitquot quot for sub in sequence.splitquot quot self.ispressed false self.start autostart the value generation def runself time.sleeptimebysymbolquot quot headstart with a bit of waiting for word in self.sequence for letter in word for char in letter self.ispressedtrue time.sleeptimebysymbolchar dotdash length self.ispressedfalse time.sleeptimebysymbolquotquot char sep. length time.sleeptimebysymbolquot quot timebysymbolquotquot letter sep. time.sleeptimebysymbolquot quot timebysymbolquot quot word sep. while true end of sequence sleep forever time.sleeptimebysymbolquot quot printquotproduce and capture sequence quot create the button simulator, passing it the sequence button buttongivenmorse times record time of all symbols even idx released, odd idx pressed waspreviouslypressed false monitor previous button state starttime time.time while true ispressed button.ispressed button state toggled toggle time state and record time delta if waspreviouslypressed ! ispressed toggletime time.time times.appendtoggletime starttime if verbose show quotnot pressedquot for ispressedtrue and vice versa, because the time is for the previous state and ispressed is the new state printfquottimes1.3f not if ispressed else pressed quot waspreviouslypressed ispressed starttime toggletime stop listening after long silence i.e. button released if not ispressed and time.time starttime gt 5 maxtimebysymbol.values break wait a tiny bit to spare cpu cycles time.sleep.1 mintimebysymbol.values printquotdecode sequence quot decodedmorse quotquot for i, t in enumeratetimes1 skip initial silence now even idx pressed, odd idx released, then find and append symbol that is closest in length to the measured length candidates quotquot, quot quot, quot quot if i 2 else quot.quot, quotquot closestsymbol lambda cand abst timebysymbolcand decodedmorse mincandidates, keyclosestsymbol decodedlatin quotquot.joinabclatinabcmorse.indexl if l in abcmorse else quotquot for l in decodedmorse.splitquot quot printfquotdecoded sequence morse decodedmorsequot printfquotdecoded sequence latin decodedlatinquot note that i included an external link to an earlier version of this code, in a comment to the question. i have done so since the question was closed at that time, and there are some minor differences as compared to the code above.",0,python;linux;raspberry-pi;morse-code,2025-01-14
79355058,scapy not sniffing packets in monitor mode on raspberry pi5,"not able to sniff the packet on new raspberry pi5 device arm64 using wifi tp link ac600 dongle but the same code works on pi4 for same dongle. wlan1 is set to monitor mode from scapy.all import packets sniffifacewlan1, timeout10 print strpackets",i had faced same issue initially. make sure the drivers amp required supporting frameworks are installed correctly. step 1 sudo aptget update step 2 sudo apt y raspberrykernelheaders buildessential bc dkms git step 3 sudo aptget install libpcapdev step 4 verify sudo dkm status if already available step 5 git clone step 6 run command make step 7 sudo make install step 8 reboot step 9 install scapy step 10 run scapy amp try your snippet,1,raspberry-pi;scapy,2025-01-14
79353335,how to take a screenshot with python on a raspberry pi?,"im writing a small application which needs to take screenshots of my raspberry pi in order to decide whether or not something has changed in a particular region on screen. the code was first written on my windows pc, where it works fine. im running python 3.13 on windows, 3.11.2 on my raspberry pi, and ive installed pip on both my windows pc as well as my raspberry pi. when i run the following code on my raspberry pi however, i get an error. from pil import imagegrab screenref imagegrab.grab the error i receive is the following traceback most recent call last file quothomemynameviewercm.pyquot, line 11, in ltmodulegt screenref imagegrab.grab file quotusrlibpython3distpackagespilimagegrab.pyquot, line 80, in grab size, data image.core.grabscreenx11xdisplay oserror x getimage failed error 8 73, 0, 522 googling this error 8 leads me to several webpages where it is explained that this is an issue with something called wayland? on ubuntu, but im not running ubuntu... the provided solution modifying etcgdm3custom.conf to uncomment waylandenablefalse is not an option, because there is no etcgdm3 on my pi. what do i need to change in order to be able to screenshot my desktop? thanks.","try using import pyscreenshot as imagegrab screenref imagegrab.grab you would then have to save it somewhere screenref.savesome file path here im not sure if it differs between raspbian and an x86 os, but you should have some luck there",0,python;raspberry-pi;screenshot;imagegrab,2025-01-13
79351134,dpkg printarchitecture gives me armhf while uname a shows aarch64,im playing around with my raspberry 4b and i noticed this. these outputs are supposed to mean different things no? which output should i trust?,,0,linux;raspberry-pi;cpu-architecture,2025-01-13
79350656,mount raspberry image in gitlab cicd pipeline,"i want to customize a sd card image for a raspberry pi within a gitlab pipeline add wlan data ssh, enable vnc but fail when trying to mount the image. i get the image with wget o raspioslite.img with guestmount a raspioslite.img m devsda mountraspberryimg i get the error that it does not recognize the fs guestmount l raspioslite.img does not return any information either it trys to delete loop0 with kpartx a v raspioslite.img mount devmapperloop0p2 mountraspberryimg does not work either fs is not recognized i also tried to use this script but i already have the problem that i cant get fdisk to run in the gitlab runner error command not found. even an aptget install y utillinux does not help. i tried it with imagealpine and with imageubuntu i prepare with aptget update ampamp aptget install y qemuuserstatic parted kpartx e2fsprogs dosfstools rsync wget utillinux any ideas how the manage that in a pipeline means in a dockercontainer. more info even a on a ubunto an bare metal fdisk does not show the partitions. only fdisk l raspiosfull.img disk raspiosfull.img 2,66 gib, 2859320832 bytes, 5584611 sectors units sectors of 1 512 512 bytes sector size logicalphysical 512 bytes 512 bytes io size minimumoptimal 512 bytes 512 bytes",,0,gitlab;raspberry-pi;gitlab-ci,2025-01-12
79349898,how to fix this vs code remotessh extension to raspberry pi connexion error?,"i have a raspberry pi running debian buster. ive been connecting to it using quotvisual studio code remote sshquot extension. i was trying to install ros robot operating system on the pi and i might have accidentally messed with some packages or something, because now when i try to connect to the pi using visual studio code, i get the following error message failed to connect to the remote extension host server error wrappederrorwrappederror message quoterror checking server integrityquot, original quotfailed to run command quothomepi.vscodeservercliserversstablefabdb6a30b49f79a7aba0f2ad9df9b399473380f.stagingserverbincodeserver versionquot code 127 homepi.vscodeservercliserversstablefabdb6a30b49f79a7aba0f2ad9df9b399473380f.stagingservernode relocation error homepi.vscodeservercliserversstablefabdb6a30b49f79a7aba0f2ad9df9b399473380f.stagingservernode symbol zst11oncecall version glibcxx3.4.11 not defined in file libstdc.so.6 with link time referencenquot i ran strings usrlibaarch64linuxgnulibstdc.so.6 grep 3.4.11 on the pi to see if glibcxx3.4.11 was listed, and i did see it in the output glibcxx3.4.11 znvst9atomic011atomicflag12testandsetest12memoryorderglibcxx3.4.11 znvst9atomic011atomicflag5clearest12memoryorderglibcxx3.4.11 ive also tried deleting the .vscodeserver folder and letting vs code reinstall it while connecting, but i got the same error again. ive also tried using older versions of vs code but that didnt work either. here is my etcaptsources.list file deb buster main contrib nonfree deb busterupdates main contrib nonfree deb busterupdates main contrib nonfree deb busterbackports main i tried running sudo aptget update as suggested by a commenter, but i got this result hit1 buster inrelease hit2 busterupdates inrelease hit3 busterupdates inrelease ign4 busterbackports inrelease err5 busterbackports release 404 not found ip 2a044e4287644 80 hit6 buster inrelease get7 buster inrelease reading package lists... done e the repository busterbackports release does not have a release file. n updating from such a repository cant be done securely, and is therefore disabled by default. n see aptsecure8 manpage for repository creation and user configuration details. running sudo aptget install t busterbackports libstdc6 gave me this result reading package lists... done e the value busterbackports is invalid for aptdefaultrelease as such a release is not available in the sources im able to ssh normally using a local terminal on my laptop, but i would rather use vs code to connect. im looking for a solution that wouldnt require upgrading the osreinstalling a new os. any suggestions as to what i can do? edit i changed my etcaptsources.list file so that it looks like this changed the busterbackports repo to use archive deb buster main contrib nonfree deb busterupdates main contrib nonfree deb busterupdates main contrib nonfree deb busterbackports main contrib nonfree this allowed me to run sudo aptget update without any problems, but running sudo aptget install t busterbackports libstdc6 gave me the following output reading package lists... done building dependency tree reading state information... done libstdc6 is already the newest version 8.3.06 is there anything else i can do? the vs code remotessh connection is still not working with the same error message. edit fixed! i ran readlink f usrlibaarch64linuxgnulibstdc.so.6 to see what the symlink was pointing to usrlibaarch64linuxgnulibstdc.so.6.0.28.bak i then ran ls l usrlibaarch64linuxgnulibstdc.so. to see what versions of libstdc.so.6 i had lrwxrwxrwx 1 root root 23 jan 8 2248 usrlibaarch64linuxgnulibstdc.so.6 gt libstdc.so.6.0.28.bak rwrr 1 root root 1541768 apr 6 2019 usrlibaarch64linuxgnulibstdc.so.6.0.25 rwxrxrx 1 root root 3647128 nov 22 1141 usrlibaarch64linuxgnulibstdc.so.6.0.28.bak lrwxrwxrwx 1 root root 19 nov 22 1125 usrlibaarch64linuxgnulibstdc.so.6.backup gt libstdc.so.6.0.25 i then changed the symlink to point to the libstdc.so.6.0.25 instead sudo ln sf usrlibaarch64linuxgnulibstdc.so.6.0.25 usrlibaarch64linuxgnulibstdc.so.6 and this fixed it!",im not that much into the topic but have you tried to install libstdc6 again maybe it is corrupt? sudo aptget update sudo aptget install t busterbackports libstdc6 and afterwards deleting the vscode server so it will be recreated with new dependencies? rm rf .vscodeserver,0,visual-studio-code;ssh;raspberry-pi;vscode-remote-ssh,2025-01-12
79347262,"how to correctly use wiringpispisetupmode for max5144 dac ic on spi1, cs1?","i am working on interfacing the max5144 dac using spi communication on a raspberry pi spi1, cs1. below is my main program and my spi testing program. the main program initializes the dac and sets the output value, but i encounter the following error wiringpispi invalid spi numberchannel need wiringpispixsetupmode before readwrite the spi test program runs successfully, confirming that spi1 and cs1 are correctly set up. cmake cmakeminimumrequiredversion 3.10 projecttemperaturecontrolproject setcmakecxxstandard 17 setcmakecxxstandardrequired true setcmakecxxflags quotgquot add custom module path for findwiringpi.cmake listappend cmakemodulepath quotcmakecurrentsourcedircmakemodulesquot includedirectoriesinclude main project executable addexecutabletemperaturecontrolproject srcmain.cpp srcmax5144.cpp findpackagewiringpi required targetlinklibrariestemperaturecontrolproject wiringpilibrary spi test executable addexecutablespitest srcspitest.cpp targetlinklibrariesspitest lwiringpi main program code error occurs here include quotmax5144.hquot include ltiostreamgt int main try max5144 dac1, 17 spi channel 1, cs pin gpio17 dac.setdacoutput4854 set dac output value stdcout ltlt quotdac output successfully set.quot ltlt stdendl catch const stdexception ampe stdcerr ltlt quoterror quot ltlt e.what ltlt stdendl return 0 max5144.cpp include quotmax5144.hquot include ltwiringpi.hgt include ltwiringpispi.hgt include ltiostreamgt include ltstdexceptgt max5144max5144int spichannel, int cspin cspincspin wiringpisetup pinmodecspin, output digitalwritecspin, high if wiringpispisetupmodespichannel, 500000, 0 lt 0 throw stdruntimeerrorquotspi initialization failed!quot void max5144setdacoutputint value if value lt 0 value gt 16384 throw stdinvalidargumentquotdac value out of range!quot int dataword value ltlt 2 unsigned char msb dataword gtgt 8 amp 0xff unsigned char lsb dataword amp 0xff digitalwritecspin, low unsigned char buffer2 msb, lsb wiringpispidatarw1, buffer, 2 spi channel 1 digitalwritecspin, high stdcout ltlt quotdac output set to quot ltlt value ltlt stdendl max5144max5144 spi testing program works correctly include ltwiringpispi.hgt include ltiostreamgt include ltstdexceptgt int main int spichannel 1 using spi1 int speed 500000 spi speed int mode 0 spi mode 0 if wiringpispisetupmodespichannel, speed, mode lt 0 throw stdruntimeerrorquotspi1 initialization failed!quot stdcout ltlt quotspi1 initialized successfully!quot ltlt stdendl unsigned char buffer2 0xff, 0x00 test data if wiringpispidatarwspichannel, buffer, 2 lt 0 throw stdruntimeerrorquotspi1 data transfer failed!quot stdcout ltlt quotspi1 data sent successfully!quot ltlt stdendl return 0 additional information hardware test results the dac works perfectly when controlled using python, so there are no hardwarerelated issues with the spi setup or the max5144 ic. observed error the error in the main program suggests a problem with spi channel initialization wiringpispisetupmode, but the spi test program verifies that spi1 and cs1 are functioning as expected. questions why does the main program fail with the error regarding wiringpispi? the spi test program works fine, so is there an issue with how i configure the max5144 class? is the use of wiringpispidatarw1, ... in the max5144setdacoutput method correct for spi1?","max5144 driver code include quotmax5144.hquot include ltwiringpi.hgt include ltwiringpispi.hgt include ltstdexceptgt include ltiostreamgt constructor max5144max5144int spinumber, int spichannel, int cspin, int speed, int mode spinumberspinumber, spichannelspichannel, cspincspin initialize gpio for cs if wiringpisetup lt 0 throw stdruntimeerrorquotfailed to initialize wiringpi!quot pinmodecspin, output digitalwritecspin, high default to deselected state initialize spi if wiringpispixsetupmodespinumber, spichannel, speed, mode lt 0 throw stdruntimeerrorquotspi initialization failed for spiquot stdtostringspinumber quot, channel quot stdtostringspichannel stdcout ltlt quotspi initialized on spiquot ltlt spinumber ltlt quot, channel quot ltlt spichannel ltlt stdendl set dac output void max5144setdacoutputint value if value lt 0 value gt 16383 throw stdinvalidargumentquotdac value out of range! must be between 0 and 16383.quot prepare data int dataword value ltlt 2 align 14bit value unsigned char buffer2 staticcastltunsigned chargtdataword gtgt 8 amp 0xff, msb staticcastltunsigned chargtdataword amp 0xff lsb spi transfer digitalwritecspin, low select chip if wiringpispixdatarwspinumber, spichannel, buffer, 2 lt 0 throw stdruntimeerrorquotspi data transfer failed!quot digitalwritecspin, high deselect chip stdcout ltlt quotdac output set to quot ltlt value ltlt stdendl destructor max5144max5144 wiringpispiclosespichannel close spi channel mic drop welcome to visits my github",1,c++;raspberry-pi;spi;dac;wiringpi,2025-01-11
79343773,raspberry pi 5 camera web browser integration issue,"problem im trying to stream raspberry pi 5 camera feed to a web browser using next.js. while libcamerahello works in terminal, i cant get the camera stream to work in the browser. current setup raspberry pi 5 raspberry pi os bookworm camera module 3 imx708 next.js 14.0.4 libcamera v0.3.2 what ive tried using mediadevices api const stream await navigator.mediadevices.getusermedia video deviceid exact devvideo0 2. using libcameravid libcameravid camera 0 width 1280 height 720 codec mjpeg inline t 0 o 3. using v4l2loopback sudo modprobe v4l2loopback libcameravid t 0 inline o devvideo0 error messages browser doesnt prompt for camera permission no video stream appears camera works with libcamerahello in terminal system info video devices ls l devvideo crwrwrw 1 root video 81, 17 jan 9 2009 devvideo0 crwrwrw 1 root video 81, 18 jan 9 2009 devvideo1 crwrwrw 1 root video 81, 16 jan 9 2009 devvideo19 ... more devices v4l2 devices v4l2ctl listdevices pispbe platform1000880000.pispbe devvideo20 devvideo21 ... more devices rp1cfe platform1f00128000.csi devvideo0 devvideo1 ... more devices camera detection dmesg grep i camera 6.582909 imx708 11001a camera module id 0x0301 code implementation heres my current next.js api implementation pagesapicamera.ts export default async function handlerreq nextapirequest, res nextapiresponse if req.method post try const action req.body if action start const command libcameravid camera 0 width 1280 height 720 framerate 30 codec h264 inline t 0 o devvideo0 const child execcommand ... catch error ... question how can i properly stream raspberry pi 5 camera feed to a web browser using next.js? whats the correct approach for browser integration? i need a solution that 1. works with raspberry pi 5s new camera system 2. can be integrated with next.js 3. provides realtime video feed in the browser","after playing around a lot i finally found the answer. i originally also thought it must be done through a v4l2 loopback device. the problem with v4l2 loopback is that chromefirefox are using pipewire to detect devices and there the v4l2loopback device is not marked as camera. i found a patch somewhere with which you can make v4l2loopback behave correctly but i wanted a clean solution. solution install gstreamer, gstreamer1.0libcamera and gstreamer1.0pipewire execute this gstlaunch1.0 e libcamerasrc afmodecontinuous ! quotvideoxraw,width1280,height720,formatyuy2quot,interlacemodeprogressive ! videoconvert ! pipewiresink modeprovide streampropertiesquotproperties,media.classvideosource,media.rolecamera,node.nicklibcameracamquot you will see a camera in chrome called libcameracam note i added afmodecontinuous to the libcamerasrc as property, it will enable auto focus as i have the camera module 3. you can check which properties you can add with gstinspect1.0 libcamerasrc hope this helps edit i just saw that the normal camera is not even popping up in your chrome, for me that worked at least edit 2 found a bug, when chrome is closed the gstreamer script crashes, you can wrap this into a bash script with a while true loop additionally added a name to the pipewiresink info rpicamapps build v1.6.0 025ca84648c9 03022025 162104 rpicamapps capabilites egl1 qt1 drm1 libav1 libcamera build v0.4.05329156679 raspberry pi 5 model b rev 1.0 prettynamequotdebian gnulinux 12 bookwormquot namequotdebian gnulinuxquot versionidquot12quot versionquot12 bookwormquot linux raspberrypi 6.6.51rptrpi2712 1 smp preempt debian 16.6.511rpt3 20241008 aarch64 gnulinux",0,next.js;raspberry-pi;camera;webrtc;libcamera,2025-01-09
79339837,writing 32bit x86 assembly on raspberry pi,"is it possible to write x86 32 bit assembly on a raspberry pi 5, if the board type matters which is running raspberry pi os? now, i am aware that raspberry pi is built on the arm architecture, but i believe i can use qemu to actually run the executable by emulating an x86 processor. i am successfully able to compile the code using nasm to assemble a file called hello.asm gt hello.o, but i am having difficulty linking. for example, gcc m32 o hello hello.o attempting to link and target a 32 bit architecture gives me quotunrecognized commandline argument m32quot has anyone tried thishave a workaround?",,1,assembly;raspberry-pi;x86,2025-01-08
79336905,nextcloud system cron not working phpnetworkgetaddresses name or service not known,"im having problem with the background cron jobs. after searching and trying for a couple of days, i still havent find a solution for my particular problem. so, you are my last resort background info i recently switched for the background jobs from ajax to cron hadnt seen, that this is the recommended option. i switched this option in the nextcloud web frontend as well as in the crontab settings. since then, i get the error view in the frontend that something is not working. to get a better idea, i tried manually triggering cron with the following php f medianextcloudhtmlcron.php define apc.enablecli1 after a couple of seconds, i get the following piraspimedianextcloudhtml sudo php f medianextcloudhtmlcron.php define apc.enablecli1 quotreqidquotquotigzjszgy1vedyl1o9e6aquot,quotlevelquot3,quottimequotquot20250107t0952240000quot,quotremoteaddrquotquotquot,quotuserquotquotquot,quotappquotquotcronquot,quotmethodquotquotquot,quoturlquotquotquot,quotmessagequotquotfailed to connect to the database an exception occurred in the driver sqlstatehy000 2002 phpnetworkgetaddresses getaddrinfo for nextclouddb failed name or service not knownquot,quotuseragentquotquotquot,quotversionquotquot30.0.4.1quot,quotexceptionquotquotexceptionquotquotdoctrinedbalexceptionquot,quotmessagequotquotfailed to connect to the database an exception occurred in the driver sqlstatehy000 2002 phpnetworkgetaddresses getaddrinfo for nextclouddb failed name or service not knownquot,quotcodequot2002,quottracequotquotfilequotquotmedianextcloudhtml3rdpartydoctrinedbalsrcconnection.phpquot,quotlinequot453,quotfunctionquotquotconnectquot,quotclassquotquotocdbconnectionquot,quottypequotquotgtquot,quotfilequotquotmedianextcloudhtml3rdpartydoctrinedbalsrcconnection.phpquot,quotlinequot411,quotfunctionquotquotgetdatabaseplatformversionquot,quotclassquotquotdoctrinedbalconnectionquot,quottypequotquotgtquot,quotfilequotquotmedianextcloudhtml3rdpartydoctrinedbalsrcconnection.phpquot,quotlinequot318,quotfunctionquotquotdetectdatabaseplatformquot,quotclassquotquotdoctrinedbalconnectionquot,quottypequotquotgtquot,quotfilequotquotmedianextcloudhtmllibprivatedbconnection.phpquot,quotlinequot899,quotfunctionquotquotgetdatabaseplatformquot,quotclassquotquotdoctrinedbalconnectionquot,quottypequotquotgtquot,quotfilequotquotmedianextcloudhtmllibprivatedbconnectionadapter.phpquot,quotlinequot235,quotfunctionquotquotgetdatabaseproviderquot,quotclassquotquotocdbconnectionquot,quottypequotquotgtquot,quotfilequotquotmedianextcloudhtmllibprivatedbquerybuilderquerybuilder.phpquot,quotlinequot96,quotfunctionquotquotgetdatabaseproviderquot,quotclassquotquotocdbconnectionadapterquot,quottypequotquotgtquot,quotfilequotquotmedianextcloudhtmllibprivateappconfig.phpquot,quotlinequot1211,quotfunctionquotquotexprquot,quotclassquotquotocdbquerybuilderquerybuilderquot,quottypequotquotgtquot,quotfilequotquotmedianextcloudhtmllibprivateappconfig.phpquot,quotlinequot237,quotfunctionquotquotloadconfigquot,quotclassquotquotocappconfigquot,quottypequotquotgtquot,quotfilequotquotmedianextcloudhtmllibprivateappconfig.phpquot,quotlinequot1351,quotfunctionquotquotsearchvaluesquot,quotclassquotquotocappconfigquot,quottypequotquotgtquot,quotfilequotquotmedianextcloudhtmllibprivateappappmanager.phpquot,quotlinequot126,quotfunctionquotquotgetvaluesquot,quotclassquotquotocappconfigquot,quottypequotquotgtquot,quotfilequotquotmedianextcloudhtmllibprivateappappmanager.phpquot,quotlinequot147,quotfunctionquotquotgetinstalledappsvaluesquot,quotclassquotquotocappappmanagerquot,quottypequotquotgtquot,quotfilequotquotmedianextcloudhtmllibprivatelegacyocapp.phpquot,quotlinequot191,quotfunctionquotquotgetinstalledappsquot,quotclassquotquotocappappmanagerquot,quottypequotquotgtquot,quotfilequotquotmedianextcloudhtmllibprivateappframeworkbootstrapcoordinator.phpquot,quotlinequot48,quotfunctionquotquotgetenabledappsquot,quotclassquotquotocappquot,quottypequotquotquot,quotfilequotquotmedianextcloudhtmllibbase.phpquot,quotlinequot659,quotfunctionquotquotruninitialregistrationquot,quotclassquotquotocappframeworkbootstrapcoordinatorquot,quottypequotquotgtquot,quotfilequotquotmedianextcloudhtmllibbase.phpquot,quotlinequot1134,quotfunctionquotquotinitquot,quotclassquotquotocquot,quottypequotquotquot,quotfilequotquotmedianextcloudhtmlcron.phpquot,quotlinequot24,quotargsquotquotmedianextcloudhtmllibbase.phpquot,quotfunctionquotquotrequireoncequot,quotfilequotquotmedianextcloudhtmllibprivatedbconnection.phpquot,quotlinequot233,quotmessagequotquotfailed to connect to the database an exception occurred in the driver sqlstatehy000 2002 phpnetworkgetaddresses getaddrinfo for nextclouddb failed name or service not knownquot,quotexceptionquot,quotcustommessagequotquotfailed to connect to the database an exception occurred in the driver sqlstatehy000 2002 phpnetworkgetaddresses getaddrinfo for nextclouddb failed name or service not knownquot doctrinedbalexception failed to connect to the database an exception occurred in the driver sqlstatehy000 2002 phpnetworkgetaddresses getaddrinfo for nextclouddb failed name or service not known in medianextcloudhtmllibprivatedbconnection.php233 stack trace 0 medianextcloudhtml3rdpartydoctrinedbalsrcconnection.php453 ocdbconnectiongtconnect 1 medianextcloudhtml3rdpartydoctrinedbalsrcconnection.php411 doctrinedbalconnectiongtgetdatabaseplatformversion 2 medianextcloudhtml3rdpartydoctrinedbalsrcconnection.php318 doctrinedbalconnectiongtdetectdatabaseplatform 3 medianextcloudhtmllibprivatedbconnection.php899 doctrinedbalconnectiongtgetdatabaseplatform 4 medianextcloudhtmllibprivatedbconnectionadapter.php235 ocdbconnectiongtgetdatabaseprovider 5 medianextcloudhtmllibprivatedbquerybuilderquerybuilder.php96 ocdbconnectionadaptergtgetdatabaseprovider 6 medianextcloudhtmllibprivateappconfig.php1211 ocdbquerybuilderquerybuildergtexpr 7 medianextcloudhtmllibprivateappconfig.php237 ocappconfiggtloadconfig 8 medianextcloudhtmllibprivateappconfig.php1351 ocappconfiggtsearchvalues 9 medianextcloudhtmllibprivateappappmanager.php126 ocappconfiggtgetvalues 10 medianextcloudhtmllibprivateappappmanager.php147 ocappappmanagergtgetinstalledappsvalues 11 medianextcloudhtmllibprivatelegacyocapp.php191 ocappappmanagergtgetinstalledapps 12 medianextcloudhtmllibprivateappframeworkbootstrapcoordinator.php48 ocappgetenabledapps 13 medianextcloudhtmllibbase.php659 ocappframeworkbootstrapcoordinatorgtruninitialregistration 14 medianextcloudhtmllibbase.php1134 ocinit 15 medianextcloudhtmlcron.php24 requireonce... 16 main this looks like a problem with the database, but my nextcloud is running for month without problems. my nextcloud is on version 30.0.04. it runs in a docker container on a raspberry pi 5. as a proxy, i use traefik. for further context, this is my docker compose file version quot3.8quot services nextcloud image nextcloudlatest containername nextcloud ports 464680 labels traefik.docker.network traefikweb traefik.enabletrue traefik. traefik. traefik. traefik. traefik. traefik. traefik. volumes medianextcloudhtmlvarwwwhtml restart unlessstopped environment mysqlhostltxxxgt mysqlpasswordltxxxgt mysqldatabaseltxxxgt mysqluserltxxxgt trustedproxiesltxxxgt dependson nextclouddb links nextclouddb networks traefikweb nextcloud logging options maxsize 5m maxfile quot3quot nextclouddb image yobasystemsalpinemariadb containername nextclouddb volumes medianextclouddbvarlibmysql restart unlessstopped environment mysqlhostltxxxgt mysqlpasswordltxxxgt mysqldatabaseltxxxgt mysqluserltxxxgt trustedproxiesltxxxgt mysqlrootpasswordltxxxgt networks traefikweb logging options maxsize 5m maxfile quot3quot networks traefikweb external true i checked the obvious one the environment variables are the same in the config.php. but as i mentioned, the database in general works. do you have any idea? what am i missing? thanks in advance!","someone else helped, i got it fixed solution the cron has to be run within the docker container as correctly suggested from bluepuma77 and for that to be working, the command has to reference the file in the docker container. so, from medianextcloudhtmlcron.php, i had to switch the command to varwwwhtmlcron.php. also worth mentioning the complete command should be in the root crontab, the wwwdata user must be part of the command sudo crontab e 5 docker exec user wwwdata nextcloud php f varwwwhtmlcron.php define apc.enablecli1",0,docker;cron;raspberry-pi;nextcloud,2025-01-07
79332656,getting grainy image in gstreamer,"i tried to get a rtsp stream from my cctv camera to raspberry pi using gstreamer. the feed i got is very grainyidk the term image sample i used this to get the stream gstlaunch1.0 rtspsrc locationrtspip protocolstcp latency15 ! rtpjitterbuffer dolosttrue ! rtph265depay ! h265parse ! avdech265 ! videoconvert ! videoxraw,width640,height360,framerate201 ! autovideosink i opened the same link in vlc and got a clear video",,0,raspberry-pi;video-streaming;gstreamer;rtsp;gstreamer-1.0,2025-01-06
79329679,"unable to access devttys0 as a regular user, despite having the right permissions","im trying to access the uart connected to the standard gpio pins 1415. as root, i can access them just fine. as a regular user, i always see a super abstract message minicom b 115200 d devttys0 minicom cannot open devttys0 device or resource busy however, this works just fine when run with sudo. i checked the permissions to devttys0 next, and everything appears to be in order ls hall devttys0 crwrw 1 root dialout 4, 64 jan 4 2112 devttys0 id uid1001jude gid1001jude groups1001jude,5tty,20dialout,27sudo,112bluetooth,114docker im a part of dialout, and just for fun, a part of tty too. next up, i ran strace on cat devttys0 ... openatatfdcwd, quotdevttys0quot, ordonly 1 ebusy device or resource busy ... so thats pretty much it im stuck. does anybody know whats going on here?","the problem was a stray process that was reading off of devttys0. weirdly, root could always take control over it, but as a normal user, it would show it as busy. i detected this by using sudo fuser k devttys0.",0,linux;raspberry-pi;serial-port,2025-01-04
79329137,"sorry, unimplemented thumb1 hardfloat vfp abi armlinuxgnueabihfgcc targeting armv6","example code people seem to require it no matter what the question is include ltstdio.hgt int main printfquothello, world!nquot return 0 the actual problem i have is i am trying to cross compile for armv6 raspberry pi zero v1 from ubuntu x86 64bit wsl. the project i am trying to compile is node.js, but i can reproduce the error with the simple file above. to set the architecture i have tried both marcharmv6fp my cpu does have a hw floating point compute and also the more specific mcpuarm1176jzfs. i am forcing these for compilation because otherwise the armlinuxgnueabihfgcc defaults to target armv7, which wont work on my raspberry. this is my test script for compiling. test.c refers to the code above. outpath.test.o cfilepath.test.c i dont know what this is, i got it from verbose output of my failing build rawfilepath.test.raw armlinuxgnueabihfgcc marcharmv6fp o outpath cfilepath pthread wall wextra wnounusedparameter wa,noexecstack wall o3 pthread wall o3 wnomissingfieldinitializers wnooldstyledeclaration o3 fnoomitframepointer mmd mf rawfilepath c this is my full output mecomputermntetestarmv6compile .compile.sh in file included from usrarmlinuxgnueabihfincludestdio.h976, from .test.c1 usrarmlinuxgnueabihfincludebitsstdio.h in function getchar usrarmlinuxgnueabihfincludebitsstdio.h481 sorry, unimplemented thumb1 hardfloat vfp abi 48 output of armlinuxgnueabihfgcc v mecomputermntetestarmv6compile armlinuxgnueabihfgcc v using builtin specs. collectgccarmlinuxgnueabihfgcc collectltowrapperusrlibexecgcccrossarmlinuxgnueabihf13ltowrapper target armlinuxgnueabihf configured with ..srcconfigure v withpkgversionubuntu 13.3.06ubuntu224.04 withbugurlfileusrsharedocgcc13readme.bugs enablelanguagesc,ada,c,go,d,fortran,objc,objc,m2 prefixusr withgccmajorversiononly programsuffix13 enableshared enablelinkerbuildid libexecdirusrlibexec withoutincludedgettext enablethreadsposix libdirusrlib enablenls withsysroot enableclocalegnu enablelibstdcxxdebug enablelibstdcxxtimeyes withdefaultlibstdcxxabinew enablelibstdcxxbacktrace enablegnuuniqueobject disablelibitm disablelibquadmath disablelibquadmathsupport enableplugin enabledefaultpie withsystemzlib enablelibphoboscheckingrelease withouttargetsystemzlib enablemultiarch disablesjljexceptions witharcharmv7afp withfloathard withmodethumb disablewerror enablecheckingrelease buildx8664linuxgnu hostx8664linuxgnu targetarmlinuxgnueabihf programprefixarmlinuxgnueabihf includedirusrarmlinuxgnueabihfinclude withbuildconfigbootstrapltolean enablelinkserialization2 thread model posix supported lto compression algorithms zlib zstd gcc version 13.3.0 ubuntu 13.3.06ubuntu224.04 i find it odd that the hw floating point was not supported by the compiler at all, since i have used gcc to target android arms with no issue. what is my mistake? how can i compile the sample above to run on armv6?","while there might be a way to get this to work, all i found is simply that the currently distributed armlinuxgnueabihfgcc simply isnt compiled with armv6 support. you can see that in the output of the v in my question too witharcharmv7afp no mention of armv6. so what you have to do is compile the compiler yourself. i found this repo without any additional work, this will give you gcc 8, either by downloading a release, or by compiling it yourself. to compile newer version, i edited the docker file. i entered the exact versions of binutils, gcc and glibc that were on my freshly installed raspberry zero. here is my edit, the rest is the same as the dockerfile in the repo this should match the one on your raspi env gccversion gcc12.2.0 env glibcversion glibc2.36 env binutilsversion binutils2.40 arg debianfrontendnoninteractive install some tools and compilers clean up run aptget update ampamp aptget install y rsync git wget gcc g cmake gdb gdbserver bzip2 texinfo ampamp aptget clean autoclean ampamp aptget autoremove y ampamp rm rf varlibaptlists use gcc 8 as the default run updatealternatives install usrbingcc gcc usrbingcc8 999 ampamp updatealternatives install usrbing g usrbing8 999 ampamp updatealternatives install usrbincc cc usrbingcc8 999 ampamp updatealternatives install usrbinc c usrbing8 999 after that, i was able to compile my own armlinuxgnueabihfgcc and friends form armv6 and ultimately compile node.js for the pi.",1,c;gcc;raspberry-pi;arm;cross-compiling,2025-01-04
79323953,python bluetooth receiving issues with ubluetooth and bleak between pico and pi 5,"im in desperate need of help for an issue with the bluetooth connection between a raspberry pi pico w using micropython and a raspberry pi 5 running os lite terminal. using full python and bluetooth low energy, i am trying to connect both to each other using the others mac address and characteristic uuid send a message from the pico over bluetooth receive the message on the pi 5 and print it on the repl. however, right now the pico says it has advertised, connected to pi 5, and sent the hello, world! message. however, on the pi 5 it says it has connected to the pico, but has it isnt receiving any messages. take a look. pico code ubluetooth import ubluetooth import time serviceuuid quotafc061de096a41c092a10c0ad71d5686quot charuuid quota2ef971e8c084bbf9f77ada7ca40c98equot irqcentralconnect 1 irqcentraldisconnect 2 class bleperipheral def initself self.ble ubluetooth.ble self.ble.activetrue self.ble.irqself.bleirq self.connected false self.connhandle none self.charhandle none def bleirqself, event, data if event irqcentralconnect self.connected true self.connhandle data0 printfquotcentral connected with handle self.connhandlequot self.sendmessagequothello worldquot elif event irqcentraldisconnect self.connected false self.connhandle none printquotcentral disconnectedquot self.startadvertising def startadvertisingself name quotpicowblequot namebytes name.encodequotutf8quot advdata bytearray0x02, 0x01, 0x06 bytearraylennamebytes 1, 0x09 namebytes self.ble.gapadvertise100000, advdata printquotstarted advertisingquot def registerservicesself service ubluetooth.uuidserviceuuid, ubluetooth.uuidcharuuid, ubluetooth.flagread ubluetooth.flagnotify, handles self.ble.gattsregisterservicesservice, self.charhandle handles00 printfquotregistered services with charhandle self.charhandlequot def sendmessageself, message if self.connected and self.connhandle is not none printfquotsending message messagequot try self.ble.gattsnotifyself.connhandle, self.charhandle, message.encodequotutf8quot printquotmessage sent successfullyquot except exception as e printfquoterror sending message equot else printquotnot connected, cannot send message.quot main program def main bleperipheral bleperipheral bleperipheral.registerservices bleperipheral.startadvertising try while true time.sleep1 except keyboardinterrupt printquotstopping ble...quot bleperipheral.ble.activefalse run the program main output registered services with charhandle 9 started advertising central connected with handle 64 sending message hello world message sent successfully central disconnected raspberry pi 5 code bleak import asyncio from bleak import bleakclient picomac quot28cdc10b6deaquot replace with your pico ws mac address charuuid quota2ef971e8c084bbf9f77ada7ca40c98equot async def main def notificationhandlersender, data quotquotquotcallback for handling incoming notifications.quotquotquot printfquotreceived notification from sender data.decodeutf8quot async with bleakclientpicomac as client printquotconnected to pico wquot check if the characteristic exists and supports notifications service await client.getservices characteristicfound false for service in service for char in service.characteristics if char.uuid charuuid characteristicfound true printfquotcharacteristic charuuid found and supports char.propertiesquot if not characteristicfound printfquotcharacteristic charuuid not found. please check the uuid.quot return subscribe to notifications printquotsubscribing to notifications...quot await client.startnotifycharuuid, notificationhandler keep connection alive and listen for notifications try printquotwaiting for notifications...quot await asyncio.sleep30 wait for 30 seconds to receive notifications except asyncio.cancellederror printquotnotification wait canceled.quot unsubscribe from notifications printquotunsubscribing from notifications...quot await client.stopnotifycharuuid printquotdisconnected from pico wquot asyncio.runmain output connected to pico w characteristic a2ef971e8c084bbf9f77ada7ca40c98e found and supports read, notify subscribing to notifications... waiting for notifications... unsubscribing from notifications... disconnected from pico w as you can see, the pi 5 is unable to receive the message, even though the pico says it has already sent it. i know that they are able to establish a connection using the mac address of the pico w, however even when the pico says it sent a message, the message hasnt been received on the pi 5. thanks.",,0,python;raspberry-pi;bluetooth-lowenergy,2025-01-02
79321644,how to map uid and gid in podmancompose?,"ive been for a couple of days trying to run multiple container on my nvme raspberry pi 5 running rootless podman. i use systemd to control my services. i have 3 podmancompose files, from which the last here nextcloud in my case is kinda working, but prevents me from accessing the files. my compose file services app image docker.ionextcloudlatest restart always containername nextcloud usernsmode keepiduiduid,gidgid securityopt quotlabeldisabledquot ports 866680 volumes quothomeuserdatanextcloudhtmlvarwwwhtmlquot quothomeuserdatanextclouddatavarwwwhtmldataquot environment nextcloudadminusernextcloudadminuser nextcloudadminpasswordnextcloudadminpassword mysqlhost ltsqlservergt mysqldatabase nextcloud mysqluser nextcloud mysqlpassword nextcloudmysqlpassword nextclouddatadir varwwwhtmldata trustedproxies ltmyproxygt nextcloudtrusteddomains ltmydomaingt looking at the directories, i can see it becomes the following ids assigned. drwxrxrx 16 100032 100032 4.0k jan 1 0158 html drwxrxrx 2 100032 100032 4.0k jan 1 0158 data ive found another post here mapping of user id39s when i try to follow i receive the following mapping datanextcloud echo uid 33 i want to try if i can use these ids to create a file with my ownership. podman run rm v .htmlvarwwwhtmlz user uidgid userns keepiduiduid,gidgid docker.ionextcloudlatest bash c quottouch varwwwhtmltest chmod 600 varwwwhtmltestquot ok userpinode01datanextcloud ll htmltest rw 1 user odin 0 jan 1 1336 htmltest when i now want to set these in my compose file, i receive a permission denied error. app image docker.ionextcloudlatest restart always containername nextcloud user 3333 userns keepiduid33,gid33 securityopt result podmancompose f ....nextcloudcompose.yml podmanargsquotlog level debugquot up forcerecreate removeorphans debug netavarkcommandssetup quotsetup completequot debu0001 rootlessport timequot20250101t1423040100quot levelinfo msgquotstarting parent driverquot timequot20250101t1423040100quot levelinfo msgquotopaquemapbuiltin.readypipepathrunuser1000libpodtmprootlessport2155673901.bpready.pipe builtin.socketpathrunuser1000libpodtmprootlessport2155673901.bp.sockquot debu0001 rootlessport timequot20250101t1423040100quot levelinfo msgquotstarting child driver in child netns quotprocselfexequot rootlessportchildquot debu0001 rootlessport timequot20250101t1423040100quot levelinfo msgquotwaiting for initcompletequot debu0001 rootlessport timequot20250101t1423040100quot levelinfo msgquotinitcomplete is closed parent and child established the communication channelquot debu0001 rootlessport timequot20250101t1423040100quot levelinfo msgquotexposing ports 80 8666 1 tcpquot debu0001 rootlessport timequot20250101t1423040100quot levelinfo msgready debu0001 rootlessport is ready debu0001 adding nameservers from network status of quot10.89.0.1quot debu0001 adding search domains from network status of quotdns.podmanquot debu0001 modifying container 46648fcdcebdd9aeb58e54f57d66622d400b7cd027673bc79e60e3bbe5bc0bdd etcpasswd debu0001 modifying container 46648fcdcebdd9aeb58e54f57d66622d400b7cd027673bc79e60e3bbe5bc0bdd etcgroup debu0001 etcsystemfips does not exist on host, not mounting fips mode subscription debu0001 setting cgroups for container 46648fcdcebdd9aeb58e54f57d66622d400b7cd027673bc79e60e3bbe5bc0bdd to user.slicelibpod46648fcdcebdd9aeb58e54f57d66622d400b7cd027673bc79e60e3bbe5bc0bdd debu0001 reading hooks from usrsharecontainersocihooks.d debu0001 workdir quotvarwwwhtmlquot resolved to a volume or mount debu0001 created oci spec for contaodininer 46648fcdcebdd9aeb58e54f57d66622d400b7cd027673bc79e60e3bbe5bc0bdd at homeodin.localsharecontainersstoragevfscontainers46648fcdcebdd9aeb58e54f57d66622d400b7cd027673bc79e60e3bbe5bc0bdduserdataconfig.json debu0001 usrbinconmon messages will be logged to syslog debu0001 running conmon usrbinconmon argsquotapiversion 1 c 46648fcdcebdd9aeb58e54f57d66622d400b7cd027673bc79e60e3bbe5bc0bdd u 46648fcdcebdd9aeb58e54f57d66622d400b7cd027673bc79e60e3bbe5bc0bdd r usrbincrun b homeuser.localsharecontainersstoragevfscontainers46648fcdcebdd9aeb58e54f57d66622d400b7cd027673bc79e60e3bbe5bc0bdduserdata p runuser1000containersvfscontainers46648fcdcebdd9aeb58e54f57d66622d400b7cd027673bc79e60e3bbe5bc0bdduserdatapidfile n nextcloud exitdir runuser1000libpodtmpexits fullattach s l journald loglevel debug syslog conmonpidfile runuser1000containersvfscontainers46648fcdcebdd9aeb58e54f57d66622d400b7cd027673bc79e60e3bbe5bc0bdduserdataconmon.pid exitcommand usrbinpodman exitcommandarg root exitcommandarg homeodin.localsharecontainersstorage exitcommandarg runroot exitcommandarg runuser1000containers exitcommandarg loglevel exitcommandarg debug exitcommandarg cgroupmanager exitcommandarg systemd exitcommandarg tmpdir exitcommandarg runuser1000libpodtmp exitcommandarg networkconfigdir exitcommandarg exitcommandarg networkbackend exitcommandarg netavark exitcommandarg volumepath exitcommandarg homeodin.localsharecontainersstoragevolumes exitcommandarg runtime exitcommandarg crun exitcommandarg storagedriver exitcommandarg vfs exitcommandarg eventsbackend exitcommandarg journald exitcommandarg syslog exitcommandarg container exitcommandarg cleanup exitcommandarg 46648fcdcebdd9aeb58e54f57d66622d400b7cd027673bc79e60e3bbe5bc0bddquot conmond failed to write to procselfoomscoreadj permission denied info0001 running conmon under slice user.slice and unitname libpodconmon46648fcdcebdd9aeb58e54f57d66622d400b7cd027673bc79e60e3bbe5bc0bdd.scope debu0001 received 1193410 info0001 got conmon pid as 1193408 debu0001 created container 46648fcdcebdd9aeb58e54f57d66622d400b7cd027673bc79e60e3bbe5bc0bdd in oci runtime debu0001 attaching to container 46648fcdcebdd9aeb58e54f57d66622d400b7cd027673bc79e60e3bbe5bc0bdd debu0001 starting container 46648fcdcebdd9aeb58e54f57d66622d400b7cd027673bc79e60e3bbe5bc0bdd with command entrypoint.sh apache2foreground debu0001 started container 46648fcdcebdd9aeb58e54f57d66622d400b7cd027673bc79e60e3bbe5bc0bdd debu0001 notify sent successfully info0001 received shutdown.stop, terminating! pid1193321 debu0001 enabling signal proxying entrypoint.sh 137 cannot create varwwwhtmlnextcloudinitsync.lock permission denied debu0021 exceeded conmon timeout waiting for container 46648fcdcebdd9aeb58e54f57d66622d400b7cd027673bc79e60e3bbe5bc0bdd to exit debu0021 called start.persistentpostrunepodman start loglevel debug a nextcloud exit code 2 the used id inside that container seems to be wwwdata which makes sense for apache unable to access files. am i missing here something?",,1,raspberry-pi;podman;nextcloud;rootless,2025-01-01
79321618,access files from ramdisk from dockerphp,"im running a little local web page on my raspberry pi in a docker environment with portainer. the image is php8apache. the index.php and all files are stored in datadockervolumesmywebserverwwwhtml which is mapped via bind to varwwwhtml in the container. this works fine. the index.php includes images which are frequently updated by a cron job running outside the container, in native raspi os. this works fine as well after the cronjob executed and new images are found in datadockervolumesmywebserverwwwhtml a browser update will show the new image. the command in the index.php is as follows ltimg srcquot.graph.pngquot altquotquot stylequotwidth80height80quotgt now id like to move those nonstatic files to a ram disk which is mounted to mntramdisk. i added a new volume to the portainer config mntramdisk in the container is mapped to mntramdisk on the host via bind. i also changed the php file as follows ltimg srcquotmntramdiskgraph.pngquot altquotquot stylequotwidth80height80quotgt for some reason this does not work. no image is shown. i also attempted to add a symlink from datadockervolumesmywebserverwwwhtmlgraph.png to mntramdiskgraph.png but this does not work as well. my understanding is that mntramdisk is accessible from within the docker container. but why cant the index.php access information from that folder? could anybody show, where my doing is quirky? best regards and thanks in advance",it looks like you are trying to see an image in your browser using the absolute path from your filesystem. so lets say your url is then the image your are loading with ltimg srcquotmntramdiskgraph.pngquot altquotquot stylequotwidth80height80quotgt will be loaded from which is most likely incorrect. you should ensure your ramdisk is mounted in your datadockervolumesmywebserverwwwhtml folder or that you have a symlink and that symlinks are enabled in your web server. try running your container with something like this docker run d v datadockervolumesmywebserverwwwhtmlvarwwwhtml v mntramdiskvarwwwhtmlimages name mywebserver yourimagename and then load your image with ltimg srcquotimagesgraph.pngquot altquotquot stylequotwidth80height80quotgt something similar could be done with a compose file if you are using docker compose.,0,php;docker;raspberry-pi;volumes;ramdisk,2025-01-01
79321146,"gstreamer kvssink is running without error, but no media is making it to kinesis video streams","im trying to use gstreamer on the raspberry pi 5 to stream video from the pi camera 3 to kinesis video streams. this is the pipeline im using gstdebug3 gstlaunch1.0 libcamerasrc ! videoconvert ! videoxraw,width640,height480,framerate301,formati420 ! x264enc ! h264parse ! videoxh264,streamformatavc,alignmentau,profilebaseline ! kvssink streamnamequotdemostreamquot accesskeyquotsnipquot secretkeyquotsnipquot awsregionquotapsoutheast2quot it appears to run without error setting pipeline to paused ... info 01012025 041246886.694 gmt logger config being used ..kvslogconfiguration info 01012025 041246886.821 gmt user agent string awssdkkvscppclient3.4.2 info 01012025 041246887.701 gmt createkinesisvideoclient creating kinesis video client info 01012025 041246887.781 gmt heapinitialize initializing native heap with limit size 134217728, spill ratio 0 and flags 0x00000001 info 01012025 041246887.832 gmt heapinitialize creating aiv heap. info 01012025 041246887.898 gmt heapinitialize heap is initialized ok debug 01012025 041246888.013 gmt getsecuritytokenhandler invoked debug 01012025 041246888.062 gmt refreshing credentials. force refreshing 0 now time is 1735704766888059245 expiration 0 info 01012025 041246888.110 gmt createdeviceresultevent create device result event. debug 01012025 041246888.130 gmt clientreadyhandler invoked info 01012025 041246888.224 gmt try creating stream for demostream info 01012025 041246888.249 gmt creating kinesis video stream demostream info 01012025 041246888.265 gmt createkinesisvideostream creating kinesis video stream. info 01012025 041246888.317 gmt logstreaminfo sdk version 7acf272672ced72bbbad85fe39d366deca57280e debug 01012025 041246888.333 gmt logstreaminfo kinesis video stream info debug 01012025 041246888.345 gmt logstreaminfo stream name demostream debug 01012025 041246888.356 gmt logstreaminfo streaming type streamingtyperealtime debug 01012025 041246888.364 gmt logstreaminfo content type videoh264 debug 01012025 041246888.371 gmt logstreaminfo max latency 100ns 600000000 debug 01012025 041246888.378 gmt logstreaminfo fragment duration 100ns 20000000 debug 01012025 041246888.385 gmt logstreaminfo key frame fragmentation yes debug 01012025 041246888.392 gmt logstreaminfo use frame timecodes yes debug 01012025 041246888.399 gmt logstreaminfo absolute frame timecodes yes debug 01012025 041246888.406 gmt logstreaminfo nal adaptation flags 0 debug 01012025 041246888.413 gmt logstreaminfo average bandwidth bps 4194304 debug 01012025 041246888.420 gmt logstreaminfo framerate 25 debug 01012025 041246888.426 gmt logstreaminfo buffer duration 100ns 1200000000 debug 01012025 041246888.433 gmt logstreaminfo replay duration 100ns 400000000 debug 01012025 041246888.440 gmt logstreaminfo connection staleness duration 100ns 600000000 debug 01012025 041246888.448 gmt logstreaminfo store pressure policy 1 debug 01012025 041246888.454 gmt logstreaminfo view overflow policy 1 debug 01012025 041246888.461 gmt logstreaminfo allow stream creation yes debug 01012025 041246888.468 gmt logstreaminfo segment uuid null debug 01012025 041246888.475 gmt logstreaminfo frame ordering mode 0 debug 01012025 041246888.482 gmt logstreaminfo track list debug 01012025 041246888.488 gmt logstreaminfo track id 1 debug 01012025 041246888.495 gmt logstreaminfo track name kinesisvideo debug 01012025 041246888.502 gmt logstreaminfo codec id vmpeg4isoavc debug 01012025 041246888.509 gmt logstreaminfo track type trackinfotypevideo debug 01012025 041246888.516 gmt logstreaminfo track cpd null debug 01012025 041246888.570 gmt setrequestheader appending header to request useragent gt awssdkkvscppclient3.4.21.5.3 gcc12.2.0 linux6.6.62rptrpi2712 aarch64 cppsdk debug 01012025 041246888.658 gmt setrequestheader appending header to request host gt kinesisvideo.apsoutheast2.amazonaws.comdescribestream debug 01012025 041246888.692 gmt setrequestheader appending header to request xamzdate gt 20250101t041246z debug 01012025 041246888.707 gmt setrequestheader appending header to request contenttype gt applicationjson debug 01012025 041246888.727 gmt setrequestheader appending header to request contentlength gt 32 debug 01012025 041246888.758 gmt setrequestheader appending header to request authorization gt aws4hmacsha256 credentialsnip20250101apsoutheast2kinesisvideoaws4request, signedheadershostuseragentxamzdate, signaturesnip info 01012025 041247153.713 gmt writeheadercallback requestid 47d9e80ce3b147769588f317cfa67c69 debug 01012025 041247153.807 gmt describestreamcurlhandler demostream describestream api response quotstreaminfoquotquotcreationtimequot1.735442939457e9,quotdataretentioninhoursquot24,quotdevicenamequotnull,quotingestionconfigurationquotnull,quotkmskeyidquotquotarnawskmsapsoutheast2429276963313aliasawskinesisvideoquot,quotmediatypequotnull,quotstatusquotquotactivequot,quotstreamarnquotquotarnawskinesisvideoapsoutheast2429276963313streamdemostream1735442939457quot,quotstreamnamequotquotdemostreamquot,quotversionquotquotfhh7kjxktqslfxv123cuquot info 01012025 041247154.961 gmt describestreamresultevent describe stream result event. warn 01012025 041247155.009 gmt describestreamresult retention period returned from the describestream call doesnt match the one specified in the streaminfo warn 01012025 041247155.021 gmt describestreamresult content type returned from the describestreamnull call doesnt match the one specified in the streaminfovideoh264 warn 01012025 041247155.031 gmt describestreamresult demostream retention period returned from the describestream call doesnt match the one specified in the streaminfo warn 01012025 041247155.040 gmt describestreamresult demostream content type returned from the describestream call doesnt match the one specified in the streaminfo debug 01012025 041247155.389 gmt setrequestheader appending header to request useragent gt awssdkkvscppclient3.4.21.5.3 gcc12.2.0 linux6.6.62rptrpi2712 aarch64 cppsdk debug 01012025 041247155.477 gmt setrequestheader appending header to request host gt kinesisvideo.apsoutheast2.amazonaws.comgetdataendpoint debug 01012025 041247155.505 gmt setrequestheader appending header to request xamzdate gt 20250101t041247z debug 01012025 041247155.517 gmt setrequestheader appending header to request contenttype gt applicationjson debug 01012025 041247155.542 gmt setrequestheader appending header to request contentlength gt 57 debug 01012025 041247155.581 gmt setrequestheader appending header to request authorization gt aws4hmacsha256 credentialsnip20250101apsoutheast2kinesisvideoaws4request, signedheadershostuseragentxamzdate, signaturesnip info 01012025 041247412.504 gmt writeheadercallback requestid 741214aab61b4d86b4c13a94ff6cac12 debug 01012025 041247412.587 gmt getstreamingendpointcurlhandler demostream getstreamingendpoint api response quotdataendpointquotquot info 01012025 041247413.802 gmt getstreamingendpointresultevent get streaming endpoint result event. debug 01012025 041247413.854 gmt getstreamingtokenhandler invoked debug 01012025 041247413.868 gmt refreshing credentials. force refreshing 1 now time is 1735704767413865404 expiration 18446744073709551615 info 01012025 041247413.892 gmt getstreamingtokenresultevent get streaming token result event. debug 01012025 041247413.910 gmt streamreadyhandler invoked stream is ready 1240510.148537392 95171 info camera cameramanager.cpp325 libcamera v0.3.2991230f78d 1240510.160255933 95187 info rpi pisp.cpp695 libpisp version v1.0.7 28196ed6edcf 29082024 163332 1240510.175175149 95187 info rpi pisp.cpp1154 registered camera baseaxipcie120000rp1i2c88000imx7081a to cfe device devmedia0 and isp device devmedia1 using pisp variant bcm2712c0 pipeline is live and does not need preroll ... 00000.615367660 95171 0x55564f7a7120 fixme default gstutils.c4031gstpadcreatestreamidinternalltlibcamerasrc0srcgt creating random streamid, consider implementing a deterministic way of creating a streamid pipeline is prerolled ... setting pipeline to playing ... 00000.616094825 95171 0x55564fb07f80 warn bin gstbin.c2769gstbindolatencyfuncltpipeline0gt did not really configure latency of 00000.000000000 new clock gstsystemclock 1240510.213893686 95190 info camera camera.cpp1197 configuring streams 0 640x480yuv420 1240510.214061426 95187 info rpi pisp.cpp1450 sensor baseaxipcie120000rp1i2c88000imx7081a selected sensor format 1536x864sbggr101x10 selected cfe format 1536x864pc1b redistribute latency... 00000.661563435 95171 0x55564fb07f80 warn bin gstbin.c2769gstbindolatencyfuncltpipeline0gt did not really configure latency of 00001.533333334 00000.4 999999. in the kvs console, i dont see any media in the playback window, also, all metrics are showing blank other than a few hits to getdashstreamingsessionurl some other points i followed the kinesis producer sdk readme, to install the sdk and gstreamer kvssink plugin, that is installed ok and i can verify using gstinspect1.0 kvssink the samples in the sdk dont work on the pi, because they use v4l2 but the pi needs to use libcamerasrc i have googled, cant find much. chatgpt isnt providing much help with this.",,0,raspberry-pi;video-streaming;gstreamer;amazon-kinesis-video-streams,2025-01-01
79318435,build.gradle file is showing null in small paranthesis and nothing happens when i click on quotsync all gradle projectsquot,"i installed intellij idea on my raspberry pi 5 using piapps. build.gradle file is showing null in small parenthesis and nothing happens when i click on quotsync all gradle projectsquot. i reinstalled intellij but still facing the same issue. how can i fix it? second issue when i try to open a terminal in intellij, im getting below error cannot open local failed to start binbash, rcfile, optideaicpluginsterminalshellintegrationsbashbashintegration.bash, i in homepiideaprojectsgrpcjavacourse, columns260, rows14, envspathusrlibjvmtemurin17jdkarm64binhomepi.localbinusrlocalsbinusrlocalbinusrsbinusrbinsbinbinusrlocalgamesusrgames, xauthorityhomepi.xauthority, xdgdatadirsusrlocalshareusrshareraspiuioverridesusrshareusrsharegdmvarlibmenuxdg, gdmsessionlxdepilabwc, dbussessionbusaddressunixpathrunuser1000bus, wlrxwaylandusrbinxwaylandxauth, labwcpid939, intellijcommandhistfilehomepi.cachejetbrainsideaic2024.3terminalhistorygrpcjavacoursehistory1, xdgcurrentdesktoplabwcwlroots, sshagentpid1034, lognamepi, pwdoptideaicbin, xkbdefaultoptions, javaawtwmnonreparenting1, xcursorthemepixflat, languageenus.utf8, wlrdrmnoscanoutbg1, xkbdefaultmodelpc105, shellbinbash, labwcfallbackoutputnoop1, termsessionide979f3002b7c47a1a34d1d491d0a6a1e, lcallenus.utf8, xdgsessionpathorgfreedesktopdisplaymanagersession0, salusevclplugingtk3, textdomainlinuxpam, xdgsessiondesktoplxdepilabwc, shlvl0, javahomeusrlibjvmtemurin17jdkarm64, termxterm256color, langenus.utf8, xdgseatpathorgfreedesktopdisplaymanagerseat0, xdgsessionid1, xdgsessiontypewayland, display0, xkbdefaultvariant, waylanddisplaywayland0, xkbdefaultlayoutus, xdgsessionclassuser, optideaicbinidea.sh, xcursorsize24, xdggreeterdatadirvarliblightdmdatapi, gpgagentinforunuser1000gnupgs.gpgagent01, desktopsessionlxdepilabwc, userpi, desktopstartupid57873c29cde38c2d53ea6f8f85ccabc2, xdgmenuprefixlxdepi, terminalemulatorjetbrainsjediterm, sshauthsocktmpsshxxxxxxwmu0tcagent.939, xdgseatseat0, qtwaylanddisablewindowdecoration1, qtqpaplatformthemeqt5ct, noatbridge1, xdgvtnr7, xdgruntimedirrunuser1000, homehomepi see ide log help show log in file manager for the details.",,0,intellij-idea;raspberry-pi,2024-12-30
79314619,"vs code, adding a source file to a c language project causes an error","i am using the raspberry pi pico extension in vs code, running on a pi4. i am playing with the examples provided in the raspberrypipicoexamples repository on github... for example the hellouart example. if i add a file to the workspace folder and name it blahblah.c, i immediately get a message saying quotblahblah.cquot not found in quotworkspacefolderbuildcompilecommands.jsonquot. includepath from ccppproperties.json in folder hellouart will be used for this file instead. the way i have found to get rid of this error is to add a blahblah.h file, include it in the hellouart.c file, then close and reopen the vs code window. i assume there is some more regular way to tell vs code that i am adding a source file, but i have not been able to find out how. references to appropriate documentation will be appreciated.",,0,c;visual-studio-code;raspberry-pi;raspberry-pi-pico,2024-12-28
79307244,ffmpeg h264v4l2m2m encoder changing aspect ratio from 169 to 11 with black bars,"when switching from libx264 to h264v4l2m2m encoder in ffmpeg for youtube streaming, the output videos aspect ratio changes from 169 to 11 with black bars on the sides, despite keeping the same resolution settings. original working command with libx264 ffmpeg f v4l2 inputformat yuyv422 videosize 1280x720 framerate 30 i devvideo0 f lavfi i anullsrcr44100clstereo cv libx264 preset ultrafast tune zerolatency bv 2500k ca aac ba 128k ar 44100 f flv rtmpa.rtmp.youtube.comlive2streamkey when i replaced libx264 with h264v4lm2m, it always produce a square resolution, and it automatically adds black bars to the top and the bottom of the sides of the camera. i currently using a rasberry pi 4 model b, with a webcam that i believe supports the 169 ratio ive verified using v4l2ctl listformatsext d devvideo0 command ive tried the follows adding aspect 169 parameter in the ffmpeg command adding video filters such as vf quotscale1280720forceoriginalaspectratiodecrease,pad1280720owiw2ohih2,setsar1quot none of these give me the correct aspect ratio. how can i make the h264v4l2m2m encoder maintain the original 169 aspect ratio without adding black bars? is this a known limitation of the encoder, or am i missing some required parameters?",looks like your input only gives a 11 aspect ratio with a square size range from 16 up 16376. coincidentally 16 is the smallest picture size for h264 encodings eg it is one macroblock size. possible solution extract your expected size from a larger quotnearestquot size. for example if you want 1280x720 then... first grab at 1280x1280 then also crop down to the smaller height by using a video filter vf quotcrop1280720quot. try as ffmpeg f v4l2 inputformat yuyv422 videosize 1280x1280 framerate 30 i devvideo0 f lavfi i anullsrcr44100clstereo cv libx264 vf quotcrop1280720quot preset ultrafast tune zerolatency bv 2500k ca aac ba 128k ar 44100 f flv rtmpa.rtmp.youtube.comlive2streamkey,1,ffmpeg;raspberry-pi;video-streaming;h.264,2024-12-25
79302349,unable to connect to kubernetes cluster via kubectl due to tls certificate issue x509 certificate signed by unknown authority,"i am trying to connect to my kubernetes cluster k3s running on a raspberry pi using kubectl from my windows machine. i have already verified that the token is valid, and i have retrieved the ca.crt file used by the cluster to configure the local machine. however, i am encountering the following error when running kubectl get nodes e1223 104509.325814 14240 memcache.go265 couldnt get current server api group list get quot tls failed to verify certificate x509 certificate signed by unknown authority heres the scenario k3s cluster is running on a raspberry pi with ip 192.168.0.101. api server is exposed via cloudflare at the windows machine is behind a corporate firewall and uses ca.crt from the cluster for authentication. ive added the ca.crt file to the local machine and configured it in the kubeconfig file under the certificateauthority setting. things ive tried so far verified that the certificate is valid and not expired. used the correct ca.crt file in the kubeconfig. tried connecting via curl curl cacert .ca.crt but i received the error curl 60 schannel certgetcertificatechain trust error certtrustisuntrustedroot checked if the port 6443 is open, and the firewall settings on the raspberry pi allow connections. ufw status status active to action from 6443 allow anywhere 22 allow anywhere 32581tcp allow anywhere 5432tcp allow anywhere 5432 allow 192.168.0.105 6443 v6 allow anywhere v6 22 v6 allow anywhere v6 32581tcp v6 allow anywhere v6 5432tcp v6 allow anywhere v6 additional information when i run telnet cluster.example.com 6443 from the windows machine, i get connecting to cluster.example.com...could not open connection to the host, on port 6443 connect failed i have access to the raspberry pi and the k3s server via ssh. error messages kubectl throws the x509 certificate signed by unknown authority error. curl throws the untrusted root certificate error. questions how can i resolve the certificate trust issue between my windows machine and the k3s server? how can i get the correct and full certificate chain to use in kubectl? is there an issue with cloudflares ssl settings, or do i need to update my certificates? any help or guidance would be greatly appreciated! the flow is depicted in the diagram below.",,0,kubernetes;raspberry-pi;cloudflare;k3s,2024-12-23
