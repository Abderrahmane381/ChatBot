ID,Title,Question,Top Answers,Score,Tags,Date
69814203,secure video streaming limit by ip or device,"as part of a student project, i am currently setting up device to device video streaming. i am using two raspberry pi 3 with the camera modules and am adding face tracking via opencv all in python3. i want to stream live video captured by raspberry pi x to raspberry pi y and vice versa. the raspberries will not be in the same buildingnetwork. what i dont want, is anyone being able to stream the video on a different device. as i am new to the whole streaming and security idea, i was wondering if there is some way of adding security to live streams by limiting access by the device. say, the video of raspberry pi x can only be viewed by raspberry pi y. is this possible? if not, whats the next most secure option limiting by ip maybe. i am also not fixed to using raspberries for this project, if there is a different solution id love to hear about it. thanks for any ideas.","youre not the first person to do something like this. a raspberry pi is an excellent choice for the project and you should be able to find plenty of guides online to doing something like this. youll want to ensure you enable a strong username and password within whatever library you use.if you want to protect the live stream with a username and password, you should enable this streamauthmethod 2 streamauthentication someusernamesomepassword",0,opencv;security;video;raspberry-pi;streaming,2021-11-02
69203511,is secure if i always send the same message?,"i set up a raspberry pi to communicate with balena.io. in the balena dashboard, i activated the public url for my device. the raspberry pi is running nodejs and listens on port 80 for a post request. the raspberrys only job is to open a door. now, whenever i tell the raspberry pi to open the door, i put task quotopenquot in the body of the request. it is very important that nobody other than me can open the door via sending this request to the raspberry pi. my first idea to protect the door from being opened is to include a username and password field in the request like so task quotopenquot, username quotmoritzquot, password quot1234quot however, some sources depict that this approach might not be ideal as the login credentials may be leaked. my question if someone would not know the username and password could this person not just take whatever was sent to the raspberry and just send it again? since i always send the same object task quotopenquot , this is how someone other than me could open the door, right? or am i missing something here? has protection in place to prevent something like this from happening? how can the raspberry pi make sure the request to open the door was sent from my server and not someone elses computer? i appreciate your help, thank you for your time.",,0,security;https;raspberry-pi;iot;balena,2021-09-16
67629023,openvas setup won39t connect to dl.greenbone.net,"im a beginner here, im using a raspberry pi4 running raspian os. im trying to run sudo openvassetup but it just fails to connect to dl.greenbone.net over and over again at least 20 times before finishing with errors. can anyone tell me why this is? ill paste code below 20210520 190056 try 3 connecting to dl.greenbone.net dl.greenbone.net2a011302000127d180... failed no route to host. connecting to dl.greenbone.net dl.greenbone.net89.146.224.5880... failed connection timed out. retrying. 20210520 190315 try 4 connecting to dl.greenbone.net dl.greenbone.net2a011302000127d180... failed no route to host. connecting to dl.greenbone.net dl.greenbone.net89.146.224.5880... failed connection timed out. retrying.",the server has been shut down more then a year ago. the greenbone openvas version you are using a very very outdated and cant be used anymore. maybe updating raspbian helps. otherwise you can try building it from source with,1,security;raspberry-pi;raspbian;penetration-testing;openvas,2021-05-21
67027092,recommended strategies for using github pats on rpi,"rpi.stackexchange found this question ot for their site and recommended here. im not convinced but will give it a go. the switch to personal access tokens on github is causing me some serious headaches when it comes to programming and development on the rpi. the issue is how to efficiently and securely provide the pat to a new rpi. on a fresh install, i first run git config global credential.helper store and then pull from an undisclosed source say, for example, a nas on my local network a copy of .gitcredentials that contains in plaintext my token. this method is reasonably efficient im only required to access the nas but is clearly not secure. its also not appropriate for a public setting for example, im fine doing this with my hobby projects at home on my local network, but less so in my research lab were students are working on their own rpis and need to perform similar tasks. are there recommended strategies for efficient pushpull github access that also make a reasonable attempt defined here as better than plaintext at securing the pat?","there are a couple of options you can use to grant access to a repository. youve mentioned personal access tokens, but if you only need access to one repository, youre probably better off using a deploy key with ssh. that would grant either readonly or readwrite access to a single repository, and avoids some of the risks to the rest of your repositories from that single machine being compromised. you could do this by having the raspberry pi generate a key, grabbing the public part over the network, and adding it as a deploy key using the api to which you will authenticate with a personal access token on your local machine. this would be secure only the raspberry pi would have the secret portion, and you wouldnt need to share any secrets over the network. if youre logging into the raspberry pi over ssh, then you could also just use your own ssh key and forward the agent with ssh a, and then you can push and pull without needing to actually copy any credentials. this is also secure. if your problem is how to secure access to a private repository when the device is open to public access, then there is no secure way to do that, as im sure you had guessed. its unclear to me what you were doing before, but if it was just that you were typing your password when prompted, then you could still do that by copying and pasting a pat from a password manager, but its probably just easier to use an ssh key in that case. || your problem is twofolded how not to store your key in plain text and how to transfer it safely to the other devices. there are several ways to encrypt a text file, e.g. with openssl. to transfer your key from one device to another, assuming you have access to an internet connection on your rpi, you can use a secure transfer program like magic wormhole. both solutions require a passage involving communicating the passwords, that can be made via another communication channel and should be made safely e.g., verbally communicating the openssl password.",0,git;security;github;raspberry-pi,2021-04-09
63937752,understanding permissions for wordpress,"i am currently trying to set up a wordpress site on my own personal raspberry pi server, which ill eventually put online. ive been doing my best to try and understand the security of all the wordpress files, but i am unsure if i have been getting it. should my user pi be given permission to addedit the wordpress files? the tutorial explicitly had me give all the permissions to the apache user, which i think i understand but i cannot change the actual permission numbers on any of the filesdirectories. i tried adding myself to the apache users group, but i still could not addedit files. i originally tried to add a php.ini file using the command line and sudo, is that the only way the quotpiquot user should be allowed to interact with it? this seems pretty cumbersome to me, and i cannot add anything more than simple text files to it, so i am unsure how i would add a theme this whole problem arose because a theme i want to add is above the upload size limit of 2mb, which i have been trying to chnage as well with no luck through php.ini or .htaccess. any overall explanation of permissions and what permissions i should be giving the quotpiquot user or how to do so would be greatly appreciated. also i chnaged the default password for pi and plan to change the username before making it live. thank you","wordpress is basically designed to run on a server where a shell user such as pi never changes files. everything about adding updating editing files is done by the wordpress code itself, when you the admin install plugins, upload media, edit theme stylesheets and the like. thats why the files are owned by apache. lots of wordpress instances run on shared servers, so security is enhanced by this convention. but you want your shell user to fiddle about with your files. the easiest way to do that is with the apache user. you can become that user with sudo su apache.",1,php;wordpress;security;raspberry-pi,2020-09-17
62162817,raspberry pi as a web server security,im currently making a small hobby project where i use a raspberry pi zero to control a set of rgb leds. ive got a basic python app so far that is built on flask that allows me to set up a web server so that the led colours can be set remotely. my main concern is that im selftaught as far as programming goes and i dont know squat about security. the plan is essentially to be sending any port 80 traffic to the raspberry pi on my home network and give friends my ip. i may eventually get a domain name to simplify things. should i have any security concerns when i set this up live fulltime? i dont know if its possible to access my private network via the raspberry pi or if im just being paranoid.,"you can try putting your raspberry pi on separate vlan and put your home devices on another vlan. please note you need a router which supports vlan and configure it in a way that the both vlans cant talk to each other also, try using for your webserver and dont run the webserver process as root user. if you want to go more crazy you can put a firewall. these are generic suggestions for hardening the security for any web app. || if your experimenting and learning... might be a great opportunity to try out something called wireguard, if you dont have the network equipment to support vlans. you and your friends can directly connect to the pi, add some appropriate iptables firewall, and you can restrict them just to that machine. if you want learn more about secure coding, there are tons of resources. maybe even get you and your friends to capture the pi .... and learn from each other! what ever you do , keeping hacking away, and keep having fun....",2,python;security;flask;raspberry-pi,2020-06-03
61724751,create a unique 802.11 authentication method,"please any help would be greatly appreciated. heres what i want to do i want to authenticate a station with an ap using my own authentication method i.e. not using wpa or wep. then further create unique association terms. but i do not know how to create an authentication method or what specific files in the device to manipulate. i would like to do this on two raspberry pi 3b one as an access point and the other as the station. also, if there is a way to simulate this on matlab or any other means. i am very interested in both. thanks in advance. its research and the clients will be designed to authenticate via the same method. as to what ive tried, i havent been able to find any sources that provide meaningful information on either how to create the files needed to develop an authentication method on both the clients and the ap, or how to manipulate the files for wpa in packages like hostapd and wpasupplicant. i am trying to prove security. the ap offers a set of new services, so the station sends a servicerequest frame to the ap. ap responds with a serviceresponse frame subset of services offered. station responds with an association request frame containing a certificate. ap validates the certificate with the database, under subset clause. also, i would like to set the subtype and type bits, so it doesnt interfere with bits already in use. its a fourstep handshake. i hope thats clearer.",,0,security;authentication;raspberry-pi;wifi,2020-05-11
60715774,secure way to access db on raspberry pi outside home network,"i have a postgres database installed on my raspberry pi that works fine locally within my home network. i would like to be able to access this from outside my home network. ive done some research and from what ive seen port forwarding on my router or using a service like localtunnel or ngrok seem like viable solutions. however, my question is if these open up any security risks on my home network? if not, then great i can move forward with setting this up i was leaning towards port forwarding on my router. but if there are concerns, what exactly are they and what steps can i take to have a secure setup?","if you expose your database to the world with a weak password for a database superuser, that will definitely lower your security in a substantial way. hackers routinely patrol for such weak settings and exploit them, mostly for cryptocurrency mining but also to add you to botnets. in those cases they dont care about your database itself, it is just a way in to get at your cpunetwork connection. they might also probe for valuable information appearing in your database, in which case they dont even need to be a superuser. if you always run the latest bugfix version and use a strong password like the output of pwgen 20 sy 1 and use ssl or if you correctly use some other method of authentication and encryption, then it will lower security by only a minimal amount. if you personally control every password, and ensure they are strong, and test that they are configured correctly to be required for log on e.g. intentionally enter it wrong once to make sure you get rejected, i wouldnt worry too much the port forwarding providing bad guys access to the machine. if you care about people being able to eavesdrop on the data being sent back and forth, then you also need ssl. encrypted tunnels of course are another solution which i am not addressing.",0,postgresql;security;network-programming;raspberry-pi,2020-03-17
60694810,raspberry pi home security system request for guidance,"i had a quick opinion question regarding a raspberry pipython based home security system im working on. my end goal is to have magnetic doorwindow sensors being monitored by a raspberry pi 4 server. if a window or door is opened while the system is armed it will play an alarm sound to the connected speakers. i would then have raspberry pi zero w powered keypad panels with lcd screens and a 12 digit keypad that would allow me to see whether the system is armed or disarmed and allow me to input the passcode to arm or disarm the system. the raspberry pi zero w panels would connect to the raspberry pi 4 server over the network. i already have a somewhat functional test system running in a single python script with everything connected to the raspberry pi 4 link below. however, im now at a point where i need to figure out how to tie in the raspberry pi zero w keypad panels i would like to integrate over the network. my question for you all is how would you go about implementing the network connectivity portion of this? should i use something like node.js with some kind of database? perhaps the socket module in python for something lowlevel? something else entirely? im up for any and all suggestions for how to go about this. please let me know if you have any questions. thanks in advance! poorly done diagram current working code","if this was me, as you have the power of a full fat pi 4, i would use a php web server on the server pi that the other nodes post to. this will give you the benefit of not having to deal with low level networking. you could also potentially add further devices or web services in the future with more integration opportunities. you would then need to interface python to the php server however this could be done with a simple text file or alike.",1,security;raspberry-pi;lcd;keypad;raspberry-pi4,2020-03-15
55971240,protection of firebase raspberry pi infrastructure,"im creating a system that will be on a public site and will use firebase raspberry pi android, there will be several machines and they will all share services. the problem is that the machine being in a public place and being using raspberry pi the code will not be encrypted and can be accessed by extracting the sd card. i do not care if they can see the code, i will try to centralize what i can in the cloud and seal in some way the raspberry, what worries me is that being the configuration files of firebase in the raspberry pi someone can access and use them to do something that should not, for example consult modify delete private data in the database of that machine or other. any ideas to protect these services andor the code that is in the raspberry pi and add more security to this infrastructure? regards.",,2,android;firebase;security;raspberry-pi;raspberry-pi3,2019-05-03
45370622,how to secure automatic ssh connection,i have raspberry pi 3 which has 4g modem dongle attached to it. it works autonomously and every one in a while has to connect to my server via ssh. this is done by service script either with password or with key authentication which both require passwordpassphrase to be present in a script or in a file. the problem is that anyone can take out rpi sd card and take that passwordpassphrase or idrsa key itself. are there any secure solutions for this?,,1,linux;security;ssh;raspberry-pi,2017-07-28
44422353,python close a loop on keypress,"i am building an motion detection security camera with a raspberry pi the code works fine, but i want the device to run my python code at startup and i want it to close the program when i hit a certain key. as of now, the program runs but wont get out of the loop so i cant get to the raspberry pi desktop my workaround to this is turning the device off, manually removing the camera, turn the device back on, to get an error because camera is not detected which exits the code to the desktop....very inefficient i know! essentially, this code was written to run the program from a pi that is connected to a monitor, keyboard, etc. i want to just plug it in somewhere and have it arm the camera. then after i return to the house work, vacation, etc, i want to plug in a keyboard, hit a key to exit the program, shutdown safly and be able to view any security incidents when i connect it to a monitor. script code from gpiozero import motionsensor from picamera import picamera from datetime import datetime camera picamera pir motionsensor4 while true pir.waitformotion filename datetime.now.strftimeymdh.m.s.h264 camera.startrecordingfilename pir.waitfornomotion camera.stoprecording","you can stop program execution with ctrl c in the command line window that the script is running in. if youd like to still do some processing, then wrap your while loop in an try block as such try while true pir.waitformotion filename datetime.now.strftimeymdh.m.s.h264 camera.startrecordingfilename pir.waitfornomotion camera.stoprecording except keyboardinterrupt pass continue your code here if youd like to pick the key that stops the program other than ctrl c andor have it stop when you press your key from anywhere in the os, then id recommend using the keyboard library.",0,python;loops;security;raspberry-pi;exit,2017-06-07
44346821,"after securing my webserver rpi from foreign ssh logins, i found this perl script on my computer. can someone tell me what it does?","there was an account named user that would be used for these logins, which would be from all over the world. i spent several hours yesterday securing the computer and there have been no logins since that time. i awked the varlogauth.log into a list of ips ordered from oldest to most recent login, if that somehow helps 185.145.252.26 185.145.252.36 109.236.83.3 104.167.2.4 217.23.13.125 185.38.148.238 194.88.106.146 43.225.107.70 194.88.107.163 192.162.101.217 62.112.11.88 194.63.141.141 194.88.107.162 74.222.19.247 194.88.107.164 178.137.184.237 167.114.210.108 5.196.76.41 118.70.72.25 109.236.91.85 62.112.11.222 91.195.103.172 62.112.11.94 62.112.11.90 188.27.75.73 194.88.106.197 194.88.107.165 38.84.132.236 91.197.235.11 62.112.11.79 62.112.11.223 144.76.112.21 185.8.7.144 91.230.47.91 91.230.47.92 91.195.103.189 91.230.47.89 91.230.47.90 109.236.89.72 195.228.11.82 109.236.92.184 46.175.121.38 94.177.190.188 171.251.76.179 173.212.230.79 144.217.75.30 5.141.202.235 31.207.47.36 62.112.11.86 217.23.2.183 217.23.1.87 154.122.98.44 41.47.42.128 41.242.137.33 171.232.175.131 41.114.123.190 1.54.115.72 108.170.8.185 86.121.85.122 91.197.232.103 160.0.224.69 217.23.2.77 212.83.171.102 41.145.17.243 62.112.11.81 82.79.252.36 41.114.63.134 5.56.133.126 109.120.131.106 76.68.108.151 113.20.108.27 46.246.61.20 146.185.28.52 45.32.219.199 one of the first things i did after changing the password of the user account was running history, which gave me this result 1 sudo 2 sudo 3 sudo service vsftpd stop 4 su clay 5 unset promptcommand 6 ps1pexpect 7 wget o bing 8 wget o word perl bing word 9 wget o word perl bing word 10 uname 11 n 12 uname 13 history i then ran cat homeuser.bashhistory for more but what i already had was all that was in the file. in users home folder, i found four files, bing, output.13.19.27.txt , output.16.10.38.txt, and word. all were empty except bing, which was a perl script !usrbinperl use strict use lwpuseragent use lwpsimple use posix qwstrftime my data strftime h.m.s, gmtime my argc argv if argc !1 printf 0 arquivo.txtn printf coded by al3xg0 xn exit1 my st rand my filename argv0 print input filename filenamen my maxresults 2 open ifh, lt filename or die ! open ofh, gt output.data.txt or die ! while ltifhgt next if my searchword searchword sn print results for searchwordn for my i 0 i lt maxresults i 10 my b lwpuseragentgtnewagent gt mozilla4.8 en windows nt 6.0 u bgttimeout30 bgtenvproxy my c bgtget . searchword . ampfirst . i . ampformperegtcontent my check indexc, sbpagn if check 1 last while 1 my n indexc, lth2gtlta href if n 1 last c substrc, n 13 my s substrc, 0, indexc, my save undef if s save s print saven if save ! print ofh saven print saven getprint print n close ifh close ofh i dont know perl, and after spending so much time with sshd config, blacklists, etc., i dont really have the time or energy to learn. if anyone could tell me what the script does andor what the attackers were trying to do that would be great. thanks so much, clay edit i found this article that could explain the purpose of the bing search script","it reads the file passed on the command line, and uses each line as a phrase to do a bing search. it prints the url of every search result returned by bing, and also sends it to where saveis the url it used to write the same urls to the output.hh.mm.ss.txt files, but that line has been commented out so the files are created but left empty so its just a commandline bing search nothing too sinister. essentially nothing that they couldnt run on any machine that has access to bing || this is not an answer but merely an overlong comment about the observations i made. when i issue the wget ... o word commands, it works for me and i receive two files full of words. looks like a list of random words, maybe passwords for a bruteforce attack first file excerpt kalcio kalciolaria kalciolariaconia2 kalciov kalcistn kalcit kalcit kalcita ... second file excerpt curious2s curious2saab95 curious2saab95 curious2see curious2see curious2squeak2 curious2swingineverton curious2tender curious2tryany2asdfg curious2tryit curious2trythre092703 ... the perl script bing is written by someone whos not familiar with perl. he uses beginners style from bad tutorials andor obviously doesnt know the language very well. because he issued su clay he might know that such a user presumably your user even exists on that machine, without examining etcpasswd or similar. as borodin and melpomene say, the script searches bing for these words and then parses the resulting bingpage for urls and then submits them to post.silverlords.org. as the script currently is, it only abuses your computers cpu and network to get its work done. the work is to massively submit bing searches for all the words and collect the results at post.silverlords.org.",-1,linux;perl;security;raspberry-pi,2017-06-03
43001838,password and login handerling by php motion rpi,"for the moment i do a little experiment with motion on the raspberry pi so that i can create my own little cheap security system p. so i add a password on the stream for my case sanderpi8081 and also to the configuration page sanderpi8080 so now the user had to insert the password and login to get access. so i want to create a login page that ask a password and login that is connected with a database and when the combination is correct he get access to the webpage that i created. so for now the user needs to insert also the password and login for the stream but is it possible to handle that automatically by php that i say that the username is admin and the password is 1234, so that the user not need to do 2 logins?",,0,php;security;authentication;raspberry-pi;motion,2017-03-24
42145566,what39s the potential risk to my local network if i set port forwarding for raspberry pi,"i recently setup my rpi just for learning linux, python and some basic electric circuit for small projects. sometime i need to access to my system through internet, so i set port forwarding function to open port 22 and 80 for raspberry pi. since this is only for learning purpose, theres really nothing important and theres no sensitive data saved on this machine. so i dont worry much about the security issue. what i really worry is other than the raspberry pi, is there any risk to my other devices inside same local network? is it possibleor easy to hack those devices only from that open port?","the answer to your question, as stated is no, there is no notable risk to your other devices from those open ports to your raspberry pi. however, if someone is to compromise you, theyd need to first compromise your pi and then use that. any vulnerabilities would require that someone is able to compromise either ssh or http on the raspberry pi that there is something that they can do with that information. practically, if you have a secure ssh setup and are running your http server in a way that is secure, it is very unlikely that anyone could do anything. if they did, theyd need to compromise. if you use keys for ssh login and dont do anything nonstandard for you should be plenty good. you can also change the ssh port to run on a nonstandard port and that will obscure things slightly, though it will not change the theoretical vulnerabilities.",-1,linux;security;raspberry-pi;local-network,2017-02-09
41337381,authenticating a raspberry pi http request,"i am making a raspberry pi kiosk using chromium. the html pages will be contained on the pi and the information on the pages will be returned through ajax json. similar to an api. they make requests to my server using ssl. the information should be kept private and only allowed to be accessed by the pi. there is no login to the kiosk, its kinna a plug and play thing. what type of authentication should i use to verify that only the pi is returned the data and on one else? a rotating token stored on the pi? checking ip? static token? use apache htaccess? server is using php and mysql on apache front end is html and js stored on the pi",the simplest reliable solution is probably apache basic auth. its a perfectly acceptable solution combined with ssl as you already said youre using so the password gets encrypted. there is a setup guide here. it works very well and is easy to configure. then just use urls like this,1,javascript;php;apache;security;raspberry-pi,2016-12-27
41061282,an idea for upload data in remote database in python,"im tryng to find a solution for upload data on a remote mysql database using a python daemon. my base script use a simple query insert into.... but in top of the script there are in clear the credentials to connect on database conn mysqldb.connecthost192.168.1.123, userroot, passwdpaw0rd, dbmydb i do not want anyone reading the python script can access the database directly. i need to use python scripts on clients the server with mysql db is on cloud the clients are raspberry pi in the server i can use php","several ways 1. use mysql.cnf file mysql cnf files is a config file storing mysql credentials, if this server or client executing the script has one, you can use it like dbmysql.connecthostouthouse,dbthangs,readdefaultfile.my.cnf credentials are not in your python script anymore, but they are clear in cnf file anyway and you must have this file in the same place everywhere you want to use your script. source 2. command line argument you can parse command line arguments to get credentials from it like import sys user sys.argv1 password sys.argv2 conn mysqldb.connecthost192.168.1.123, useruser, passwdpassword, dbmydb and so execute your script with python myscript root paw0rd with this method credentials cant be found in any config file, but you have to execute it with arguments, if its a deamon it can be ok, but if you want to use it as cron by example, you will have to write credentials in crontab, so not so safe. 3. environment variables another way is to use environment variables import os conn mysqldb.connecthost192.168.1.123, useros.environmysqluser, passwdos.environmysqlpassword, dbmydb but you will have to set these variables somewhere. in .bashprofile, etcprofile or by command line. so if somebody access to user that can execute script, he can read password. 4. encoding encoding seems to be a good way to hide password, but in fact you can not really hide from someone who can access to the right user in the right server. encoded string without salt is easy to decode, some encoding methods are easy to spot and can be decoded by anyone. using a salt will make work more harder, but if somebody can access to you code, it will be easy to locate salt phrase no matter if salt is stored in environment var, in a file or directly in code. using .pyc files can be an idea too, but first, its not recommended and anybody can read content by creating a python script importing this pyc file and print what stored in. encoding credentials still is still a good thing, but encoded string can always be decoded, if your code can, somebody with access to it can too. a simple print password added in your code and regardless of the used method the password will be accessible. so you have to secure your python code, but unix users amp groups too and mysql config too.",0,php;python;mysql;security;raspberry-pi,2016-12-09
36856247,protect python code in raspberry pi,"im a few weeks away from finishing up a python project written for raspberry pi 2 b, on raspbian os. the only thing im still afraid is, how to protect my code from others? anyone can connect a screen with hdmi cable, and easily access my raspberry pi. in windows, just compile your code as executable .exe file and all done. but what should i do in linux? any suggestions would be appreciated.",,0,python;linux;security;raspberry-pi;raspbian,2016-04-26
34850588,how to send email from consumer device?,"what is the right way to send email from an consumer product? say your are developing the forgot password functionality on an app, running on a micro computer like the raspberrypi that the user can buy of the shelf? on one hand, the consumer cant be bothered to enter its own smtp credentials. on the other hand, storing the manufacturers smtp credentials is a security flaw, because the hardware with physical access can be easily hacked.","if you want to build a forgot password functionality, you should build out an api on a server that you control that has the forgot password functionality. then, you can send the email to them with the temporary reset values, and you wouldnt need to ship your smtp credentials on their device.",0,security;email;raspberry-pi;iot,2016-01-18
25657743,send video file via python,"i need to figure out how to make a script that scans for new files in a directory, and when there is a new one, sends the file via email. someone keeps stealing bikes in my apartment building! first it was my fault i for got to lock it, now the crook upgraded by cutting chains. i had it after the crook stole my second bike by cutting 12 inch airplane wire. anyway, using a raspberry pi as a motion activated security camera, i want it to send me a video file as soon as the video program finishes recording it. this is incase they steal the pi. i am looking at these examples, but i cant figure how to make the script run continuously every minute or how to make it scan a folder for a new file. how do i send attachments using smtp? ok i got it down to scanning and then trying to email. it fails when trying to attach the video file. can you help? here is the revised code the failure is msg mimemultipart typeerror lazyimporter object is not callable, line 38 import time, glob import smtplib import email.mimemultipart from email.mimebase import mimebase from email.mimetext import mimetext from email.utils import commaspace, formatdate from email import encoders, mimemultipart import os settings fromemail jose garcia ltsomerandomemailgmail.comgt loginnamesomerandomemailgmail.com loginpasswordsomerandomepassword toemail jose garcia ltsomerandomemailgmail.comgt smtpserversmtp.gmail.com smtport587 fileslocationuserssomeonedesktoptest.mp4 subjectsecurity notification def mainloop filesglob.globfileslocation put whatever path and file format youre using in there. while 1 newfilesglob.globfileslocation if lennewfilesgtlenfiles for x in newfiles if x in files printnew file detected x printabout to call send email sendmailloginname, loginpassword, toemail, fromemail, subject, gethtmlcode, x, smtpserver, smtport filesnewfiles time.sleep1 def sendmaillogin, password, to, frome, subject, text, filee, server, port assert typetolist assert typefileelist msg mimemultipart msgfrom frome msgto commaspace.jointo msgdate formatdatelocaltimetrue msgsubject subject msg.attach mimetexttext for filee in files part mimebaseapplication, octetstream part.setpayload openfilee,rb.read encoders.encodebase64part part.addheadercontentdisposition, attachment filenames os.path.basenamefilee msg.attachpart smtp smtplib.smtpsmtpserver, smtport smtp.sendmailfrome, to, msg.asstring server.setdebuglevel1 server.starttls server.ehlo server.loginlogin, password server.sendmailfrome, to, msg server.quit def gethtmlcode printabout to assemble html html lt!doctype html public w3cdtd xhtml 1.0 transitionalen html xmlns html ltbody stylefontsize12pxfontfamilyverdanagtltpgta new video file has been recorded ltpgt html ltbodygtlthtmlgt returnhtml execute loop mainloop","i finally got it working. i had to use python 2.5 to get rid of the lazyimporter error. every time a new file is added to the security folder, it gets emailed to me. logging is broken. import time, glob import smtplib from email.mimemultipart import mimemultipart from email.mimemultipart import mimebase from email.mimetext import mimetext from email.utils import commaspace, formatdate import datetime from email import encoders import os import sys settings fromemail raspberrypi security camera ltsomeonegt loginnamesomeonegmail.com loginpasswordsomething toemail jose garcia lt someonegmail.comgt smtpserversmtp.gmail.com smtport587 fileslocationuserssomeonedesktoptest. subjectsecurity notification loglogfile.txt def mainloop filesglob.globfileslocation put whatever path and file format youre using in there. while 1 f openlog, w sys.stdout teesys.stdout, f newfilesglob.globfileslocation if lennewfilesgtlenfiles for x in newfiles if x in files printstrdatetime.datetime.now new file detected x sendmailloginname, loginpassword, toemail, fromemail, subject, gettext, x, smtpserver, smtport filesnewfiles f.close time.sleep1 def sendmaillogin, password, sendto, sendfrom, subject, text, sendfile, server, port msg mimemultipart msgfrom sendfrom msgto commaspace.joinsendto msgdate formatdatelocaltimetrue msgsubject subject msg.attach mimetexttext part mimebaseapplication, octetstream part.setpayload opensendfile,rb.read encoders.encodebase64part part.addheadercontentdisposition, attachment filenames os.path.basenamesendfile msg.attachpart smtp smtplib.smtpsmtpserver, smtport smtp.setdebuglevel1 smtp.ehlo smtp.starttls smtp.loginlogin, password smtp.sendmailsendfrom, sendto, msg.asstring smtp.close def gettext text a new file has been added to the security footage folder. ntime stamp strdatetime.datetime.now returntext class teeobject def initself, files self.files files def writeself, obj for f in self.files f.writeobj execute loop mainloop || it looks like the email module has been refactored over time. this fixed the lazyimporter object not callable error for me on python 2.7 from email.mime.text import mimetext noteably it was not happy with what i thought were synonyms like import email email.mime.text.mimetext... || i use python3 and i could not for the life of me get any of these examples to work, but i was able to come up with something that works and is a whole lot simpler. import smtplib from email.message import emailmessage from email.mime.base import mimebase from email import encoders defining objects and importing files initializing video object videofile mimebaseapplication, quotoctetstreamquot importing video file videofile.setpayloadopenvideo.mkv, quotrbquot.read encoding video for attaching to the email encoders.encodebase64videofile creating emailmessage object msg emailmessage loading message information msgfrom quotpersonsendinggmail.comquot msgto quotpersonreceivinggmail.comquot msgsubject text for the subject line msg.setcontenttext that will be in the email body. msg.addattachmentvideofile, filenamequotvideo.mkvquot start smtp server and sending the email serversmtplib.smtpsslsmtp.gmail.com,465 server.loginquotpersonsendinggmail.comquot, quotsomecleverpasswordquot server.sendmessagemsg server.quit",-2,python;security;email;raspberry-pi,2014-09-04
24478583,rpi ldap netboot sd crypt,"hello everyone, i am doing a project with rpi, i want rpi to boot by internet, user login must be check with a server, and i want the sd to be encrypted. i want all of these because i do not want the information inside rpi to be hack, i want to protect all the information and the use of this by a server. is this possible? how could i do it? what do you app recommend me? i need an orientation to continue reading and investigating. best regards thank you for your help! joseluis",,0,security;encryption;ldap;raspberry-pi;nfs,2014-06-29
21869936,storing keys on user devices,"so say i have some random hardware box i send out to customers. in this case, itll be a raspberry pi inside. i want that pi to be able to connect securely to a web service that is only accessible by the raspberries that i have. each pi contains its own key that it uses to verify with the web service. in this case, think of the rpi as any other embedded user device. it boots up and just does its own thing to call home. the user doesnt enter anything. is there any way to securely store these keys on the pi? i wouldnt want people to be able to connect to the web service and verify with some keys they read off the sd card. im used to dealing with this in the context of a user providing access to the keys with a keyring or something like that, but im not sure how you could store keys on an embedded device that requires there be no user input without using some ridiculous secure bootloader scheme or something like that.","if the key must be stored on the pi somehow, and anything on the pi can be read, youre out of luck. any sort of key or algorithm you might use to come up with something to transmit can be copied and faked by a third party. here is a post with some ideas of how to try to secure a pi running linux",2,security;cryptography;raspberry-pi,2014-02-19
21347598,securing your server from the process of collecting data from insecure machines,"i am using multiple 30 raspberry pi to collect field data and want to send this data to my mysql server. what are the best practices to secure my server as much as possible? should i have the client connect to an intermediary like phpjava that checks a database of usernamespasswords with rate limiting etc, or use fail2ban and connect directly to the mysql server?",,0,mysql;security;database-connection;raspberry-pi,2014-01-25
20613251,ssh to raspberry pi with same ip but interchangeable os?,"i have a raspberry pi which i run with two different operating systems by booting up with different sd cards. this rpi has a static internal ip address and the same iface mac address, as both operating systems have a public ip whenever they are running, allowing me to ssh from work. the problem is that i can only ssh into one operating system given that my knownhosts only recognises one key per host, so i would have to delete each time the knownhosts entry whenever the operating systemsd card changes. ive created two different rsa keys for each system, and on my local machine under .sshconfig given each host an alias and corresponding identifyfile key, but i still come across the same issue. ive also created one key for both system and still come across the same issue. is there any waymethod to ssh into my rpi regardless of the os without having to delete the key each time from knownhosts?",,1,security;ssh;raspberry-pi;ssh-keys,2013-12-16
